(()=>{var e={27:(e,t,n)=>{var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=u.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=null,s=0,p=[],d=n(874);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(_(r.parts[i],t))}else{var u=[];for(i=0;i<r.parts.length;i++)u.push(_(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:u}}}}function m(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],u={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function y(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(e.insertAt.before,n);n.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return h(t,e.attrs),y(e,t),t}function h(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function _(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=s++;n=l||(l=b(t)),r=O.bind(null,n,i,!1),o=O.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",h(t,e.attrs),y(e,t),t}(t),r=w.bind(null,n,t),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=E.bind(null,n),o=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return f(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(u=a[i.id]).refs--,r.push(u)}e&&f(m(e,t),t);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function O(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function E(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function w(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(i),u&&URL.revokeObjectURL(u)}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(354),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,'.active[data-flume-component="node"] > h2{\n    background-color:indianred;\n}\n.started[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(218, 194, 60);\n}\n.queued[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(84, 131, 202);\n}\n.finished[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(55, 189, 126);\n}\n.failed[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(196, 64, 64);\n}\n.deferred[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(194, 194, 194);\n}\n.stopped[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(145, 73, 73);\n}\n.scheduled[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(73, 116, 145);\n}\n.canceled[data-flume-component="node"] {\n    border-bottom: 5px solid rgb(107, 109, 94);\n}',"",{version:3,sources:["webpack://./src/lib/components/nodeeditor.css"],names:[],mappings:"AAAA;IACI,0BAA0B;AAC9B;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,2CAA2C;AAC/C;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C",sourcesContent:['.active[data-flume-component="node"] > h2{\r\n    background-color:indianred;\r\n}\r\n.started[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(218, 194, 60);\r\n}\r\n.queued[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(84, 131, 202);\r\n}\r\n.finished[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(55, 189, 126);\r\n}\r\n.failed[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(196, 64, 64);\r\n}\r\n.deferred[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(194, 194, 194);\r\n}\r\n.stopped[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(145, 73, 73);\r\n}\r\n.scheduled[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(73, 116, 145);\r\n}\r\n.canceled[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(107, 109, 94);\r\n}'],sourceRoot:""}]);const u=i},809:(e,t,n)=>{var r=n(635);"string"==typeof r&&(r=[[e.id,r,""]]);var o={insertAt:"top",hmr:!0,transform:undefined,insertInto:void 0};n(27)(r,o);r.locals&&(e.exports=r.locals)},874:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,o=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),n=[],r=0;r<t.length;r++)n.push(t[r]);e=(n=n.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(r=o().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var a=jsonpScriptSrc;jsonpScriptSrc=function(e){var t=function(e){return/\/_dash-component-suites\//.test(e.src)}(o()),n=a(e);if(!t)return n;var r=n.split("/"),i=r.slice(-1)[0].split(".");return i.splice(1,0,"v0_1_3m1742049986"),r.splice(-1,1,i.join(".")),r.join("/")}}n.nc=void 0;var i={};(()=>{"use strict";n.r(i),n.d(i,{Flowfunc:()=>Rl});const e=window.React;var t=n.n(e);const r=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function o(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function a(e){return function t(n){return 0===arguments.length||o(n)?t:e.apply(this,arguments)}}function u(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return o(n)?t:a((function(t){return e(n,t)}));default:return o(n)&&o(r)?t:o(n)?a((function(t){return e(t,r)})):o(r)?a((function(t){return e(n,t)})):e(n,r)}}}function c(e){return"[object String]"===Object.prototype.toString.call(e)}"undefined"!=typeof Symbol&&Symbol.iterator;function l(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var s=Object.prototype.toString,p=function(){return"[object Arguments]"===s.call(arguments)?function(e){return"[object Arguments]"===s.call(e)}:function(e){return l("callee",e)}}();const d=p;var f=!{toString:null}.propertyIsEnumerable("toString"),m=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=function(){return arguments.propertyIsEnumerable("length")}(),v=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const b="function"!=typeof Object.keys||y?a((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=y&&d(e);for(t in e)!l(t,e)||o&&"length"===t||(r[r.length]=t);if(f)for(n=m.length-1;n>=0;)l(t=m[n],e)&&!v(r,t)&&(r[r.length]=t),n-=1;return r})):a((function(e){return Object(e)!==e?[]:Object.keys(e)}));Number.isInteger;function h(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function _(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}const g="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};const x=a((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function O(e,t,n,r){var o=h(e);function a(e,t){return E(e,t,n.slice(),r.slice())}return!_((function(e,t){return!_(a,t,e)}),h(t),o)}function E(e,t,n,r){if(g(e,t))return!0;var o,a,i=x(e);if(i!==x(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(a=String(o).match(/^function (\w*)/))?"":a[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!g(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!g(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var u=n.length-1;u>=0;){if(n[u]===e)return r[u]===t;u-=1}switch(i){case"Map":return e.size===t.size&&O(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&O(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=b(e);if(c.length!==b(t).length)return!1;var s=n.concat([e]),p=r.concat([t]);for(u=c.length-1;u>=0;){var d=c[u];if(!l(d,t)||!E(t[d],e[d],s,p))return!1;u-=1}return!0}const w=u((function(e,t){return E(e,t,[],[])}));var j=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function C(e){return"[object Object]"===Object.prototype.toString.call(e)}var S=a((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():r(e)?[]:c(e)?"":C(e)?{}:d(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0}));const T=S;var N=a((function(e){return null==e}));const P=N;const A=u((function(e,t){return!P(t)&&e in t}));"function"==typeof Object.assign&&Object.assign;var k=a((function(e){return null!=e&&w(e,T(e))}));const I=k;var D="\t\n\v\f\r                　\u2028\u2029\ufeff";String.prototype.trim;const R=window.ReactDOM;var M=n.n(R);const L=window.PropTypes;var B=n.n(L);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},F=V()?t().useLayoutEffect:t().useEffect;function V(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Y=!1,X=0,K=function(){return++X};function J(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Q="Stage_wrapper__1X5K_",G="Stage_transformWrapper__3CfIp",$="Stage_scaleWrapper__2Y7Ck";J(".Stage_wrapper__1X5K_ {\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  background-color: rgb(26, 28, 29);\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    );\n  color: #000;\n  background-size: 30px 30px;\n  position: relative;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  font-family: Helvetica, sans-serif;\n  text-align: left;\n  line-height: 1;\n  outline: none !important;\n}\n.Stage_wrapper__1X5K_ * {\n  box-sizing: border-box;\n}\n.Stage_wrapper__1X5K_ input,\ntextarea,\nselect {\n  font-family: Helvetica, sans-serif;\n}\n.Stage_transformWrapper__3CfIp {\n  transform-origin: center center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0px;\n  height: 0px;\n}\n.Stage_scaleWrapper__2Y7Ck {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n}\n");var Z=!("undefined"==typeof window||!window.document||!window.document.createElement),ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ee(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return Z?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),M().createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(t().Component);te.propTypes={children:B().node.isRequired,node:B().any};var ne=te,re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oe=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),re(n,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){M().unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var n=this.props.children;"function"==typeof this.props.children.type&&(n=t().cloneElement(this.props.children)),this.portal=M().unstable_renderSubtreeIntoContainer(this,n,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),n}(t().Component),ae=oe;oe.propTypes={children:B().node.isRequired,node:B().any};var ie=M().createPortal?ne:ae,ue="ContextMenu_menuWrapper__1BheJ",ce="ContextMenu_menuHeader__1Cw58",le="ContextMenu_menuLabel__158Pv",se="ContextMenu_optionsWrapper__2YK_z",pe="ContextMenu_menuFilter__1goBp",de="ContextMenu_option__33MDL",fe="ContextMenu_emptyText__2rcXy";J(".ContextMenu_menuWrapper__1BheJ{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  font-size: 14px;\n  max-width: 300px;\n  min-width: 150px;\n  font-family: Helvetica, sans-serif;\n  line-height: 1.15;\n  outline: none;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ContextMenu_menuWrapper__1BheJ{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ContextMenu_menuHeader__1Cw58{\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuLabel__158Pv{\n  margin: 0px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n}\n.ContextMenu_optionsWrapper__2YK_z{\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuFilter__1goBp{\n  border: none;\n  background: none;\n  height: 24px;\n  flex: 1 1 auto;\n  width: 100%;\n  outline: none;\n  color: #fff;\n}\n.ContextMenu_menuFilter__1goBp::placeholder{\n    font-style: italic;\n  }\n.ContextMenu_option__33MDL{\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  color: #ffffff;\n}\n.ContextMenu_option__33MDL:last-child{\n    border-bottom: none;\n  }\n.ContextMenu_option__33MDL:hover{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_option__33MDL label{\n    margin-bottom: 5px;\n    user-select: none;\n  }\n.ContextMenu_option__33MDL label:last-child{\n      margin-bottom: 0px;\n    }\n.ContextMenu_option__33MDL p{\n    margin: 0px;\n    font-style: italic;\n    font-size: 12px;\n    color: rgb(182, 186, 194);\n    user-select: none;\n  }\n.ContextMenu_option__33MDL[data-selected=true]{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_emptyText__2rcXy{\n  color: #fff;\n  padding: 5px;\n}\n");var me=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},ye=/\s/;var ve=function(e){for(var t=e.length;t--&&ye.test(e.charAt(t)););return t},be=/^\s+/;var he=function(e){return e?e.slice(0,ve(e)+1).replace(be,""):e};var _e=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ge="object"==typeof H&&H&&H.Object===Object&&H,xe=ge,Oe="object"==typeof self&&self&&self.Object===Object&&self,Ee=xe||Oe||Function("return this")(),we=Ee.Symbol,je=we,Ce=Object.prototype,Se=Ce.hasOwnProperty,Te=Ce.toString,Ne=je?je.toStringTag:void 0;var Pe=function(e){var t=Se.call(e,Ne),n=e[Ne];try{e[Ne]=void 0;var r=!0}catch(e){}var o=Te.call(e);return r&&(t?e[Ne]=n:delete e[Ne]),o},Ae=Object.prototype.toString;var ke=Pe,Ie=function(e){return Ae.call(e)},De=we?we.toStringTag:void 0;var Re=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":De&&De in Object(e)?ke(e):Ie(e)};var Me=function(e){return null!=e&&"object"==typeof e},Le=Re,Be=Me;var ze=function(e){return"symbol"==typeof e||Be(e)&&"[object Symbol]"==Le(e)},qe=he,Ue=_e,We=ze,He=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,Ye=parseInt;var Xe=me,Ke=function(e){if("number"==typeof e)return e;if(We(e))return NaN;if(Ue(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ue(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qe(e);var n=Fe.test(e);return n||Ve.test(e)?Ye(e.slice(2),n?2:8):He.test(e)?NaN:+e};var Je=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Ke(n))==n?n:0),void 0!==t&&(t=(t=Ke(t))==t?t:0),Xe(Ke(e),t,n)};let Qe=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t};var Ge=function(e){var n=e.x,r=e.y,o=e.options,a=void 0===o?[]:o,i=e.onRequestClose,u=e.onOptionSelected,c=e.label,l=e.hideHeader,s=e.hideFilter,p=e.emptyText,d=t().useRef(null),f=t().useRef(null),m=t().useRef(null),y=W(t().useState(""),2),v=y[0],b=y[1],h=W(t().useState(0),2),_=h[0],g=h[1],x=W(t().useState(0),2),O=x[0],E=x[1],w=t().useRef(Qe(10)),j=function(e){u(e),i()},C=t().useCallback((function(e){d.current&&!d.current.contains(e.target)&&(i(),document.removeEventListener("click",C,{capture:!0}),document.removeEventListener("contextmenu",C,{capture:!0}))}),[d,i]),S=t().useCallback((function(e){27===e.keyCode&&(i(),document.removeEventListener("keydown",S,{capture:!0}))}),[i]);t().useEffect((function(){var e,t,n;return m.current&&m.current.focus(),g(null!==(e=null===(t=d.current)||void 0===t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.width)&&void 0!==e?e:0),document.addEventListener("keydown",S,{capture:!0}),document.addEventListener("click",C,{capture:!0}),document.addEventListener("contextmenu",C,{capture:!0}),function(){document.removeEventListener("click",C,{capture:!0}),document.removeEventListener("contextmenu",C,{capture:!0}),document.removeEventListener("keydown",S,{capture:!0})}}),[C,S]);var T=t().useMemo((function(){if(!v)return a;var e=v.toLowerCase();return a.filter((function(t){return t.label.toLowerCase().includes(e)}))}),[v,a]);return t().useEffect((function(){var e;(s||l)&&(null===(e=d.current)||void 0===e||e.focus())}),[s,l]),t().useEffect((function(){var e=document.getElementById("".concat(w.current,"-").concat(O));if(e){var t,n=null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.getBoundingClientRect();n&&(r.y+r.height>n.y+n.height||r.y<n.y)&&e.scrollIntoView({block:"nearest"})}}),[O]),t().createElement("div",{"data-flume-component":"ctx-menu",className:ue,onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){if(38===e.which&&(e.preventDefault(),null===O?E(0):O>0&&E((function(e){return(e||0)-1}))),40===e.which&&(e.preventDefault(),null===O?E(0):O<T.length-1&&E((function(e){return(e||0)+1}))),13===e.which&&null!==O){var t=T[O];t&&j(t)}},style:{left:n,top:r,width:v?_:"auto"},ref:d,tabIndex:0,role:"menu","aria-activedescendant":"".concat(w.current,"-").concat(O)},l||!c&&!a.length?null:t().createElement("div",{className:ce,"data-flume-component":"ctx-menu-header"},t().createElement("label",{className:le,"data-flume-component":"ctx-menu-title"},c),!s&&a.length?t().createElement("input",{"data-flume-component":"ctx-menu-input",type:"text",placeholder:"Filter options",value:v,onChange:function(e){var t=e.target.value;b(t),E(0)},className:pe,autoFocus:!0,ref:m}):null),t().createElement("div",{"data-flume-component":"ctx-menu-list",className:se,role:"menu",ref:f,style:{maxHeight:Je(window.innerHeight-r-70,10,300)}},T.map((function(e,n){return t().createElement($e,{menuId:w.current,selected:O===n,onClick:function(){return j(e)},onMouseEnter:function(){return E(null)},index:n,key:e.value+n},t().createElement("label",null,e.label),e.description?t().createElement("p",null,e.description):null)})),a.length?null:t().createElement("span",{"data-flume-component":"ctx-menu-empty",className:fe},p)))},$e=function(e){var n=e.menuId,r=e.index,o=e.children,a=e.onClick,i=e.selected,u=e.onMouseEnter;return t().createElement("div",{"data-flume-component":"ctx-menu-option",className:de,role:"menuitem",onClick:a,onMouseEnter:u,"data-selected":i,id:"".concat(n,"-").concat(r)},o)},Ze=t().createContext(null),et=t().createContext(null),tt=t().createContext(null),nt=t().createContext(null),rt=t().createContext(null),ot=t().createContext(null),at=t().createContext(null),it=t().createContext(null),ut=t().createContext("");function ct(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lt=["children","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef"];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt=function(e){var n=e.children,r=e.stageState,o=e.stageRect,a=e.onDragDelayStart,i=e.onDragStart,u=e.onDrag,c=e.onDragEnd,l=e.onMouseDown,s=e.onTouchStart,p=e.disabled,d=e.delay,f=void 0===d?6:d,m=e.innerRef,y=ct(e,lt),v=t().useRef(null),b=t().useRef(),h=t().useRef(null),_=function(e){return 1/r.scale*e},g=function(e){var t,n,a,i,u,c,l,s,p,d,f,m,y=null!==(t=null===(n=b.current)||void 0===n?void 0:n.x)&&void 0!==t?t:0,v=null!==(a=null===(i=b.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0;return{x:_(e.clientX-(o&&null!==(u=null===(c=o.current)||void 0===c?void 0:c.left)&&void 0!==u?u:0)-y-(o&&null!==(l=null===(s=o.current)||void 0===s?void 0:s.width)&&void 0!==l?l:0)/2)+_(r.translate.x),y:_(e.clientY-(o&&null!==(p=null===(d=o.current)||void 0===d?void 0:d.top)&&void 0!==p?p:0)-v-(o&&null!==(f=null===(m=o.current)||void 0===m?void 0:m.height)&&void 0!==f?f:0)/2)+_(r.translate.y)}},x=function(e){var t=g(e);u&&u(t,e)},O=function e(t){var n=g(t);c&&c(t,n),window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",x)},E=function(e){if(v.current){var t,n;if("ontouchstart"in window&&e.touches){var r=e.touches[0];t=r.clientX,n=r.clientY}else{var o=e;e.preventDefault(),t=o.clientX,n=o.clientY}var a=Math.abs(v.current.x-t),u=Math.abs(v.current.y-n);Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(u,2)))>=f&&(!function(e){if(i&&i(e),h.current&&v.current){var t=h.current.getBoundingClientRect();b.current={x:v.current.x-t.left,y:v.current.y-t.top},window.addEventListener("mouseup",O),window.addEventListener("mousemove",x)}}(e),w())}},w=function e(){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",E),v.current=null},j=function(e){var t,n;if(a&&a(e),e.stopPropagation(),"ontouchstart"in window&&e.touches){var r=e.touches[0];t=r.clientX,n=r.clientY}else{e.preventDefault();var o=e;t=o.clientX,n=o.clientY}v.current={x:t,y:n},document.addEventListener("mouseup",w),document.addEventListener("mousemove",E)};return t().createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onMouseDown:function(e){p||j(e),l&&l(e)},onTouchStart:function(e){p||j(e),s&&s(e)},onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:function(e){h.current=e,m&&(m.current=e)}},y),n)};var dt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ft=Array.isArray,mt=ft,yt=ze,vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/;var ht=function(e,t){if(mt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yt(e))||(bt.test(e)||!vt.test(e)||null!=t&&e in Object(t))},_t=Re,gt=_e;var xt,Ot=function(e){if(!gt(e))return!1;var t=_t(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Et=Ee["__core-js_shared__"],wt=(xt=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+xt:"";var jt=function(e){return!!wt&&wt in e},Ct=Function.prototype.toString;var St=function(e){if(null!=e){try{return Ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Tt=Ot,Nt=jt,Pt=_e,At=St,kt=/^\[object .+?Constructor\]$/,It=Function.prototype,Dt=Object.prototype,Rt=It.toString,Mt=Dt.hasOwnProperty,Lt=RegExp("^"+Rt.call(Mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bt=function(e){return!(!Pt(e)||Nt(e))&&(Tt(e)?Lt:kt).test(At(e))},zt=function(e,t){return null==e?void 0:e[t]};var qt=function(e,t){var n=zt(e,t);return Bt(n)?n:void 0},Ut=qt(Object,"create"),Wt=Ut;var Ht=function(){this.__data__=Wt?Wt(null):{},this.size=0};var Ft=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vt=Ut,Yt=Object.prototype.hasOwnProperty;var Xt=function(e){var t=this.__data__;if(Vt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Yt.call(t,e)?t[e]:void 0},Kt=Ut,Jt=Object.prototype.hasOwnProperty;var Qt=Ut;var Gt=Ht,$t=Ft,Zt=Xt,en=function(e){var t=this.__data__;return Kt?void 0!==t[e]:Jt.call(t,e)},tn=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qt&&void 0===t?"__lodash_hash_undefined__":t,this};function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nn.prototype.clear=Gt,nn.prototype.delete=$t,nn.prototype.get=Zt,nn.prototype.has=en,nn.prototype.set=tn;var rn=nn;var on=function(){this.__data__=[],this.size=0};var an=function(e,t){return e===t||e!=e&&t!=t},un=an;var cn=function(e,t){for(var n=e.length;n--;)if(un(e[n][0],t))return n;return-1},ln=cn,sn=Array.prototype.splice;var pn=cn;var dn=cn;var fn=cn;var mn=on,yn=function(e){var t=this.__data__,n=ln(t,e);return!(n<0)&&(n==t.length-1?t.pop():sn.call(t,n,1),--this.size,!0)},vn=function(e){var t=this.__data__,n=pn(t,e);return n<0?void 0:t[n][1]},bn=function(e){return dn(this.__data__,e)>-1},hn=function(e,t){var n=this.__data__,r=fn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function _n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_n.prototype.clear=mn,_n.prototype.delete=yn,_n.prototype.get=vn,_n.prototype.has=bn,_n.prototype.set=hn;var gn=_n,xn=qt(Ee,"Map"),On=rn,En=gn,wn=xn;var jn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Cn=jn;var Sn=function(e,t){var n=e.__data__;return Cn(t)?n["string"==typeof t?"string":"hash"]:n.map},Tn=Sn;var Nn=Sn;var Pn=Sn;var An=Sn;var kn=function(){this.size=0,this.__data__={hash:new On,map:new(wn||En),string:new On}},In=function(e){var t=Tn(this,e).delete(e);return this.size-=t?1:0,t},Dn=function(e){return Nn(this,e).get(e)},Rn=function(e){return Pn(this,e).has(e)},Mn=function(e,t){var n=An(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ln.prototype.clear=kn,Ln.prototype.delete=In,Ln.prototype.get=Dn,Ln.prototype.has=Rn,Ln.prototype.set=Mn;var Bn=Ln,zn=Bn;function qn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(qn.Cache||zn),n}qn.Cache=zn;var Un=qn;var Wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/\\(\\)?/g,Fn=function(e){var t=Un(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Wn,(function(e,n,r,o){t.push(r?o.replace(Hn,"$1"):n||e)})),t})),Vn=dt,Yn=ft,Xn=ze,Kn=we?we.prototype:void 0,Jn=Kn?Kn.toString:void 0;var Qn=function e(t){if("string"==typeof t)return t;if(Yn(t))return Vn(t,e)+"";if(Xn(t))return Jn?Jn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Gn=Qn;var $n=ft,Zn=ht,er=Fn,tr=function(e){return null==e?"":Gn(e)};var nr=function(e,t){return $n(e)?e:Zn(e,t)?[e]:er(tr(e))},rr=ze;var or=function(e){if("string"==typeof e||rr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ar=nr,ir=or;var ur=function(e,t){for(var n=0,r=(t=ar(t,e)).length;null!=e&&n<r;)e=e[ir(t[n++])];return n&&n==r?e:void 0},cr=gn;var lr=gn,sr=xn,pr=Bn;var dr=gn,fr=function(){this.__data__=new cr,this.size=0},mr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},yr=function(e){return this.__data__.get(e)},vr=function(e){return this.__data__.has(e)},br=function(e,t){var n=this.__data__;if(n instanceof lr){var r=n.__data__;if(!sr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pr(r)}return n.set(e,t),this.size=n.size,this};function hr(e){var t=this.__data__=new dr(e);this.size=t.size}hr.prototype.clear=fr,hr.prototype.delete=mr,hr.prototype.get=yr,hr.prototype.has=vr,hr.prototype.set=br;var _r=hr;var gr=Bn,xr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Or=function(e){return this.__data__.has(e)};function Er(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new gr;++t<n;)this.add(e[t])}Er.prototype.add=Er.prototype.push=xr,Er.prototype.has=Or;var wr=Er,jr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Cr=function(e,t){return e.has(t)};var Sr=function(e,t,n,r,o,a){var i=1&n,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;var l=a.get(e),s=a.get(t);if(l&&s)return l==t&&s==e;var p=-1,d=!0,f=2&n?new wr:void 0;for(a.set(e,t),a.set(t,e);++p<u;){var m=e[p],y=t[p];if(r)var v=i?r(y,m,p,t,e,a):r(m,y,p,e,t,a);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!jr(t,(function(e,t){if(!Cr(f,t)&&(m===e||o(m,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(m!==y&&!o(m,y,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d};var Tr=Ee.Uint8Array,Nr=an,Pr=Sr,Ar=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},kr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ir=we?we.prototype:void 0,Dr=Ir?Ir.valueOf:void 0;var Rr=function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Tr(e),new Tr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ar;case"[object Set]":var c=1&r;if(u||(u=kr),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;r|=2,i.set(e,t);var s=Pr(u(e),u(t),r,o,a,i);return i.delete(e),s;case"[object Symbol]":if(Dr)return Dr.call(e)==Dr.call(t)}return!1};var Mr=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Lr=ft;var Br=function(e,t,n){var r=t(e);return Lr(e)?r:Mr(r,n(e))};var zr=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a},qr=function(){return[]},Ur=Object.prototype.propertyIsEnumerable,Wr=Object.getOwnPropertySymbols,Hr=Wr?function(e){return null==e?[]:(e=Object(e),zr(Wr(e),(function(t){return Ur.call(e,t)})))}:qr;var Fr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Vr=Re,Yr=Me;var Xr=function(e){return Yr(e)&&"[object Arguments]"==Vr(e)},Kr=Me,Jr=Object.prototype,Qr=Jr.hasOwnProperty,Gr=Jr.propertyIsEnumerable,$r=Xr(function(){return arguments}())?Xr:function(e){return Kr(e)&&Qr.call(e,"callee")&&!Gr.call(e,"callee")},Zr={exports:{}};var eo=function(){return!1};!function(e,t){var n=Ee,r=eo,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?n.Buffer:void 0,u=(i?i.isBuffer:void 0)||r;e.exports=u}(Zr,Zr.exports);var to=/^(?:0|[1-9]\d*)$/;var no=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&to.test(e))&&e>-1&&e%1==0&&e<t};var ro=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},oo=Re,ao=ro,io=Me,uo={};uo["[object Float32Array]"]=uo["[object Float64Array]"]=uo["[object Int8Array]"]=uo["[object Int16Array]"]=uo["[object Int32Array]"]=uo["[object Uint8Array]"]=uo["[object Uint8ClampedArray]"]=uo["[object Uint16Array]"]=uo["[object Uint32Array]"]=!0,uo["[object Arguments]"]=uo["[object Array]"]=uo["[object ArrayBuffer]"]=uo["[object Boolean]"]=uo["[object DataView]"]=uo["[object Date]"]=uo["[object Error]"]=uo["[object Function]"]=uo["[object Map]"]=uo["[object Number]"]=uo["[object Object]"]=uo["[object RegExp]"]=uo["[object Set]"]=uo["[object String]"]=uo["[object WeakMap]"]=!1;var co=function(e){return io(e)&&ao(e.length)&&!!uo[oo(e)]};var lo=function(e){return function(t){return e(t)}},so={exports:{}};!function(e,t){var n=ge,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&n.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}(so,so.exports);var po=co,fo=lo,mo=so.exports,yo=mo&&mo.isTypedArray,vo=yo?fo(yo):po,bo=Fr,ho=$r,_o=ft,go=Zr.exports,xo=no,Oo=vo,Eo=Object.prototype.hasOwnProperty;var wo=function(e,t){var n=_o(e),r=!n&&ho(e),o=!n&&!r&&go(e),a=!n&&!r&&!o&&Oo(e),i=n||r||o||a,u=i?bo(e.length,String):[],c=u.length;for(var l in e)!t&&!Eo.call(e,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,c))||u.push(l);return u},jo=Object.prototype;var Co=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jo)};var So=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),To=Co,No=So,Po=Object.prototype.hasOwnProperty;var Ao=Ot,ko=ro;var Io=function(e){return null!=e&&ko(e.length)&&!Ao(e)},Do=wo,Ro=function(e){if(!To(e))return No(e);var t=[];for(var n in Object(e))Po.call(e,n)&&"constructor"!=n&&t.push(n);return t},Mo=Io;var Lo=function(e){return Mo(e)?Do(e):Ro(e)},Bo=Br,zo=Hr,qo=Lo;var Uo=function(e){return Bo(e,qo,zo)},Wo=Object.prototype.hasOwnProperty;var Ho=function(e,t,n,r,o,a){var i=1&n,u=Uo(e),c=u.length;if(c!=Uo(t).length&&!i)return!1;for(var l=c;l--;){var s=u[l];if(!(i?s in t:Wo.call(t,s)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var m=i;++l<c;){var y=e[s=u[l]],v=t[s];if(r)var b=i?r(v,y,s,t,e,a):r(y,v,s,e,t,a);if(!(void 0===b?y===v||o(y,v,n,r,a):b)){f=!1;break}m||(m="constructor"==s)}if(f&&!m){var h=e.constructor,_=t.constructor;h==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof h&&h instanceof h&&"function"==typeof _&&_ instanceof _||(f=!1)}return a.delete(e),a.delete(t),f},Fo=qt(Ee,"DataView"),Vo=xn,Yo=qt(Ee,"Promise"),Xo=qt(Ee,"Set"),Ko=qt(Ee,"WeakMap"),Jo=Re,Qo=St,Go="[object Map]",$o="[object Promise]",Zo="[object Set]",ea="[object WeakMap]",ta="[object DataView]",na=Qo(Fo),ra=Qo(Vo),oa=Qo(Yo),aa=Qo(Xo),ia=Qo(Ko),ua=Jo;(Fo&&ua(new Fo(new ArrayBuffer(1)))!=ta||Vo&&ua(new Vo)!=Go||Yo&&ua(Yo.resolve())!=$o||Xo&&ua(new Xo)!=Zo||Ko&&ua(new Ko)!=ea)&&(ua=function(e){var t=Jo(e),n="[object Object]"==t?e.constructor:void 0,r=n?Qo(n):"";if(r)switch(r){case na:return ta;case ra:return Go;case oa:return $o;case aa:return Zo;case ia:return ea}return t});var ca=_r,la=Sr,sa=Rr,pa=Ho,da=ua,fa=ft,ma=Zr.exports,ya=vo,va="[object Arguments]",ba="[object Array]",ha="[object Object]",_a=Object.prototype.hasOwnProperty;var ga=function(e,t,n,r,o,a){var i=fa(e),u=fa(t),c=i?ba:da(e),l=u?ba:da(t),s=(c=c==va?ha:c)==ha,p=(l=l==va?ha:l)==ha,d=c==l;if(d&&ma(e)){if(!ma(t))return!1;i=!0,s=!1}if(d&&!s)return a||(a=new ca),i||ya(e)?la(e,t,n,r,o,a):sa(e,t,c,n,r,o,a);if(!(1&n)){var f=s&&_a.call(e,"__wrapped__"),m=p&&_a.call(t,"__wrapped__");if(f||m){var y=f?e.value():e,v=m?t.value():t;return a||(a=new ca),o(y,v,n,r,a)}}return!!d&&(a||(a=new ca),pa(e,t,n,r,o,a))},xa=Me;var Oa=function e(t,n,r,o,a){return t===n||(null==t||null==n||!xa(t)&&!xa(n)?t!=t&&n!=n:ga(t,n,r,o,e,a))},Ea=_r,wa=Oa;var ja=_e;var Ca=function(e){return e==e&&!ja(e)},Sa=Ca,Ta=Lo;var Na=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Pa=function(e,t,n,r){var o=n.length,a=o,i=!r;if(null==e)return!a;for(e=Object(e);o--;){var u=n[o];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],s=u[1];if(i&&u[2]){if(void 0===l&&!(c in e))return!1}else{var p=new Ea;if(r)var d=r(l,s,c,e,t,p);if(!(void 0===d?wa(s,l,3,r,p):d))return!1}}return!0},Aa=function(e){for(var t=Ta(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Sa(o)]}return t},ka=Na;var Ia=ur;var Da=nr,Ra=$r,Ma=ft,La=no,Ba=ro,za=or;var qa=function(e,t){return null!=e&&t in Object(e)},Ua=function(e,t,n){for(var r=-1,o=(t=Da(t,e)).length,a=!1;++r<o;){var i=za(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&Ba(o)&&La(i,o)&&(Ma(e)||Ra(e))};var Wa=Oa,Ha=function(e,t,n){var r=null==e?void 0:Ia(e,t);return void 0===r?n:r},Fa=function(e,t){return null!=e&&Ua(e,t,qa)},Va=ht,Ya=Ca,Xa=Na,Ka=or;var Ja=function(e){return e};var Qa=ur;var Ga=function(e){return function(t){return null==t?void 0:t[e]}},$a=function(e){return function(t){return Qa(t,e)}},Za=ht,ei=or;var ti=function(e){var t=Aa(e);return 1==t.length&&t[0][2]?ka(t[0][0],t[0][1]):function(n){return n===e||Pa(n,e,t)}},ni=function(e,t){return Va(e)&&Ya(t)?Xa(Ka(e),t):function(n){var r=Ha(n,e);return void 0===r&&r===t?Fa(n,e):Wa(t,r,3)}},ri=Ja,oi=ft,ai=function(e){return Za(e)?Ga(ei(e)):$a(e)};var ii=function(e){return"function"==typeof e?e:null==e?ri:"object"==typeof e?oi(e)?ni(e[0],e[1]):ti(e):ai(e)};var ui=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),u=i.length;u--;){var c=i[e?u:++o];if(!1===n(a[c],c,a))break}return t}},ci=ui(),li=Lo;var si=Io;var pi=function(e,t){return function(n,r){if(null==n)return n;if(!si(n))return e(n,r);for(var o=n.length,a=t?o:-1,i=Object(n);(t?a--:++a<o)&&!1!==r(i[a],a,i););return n}}((function(e,t){return e&&ci(e,t,li)})),di=Io;var fi=ze;var mi=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=fi(e),i=void 0!==t,u=null===t,c=t==t,l=fi(t);if(!u&&!l&&!a&&e>t||a&&i&&c&&!u&&!l||r&&i&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!i&&o||!c)return-1}return 0};var yi=dt,vi=ur,bi=ii,hi=function(e,t){var n=-1,r=di(e)?Array(e.length):[];return pi(e,(function(e,o,a){r[++n]=t(e,o,a)})),r},_i=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},gi=lo,xi=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,i=o.length,u=n.length;++r<i;){var c=mi(o[r],a[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return e.index-t.index},Oi=Ja,Ei=ft;var wi=function(e,t,n){t=t.length?yi(t,(function(e){return Ei(e)?function(t){return vi(t,1===e.length?e[0]:e)}:e})):[Oi];var r=-1;t=yi(t,gi(bi));var o=hi(e,(function(e,n,o){return{criteria:yi(t,(function(t){return t(e)})),index:++r,value:e}}));return _i(o,(function(e,t){return xi(e,t,n)}))},ji=ft;var Ci=function(e,t,n,r){return null==e?[]:(ji(t)||(t=null==t?[]:[t]),ji(n=r?void 0:n)||(n=null==n?[]:[n]),wi(e,t,n))},Si="__node_editor_stage__",Ti="__node_editor_drag_connection__",Ni="__node_editor_connections__";function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Ai(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ki="Connection_svg__-fKLY";J(".Connection_svg__-fKLY{\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  pointer-events: none;\n  z-index: 0;\n  overflow: visible !important;\n}\n");var Ii=Math.PI,Di=2*Ii,Ri=1e-6,Mi=Di-Ri;function Li(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Bi(){return new Li}function zi(e){return function(){return e}}function qi(e){this._context=e}function Ui(e){return new qi(e)}function Wi(e){return e[0]}function Hi(e){return e[1]}function Fi(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Vi(e){this._context=e}function Yi(e){return new Vi(e)}Li.prototype=Bi.prototype={constructor:Li,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var a=this._x1,i=this._y1,u=n-e,c=r-t,l=a-e,s=i-t,p=l*l+s*s;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Ri)if(Math.abs(s*u-c*l)>Ri&&o){var d=n-a,f=r-i,m=u*u+c*c,y=d*d+f*f,v=Math.sqrt(m),b=Math.sqrt(p),h=o*Math.tan((Ii-Math.acos((m+p-y)/(2*v*b)))/2),_=h/b,g=h/v;Math.abs(_-1)>Ri&&(this._+="L"+(e+_*l)+","+(t+_*s)),this._+="A"+o+","+o+",0,0,"+ +(s*d>l*f)+","+(this._x1=e+g*u)+","+(this._y1=t+g*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,a){e=+e,t=+t,a=!!a;var i=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=e+i,l=t+u,s=1^a,p=a?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Ri||Math.abs(this._y1-l)>Ri)&&(this._+="L"+c+","+l),n&&(p<0&&(p=p%Di+Di),p>Mi?this._+="A"+n+","+n+",0,1,"+s+","+(e-i)+","+(t-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=c)+","+(this._y1=l):p>Ri&&(this._+="A"+n+","+n+",0,"+ +(p>=Ii)+","+s+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Xi,Ki=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";return document.querySelector('[data-node-id="'.concat(e,'"] [data-port-name="').concat(t,'"][data-port-transput-type="').concat(n,'"]'))},Ji=function(e,t,n,r){var o=null!=n?n:"input";if(r&&r.current){var a=e+t+o,i=r.current.ports[a];if(i)return i.getBoundingClientRect();var u=Ki(e,t,o);return u&&(r.current.ports[a]=u),u&&u.getBoundingClientRect()}var c=Ki(e,t,o);return c&&c.getBoundingClientRect()},Qi=function(e,t){var n,r=(t.x-e.x)/3,o=null!==(n=function(){var e=Wi,t=Hi,n=zi(!0),r=null,o=Ui,a=null;function i(i){var u,c,l,s=i.length,p=!1;for(null==r&&(a=o(l=Bi())),u=0;u<=s;++u)!(u<s&&n(c=i[u],u,i))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(c,u,i),+t(c,u,i));if(l)return a=null,l+""||null}return i.x=function(t){return arguments.length?(e="function"==typeof t?t:zi(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:zi(+e),i):t},i.defined=function(e){return arguments.length?(n="function"==typeof e?e:zi(!!e),i):n},i.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),i):o},i.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),i):r},i}().curve(Yi)([[e.x,e.y],[e.x+r,e.y],[e.x+2*r,t.y],[t.x,t.y]]))&&void 0!==n?n:"";return o},Gi=function(e){var t,n=e.id,r=document.querySelector('[data-connection-id="'.concat(n,'"]'));null==r||null===(t=r.parentElement)||void 0===t||t.remove()},$i=function(e,t,n){var r=t.scale,o=function(e){return document.getElementById("".concat(Ni).concat(e))}(n);if(o){var a=o.getBoundingClientRect(),i=a.width/2,u=a.height/2,c=function(e){return 1/r*e};Object.values(e).forEach((function(e){e.connections&&e.connections.inputs&&Object.entries(e.connections.inputs).forEach((function(t,n){var r=W(t,2),l=r[0];r[1].forEach((function(t){var n=Ji(t.nodeId,t.portName,"output"),r=Ji(e.id,l,"input"),s=n?n.width/2:0;if(n&&r){var p=t.nodeId+t.portName+e.id+l,d=document.querySelector('[data-connection-id="'.concat(p,'"]'));d?function(e){var t=e.line,n=e.from,r=e.to;t.setAttribute("d",Qi(n,r))}({line:d,from:{x:c(n.x-a.x+s-i),y:c(n.y-a.y+s-u)},to:{x:c(r.x-a.x+s-i),y:c(r.y-a.y+s-u)}}):function(e){var t=e.from,n=e.to,r=e.stage,o=e.id,a=e.outputNodeId,i=e.outputPortName,u=e.inputNodeId,c=e.inputPortName,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("class",ki);var s=document.createElementNS("http://www.w3.org/2000/svg","path"),p=Qi(t,n);s.setAttribute("d",p),s.setAttribute("stroke","rgb(185, 186, 189)"),s.setAttribute("stroke-width","3"),s.setAttribute("stroke-linecap","round"),s.setAttribute("fill","none"),s.setAttribute("data-connection-id",o),s.setAttribute("data-output-node-id",a),s.setAttribute("data-output-port-name",i),s.setAttribute("data-input-node-id",u),s.setAttribute("data-input-port-name",c),l.appendChild(s),r.appendChild(l)}({id:p,outputNodeId:t.nodeId,outputPortName:t.portName,inputNodeId:e.id,inputPortName:l,from:{x:c(n.x-a.x+s-i),y:c(n.y-a.y+s-u)},to:{x:c(r.x-a.x+s-i),y:c(r.y-a.y+s-u)},stage:o})}}))}))}))}};function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ADD_TOAST="ADD_TOAST",e.REMOVE_TOAST="REMOVE_TOAST",e.SET_HEIGHT="SET_HEIGHT",e.SET_EXITING="SET_EXITING"}(Xi||(Xi={}));var tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xi.ADD_TOAST:return[{id:Qe(5),title:t.title,message:t.message,type:t.toastType||"info",duration:t.duration||1e4,height:0,exiting:!1}].concat(Ai(e));case Xi.SET_HEIGHT:var n=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ai(e.slice(0,n)),[eu(eu({},e[n]),{},{height:t.height})],Ai(e.slice(n+1)));case Xi.SET_EXITING:var r=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ai(e.slice(0,r)),[eu(eu({},e[r]),{},{exiting:!0})],Ai(e.slice(r+1)));case Xi.REMOVE_TOAST:var o=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ai(e.slice(0,o)),Ai(e.slice(o+1)));default:return e}},nu=["id","defaultNode"];function ru(e){var t=function(e,t){if("object"!==Pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pi(t)?t:String(t)}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iu,uu=function(e,t,n){var r,o=e[t.nodeId],a=o.connections.inputs,i=t.portName;a[i];var u=ct(a,[i].map(ru)),c=au(au({},o),{},{connections:au(au({},o.connections),{},{inputs:u})}),l=e[n.nodeId],s=l.connections.outputs[n.portName].filter((function(e){return e.nodeId!==t.nodeId||e.portName!==t.portName})),p=au(au({},l),{},{connections:au(au({},l.connections),{},{outputs:au(au({},l.connections.outputs),{},z({},n.portName,s))})});return au(au({},e),{},(z(r={},t.nodeId,c),z(r,n.nodeId,p),r))},cu=function(e,t){return Object.entries(e).reduce((function(e,n){var r=W(n,2),o=r[0],a=r[1].filter((function(e){return e.nodeId!==t}));return a.length&&(e[o]=a),e}),{})},lu=function(e,t){return{inputs:cu(e.inputs,t),outputs:cu(e.outputs,t)}},su=function(e,t){e[t];var n=ct(e,[t].map(ru));return n=Object.values(n).reduce((function(e,n){return e[n.id]=au(au({},n),{},{connections:lu(n.connections,t)}),e}),{}),function(e){for(var t=0,n=Array.from(document.querySelectorAll('[data-output-node-id="'.concat(e,'"], [data-input-node-id="').concat(e,'"]')));t<n.length;t++){var r,o=n[t];null==o||null===(r=o.parentElement)||void 0===r||r.remove()}}(t),n},pu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=function(e,t,n,r){var o=au({},e),a=Object.values(o).map((function(e){return t[e.type]?void 0:e.id})).filter((function(e){return!!e}));a.forEach((function(e){o=mu(o,{type:iu.REMOVE_NODE,nodeId:e},{nodeTypes:t,portTypes:n,context:r})}));var i=Object.values(o).reduce((function(e,o){var a=t[o.type],i=du({node:o,nodeType:a,portTypes:n,context:r}),u=Object.entries(o.inputData).reduce((function(e,t){var n=W(t,2),r=n[0],o=n[1];return void 0!==i[r]&&(e[r]=o),e}),{}),c=au(au({},i),u);return e[o.id]=au(au({},o),{},{inputData:c}),e}),{});return Object.values(i).reduce((function(e,n){var r=au({},n),o=t[n.type];return o.root!==n.root&&(o.root&&!n.root?r.root=o.root:!o.root&&n.root&&delete r.root),e[n.id]=r,e}),{})}(e,n,r,o);return au(au({},a),t.reduce((function(t,a,i){return!Object.values(e).find((function(e){return e.type===a.type}))&&(t=mu(t,{type:iu.ADD_NODE,id:"default-".concat(i),defaultNode:!0,x:a.x||0,y:a.y||0,nodeType:a.type},{nodeTypes:n,portTypes:r,context:o})),t}),{}))},du=function(e){var t=e.node,n=e.nodeType,r=e.portTypes,o=e.context;return(Array.isArray(n.inputs)?n.inputs:n.inputs(t.inputData,t.connections,o)).reduce((function(e,t){var n=r[t.type];return e[t.name||n.name]=(t.controls||n.controls||[]).reduce((function(e,t){return e[t.name]=t.defaultValue,e}),{}),e}),{})};!function(e){e.ADD_CONNECTION="ADD_CONNECTION",e.REMOVE_CONNECTION="REMOVE_CONNECTION",e.DESTROY_TRANSPUT="DESTROY_TRANSPUT",e.ADD_NODE="ADD_NODE",e.REMOVE_NODE="REMOVE_NODE",e.HYDRATE_DEFAULT_NODES="HYDRATE_DEFAULT_NODES",e.SET_PORT_DATA="SET_PORT_DATA",e.SET_NODE_COORDINATES="SET_NODE_COORDINATES"}(iu||(iu={}));var fu,mu=function(e,t,n,r){var o=n.nodeTypes,a=n.portTypes,i=n.cache,u=n.circularBehavior,c=n.context;switch(t.type){case iu.ADD_CONNECTION:var l=t.input,s=t.output;if(!e[l.nodeId].connections.inputs[l.portName]){var p="warn"===u||"allow"===u,d=function(e,t,n){var r;return au(au({},e),{},(z(r={},t.nodeId,au(au({},e[t.nodeId]),{},{connections:au(au({},e[t.nodeId].connections),{},{inputs:au(au({},e[t.nodeId].connections.inputs),{},z({},t.portName,[].concat(Ai(e[t.nodeId].connections.inputs[t.portName]||[]),[{nodeId:n.nodeId,portName:n.portName}])))})})),z(r,n.nodeId,au(au({},e[n.nodeId]),{},{connections:au(au({},e[n.nodeId].connections),{},{outputs:au(au({},e[n.nodeId].connections.outputs),{},z({},n.portName,[].concat(Ai(e[n.nodeId].connections.outputs[n.portName]||[]),[{nodeId:t.nodeId,portName:t.portName}])))})})),r))}(e,l,s),f=function(e,t){var n=!1;return function r(o){for(var a=Object.values(e[o].connections.outputs),i=0;i<a.length&&!n;i++)for(var u=a[i],c=0;c<u.length;c++){var l=u[c];if(l.nodeId===t){n=!0;break}r(l.nodeId)}}(t),n}(d,s.nodeId);return f&&!p?(null==r||r({type:Xi.ADD_TOAST,title:"Unable to connect",message:"Connecting these nodes would result in an infinite loop.",toastType:"warning",duration:5e3}),e):(f&&"warn"===u&&(null==r||r({type:Xi.ADD_TOAST,title:"Circular Connection Detected",message:"Connecting these nodes has created an infinite loop.",toastType:"warning",duration:5e3})),d)}return e;case iu.REMOVE_CONNECTION:var m,y=t.input,v=t.output,b=v.nodeId+v.portName+y.nodeId+y.portName;return null==i||(null===(m=i.current)||void 0===m||delete m.connections[b]),Gi({id:b}),uu(e,y,v);case iu.DESTROY_TRANSPUT:var h,_=t.transput,g=t.transputType,x=_.nodeId+_.portName+g;null==i||(null===(h=i.current)||void 0===h||delete h.ports[x]);var O="input"===g?"inputs":"outputs",E=e[_.nodeId].connections[O][_.portName];return E&&E.length?E.reduce((function(e,t){var n,r=W("input"===g?[_,t]:[t,_],2),o=r[0],a=r[1],u=a.nodeId+a.portName+o.nodeId+o.portName;return null==i||(null===(n=i.current)||void 0===n||delete n.connections[u]),Gi({id:u}),uu(e,o,a)}),e):e;case iu.ADD_NODE:var w=t.x,j=t.y,C=t.nodeType,S=t.id,T=t.defaultNode,N=S||Qe(10),P={id:N,x:w,y:j,type:C,width:o[C].initialWidth||200,connections:{inputs:{},outputs:{}},inputData:{}};return P.inputData=du({node:P,nodeType:o[C],portTypes:a,context:c}),T&&(P.defaultNode=!0),o[C].root&&(P.root=!0),au(au({},e),{},z({},N,P));case iu.REMOVE_NODE:var A=t.nodeId;return su(e,A);case iu.HYDRATE_DEFAULT_NODES:var k=au({},e);for(var I in k)if(k[I].defaultNode){var D=Qe(10),R=k[I];R.id,R.defaultNode;var M=ct(R,nu);k[D]=au(au({},M),{},{id:D}),delete k[I]}return k;case iu.SET_PORT_DATA:var L=t.nodeId,B=t.portName,q=t.controlName,U=t.data,H=t.setValue,F=au(au({},e[L].inputData),{},z({},B,au(au({},e[L].inputData[B]),{},z({},q,U))));return H&&(F=H(F,e[L].inputData)),au(au({},e),{},z({},L,au(au({},e[L]),{},{inputData:F})));case iu.SET_NODE_COORDINATES:var V=t.x,Y=t.y,X=t.nodeId;return au(au({},e),{},z({},X,au(au({},e[X]),{},{x:V,y:Y})));default:return e}},yu=["isNew"];function vu(e){var t=function(e,t){if("object"!==Pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pi(t)?t:String(t)}function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ADD_COMMENT="ADD_COMMENT",e.REMOVE_COMMENT_NEW="REMOVE_COMMENT_NEW",e.SET_COMMENT_COORDINATES="SET_COMMENT_COORDINATES",e.SET_COMMENT_DIMENSIONS="SET_COMMENT_DIMENSIONS",e.SET_COMMENT_TEXT="SET_COMMENT_TEXT",e.SET_COMMENT_COLOR="SET_COMMENT_COLOR",e.DELETE_COMMENT="DELETE_COMMENT"}(fu||(fu={}));var _u,gu=function(e,t,n){return hu(hu({},e),{},z({},t,hu(hu({},e[t]),n)))},xu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fu.ADD_COMMENT:var n={id:Qe(10),text:"",x:t.x,y:t.y,width:200,height:30,color:"blue",isNew:!0};return hu(hu({},e),{},z({},n.id,n));case fu.REMOVE_COMMENT_NEW:var r=e[t.id];r.isNew;var o=ct(r,yu);return hu(hu({},e),{},z({},t.id,o));case fu.SET_COMMENT_COORDINATES:return gu(e,t.id,{x:t.x,y:t.y});case fu.SET_COMMENT_DIMENSIONS:return gu(e,t.id,{width:t.width,height:t.height});case fu.SET_COMMENT_TEXT:return gu(e,t.id,{text:t.text});case fu.SET_COMMENT_COLOR:return gu(e,t.id,{color:t.color});case fu.DELETE_COMMENT:var a=t.id;return e[a],ct(e,[a].map(vu));default:return e}};function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SCALE="SET_SCALE",e.SET_TRANSLATE="SET_TRANSLATE",e.SET_TRANSLATE_SCALE="SET_TRANSLATE_SCALE"}(_u||(_u={}));var wu=function(e,t){var n="function"==typeof t?t(e):t;switch(n.type){case _u.SET_SCALE:return Eu(Eu({},e),{},{scale:n.scale});case _u.SET_TRANSLATE:return Eu(Eu({},e),{},{translate:n.translate});case _u.SET_TRANSLATE_SCALE:return Eu(Eu({},e),{},{translate:n.translate,scale:n.scale});default:return e}},ju=function(e){var n=e.scale,r=e.translate,o=e.editorId,a=e.dispatchStageState,i=e.children,u=e.outerStageChildren,c=e.numNodes,l=e.stageRef,s=e.spaceToPan,p=e.dispatchComments,d=e.disableComments,f=e.disablePan,m=e.disableZoom,y=t().useContext(Ze),v=t().useContext(tt),b=t().useRef(null),h=t().useRef(null),_=W(t().useState(!1),2),g=_[0],x=_[1],O=W(t().useState({x:0,y:0}),2),E=O[0],w=O[1],j=t().useRef({x:0,y:0}),C=W(t().useState(!1),2),S=C[0],T=C[1],N=t().useCallback((function(){b.current&&(l.current=b.current.getBoundingClientRect())}),[]);t().useEffect((function(){return b.current&&(l.current=b.current.getBoundingClientRect()),window.addEventListener("resize",N),function(){window.removeEventListener("resize",N)}}),[l,N]);var P=t().useCallback((function(e){var t,n=e.target;if(!(("TEXTAREA"===n.nodeName||n.dataset.comment)&&n.clientHeight<n.scrollHeight||(e.preventDefault(),0===c))){var r=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();r&&a((function(t){var n=t.scale,o=t.translate,a=e.deltaY,i=Je(n-.005*Je(a,-10,10),.1,7),u=function(e){return e*(1/n)},c=function(e){return e*(1/i)},l=u(e.clientX-r.x-r.width/2+o.x),s=u(e.clientY-r.y-r.height/2+o.y),p=l-c(e.clientX-r.x-r.width/2+o.x),d=s-c(e.clientY-r.y-r.height/2+o.y);return{type:_u.SET_TRANSLATE_SCALE,scale:i,translate:{x:o.x+p*i,y:o.y+d*i}}}))}}),[a,c]),A=function(e){return 1/n*e},k=function e(t){32===t.which&&(T(!1),document.removeEventListener("keyup",e))};t().useEffect((function(){if(!m){var e=b.current;return null==e||e.addEventListener("wheel",P),function(){null==e||e.removeEventListener("wheel",P)}}}),[P,m]);var I=t().useMemo((function(){var e=Ci(Object.values(y||{}).filter((function(e){return!1!==e.addable})).map((function(e){return{value:e.type,label:e.label,description:e.description,sortIndex:e.sortIndex,node:e}})),["sortIndex","label"]);return d||e.push({value:"comment",label:"Comment",description:"A comment for documenting nodes",internalType:"comment"}),e}),[y,d]);return t().createElement(pt,{"data-flume-component":"stage",id:"".concat(Si).concat(o),className:Q,innerRef:b,onContextMenu:function(e){return e.preventDefault(),w({x:e.clientX,y:e.clientY}),x(!0),!1},onMouseEnter:function(){var e,t;null!==(e=b.current)&&void 0!==e&&e.contains(document.activeElement)||(null===(t=b.current)||void 0===t||t.focus({preventScroll:!0}))},onDragDelayStart:function(){var e;null===(e=b.current)||void 0===e||e.focus()},onDragStart:function(e){var t=e;t.preventDefault(),j.current={x:t.clientX,y:t.clientY}},onDrag:function(e,t){var n=j.current.x-t.clientX,o=j.current.y-t.clientY,a=r.x+n,i=r.y+o;b.current&&(b.current.style.backgroundPosition="".concat(-a,"px ").concat(-i,"px")),h.current&&(h.current.style.transform="translate(".concat(-(r.x+n),"px, ").concat(-(r.y+o),"px)"))},onDragEnd:function(e){var t=j.current.x-e.clientX,n=j.current.y-e.clientY;j.current.x=e.clientX,j.current.y=e.clientY,a((function(e){var r=e.translate;return{type:_u.SET_TRANSLATE,translate:{x:r.x+t,y:r.y+n}}}))},onKeyDown:function(e){32===e.which&&document.activeElement===b.current&&(e.preventDefault(),e.stopPropagation(),T(!0),document.addEventListener("keyup",k))},tabIndex:-1,stageState:{scale:n,translate:r},style:{cursor:S&&s?"grab":""},disabled:f||s&&!S,"data-flume-stage":!0},g?t().createElement(ie,null,t().createElement(Ge,{x:E.x,y:E.y,options:I,onRequestClose:function(){x(!1)},onOptionSelected:function(e){var t,n=e.node,o=e.internalType,a=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect();if(a){var i=A(E.x-a.x-a.width/2)+A(r.x),u=A(E.y-a.y-a.height/2)+A(r.y);"comment"===o?p({type:fu.ADD_COMMENT,x:i,y:u}):null==v||v({type:iu.ADD_NODE,x:i,y:u,nodeType:(null==n?void 0:n.type)||""})}},label:"Add Node"})):null,t().createElement("div",{ref:h,className:G,style:{transform:"translate(".concat(-r.x,"px, ").concat(-r.y,"px)")}},t().createElement("div",{className:$,style:{transform:"scale(".concat(n,")")}},i)),u)},Cu="Node_wrapper__3SmT7",Su="Node_label__3MmhF";J(".Node_wrapper__3SmT7 {\n  background: rgba(114, 120, 124, 0.9);\n  border-radius: 5px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.4);\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  cursor: default;\n}\n.Node_label__3MmhF {\n  font-size: 13px;\n  text-transform: uppercase;\n  padding: 5px;\n  background: #53585a;\n  border-radius: 5px 5px 0px 0px;\n  margin: 0px;\n  margin-bottom: 3px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n}\n");var Tu="IoPorts_wrapper__3d2hh",Nu="IoPorts_inputs__2etkb",Pu="IoPorts_transput__1wbHA",Au="IoPorts_portLabel__qOE7y",ku="IoPorts_port__1_a6J",Iu="IoPorts_outputs__3JGh-",Du="IoPorts_controls__1dKFt";J('.IoPorts_wrapper__3d2hh{\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  width: 100%;\n  padding: 5px;\n}\n.IoPorts_inputs__2etkb{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.IoPorts_inputs__2etkb:last-child{\n    margin-bottom: 0px;\n  }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\n        margin-top: 5px;\n      }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-{\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n}\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-:first-child{\n    margin-top: 5px;\n  }\n.IoPorts_transput__1wbHA{\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n.IoPorts_transput__1wbHA:first-child{\n    margin-top: 0px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]{\n    margin-top: 6px;\n    margin-bottom: 6px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]:first-child{\n      margin-top: 0px;\n    }\n.IoPorts_transput__1wbHA[data-controlless="false"]{\n    margin-top: 2px;\n    margin-bottom: 2px;\n  }\n.IoPorts_controls__1dKFt{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.IoPorts_portLabel__qOE7y{\n  font-size: 13px;\n  font-weight: 400;\n}\n.IoPorts_port__1_a6J{\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #acb1b4, #919699);\n  border-radius: 100%;\n  margin-right: 5px;\n  margin-left: -11px;\n  flex: 0 0 auto;\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\n}\n.IoPorts_port__1_a6J:last-child{\n    margin-right: -11px;\n    margin-left: 5px;\n  }\n.IoPorts_port__1_a6J[data-port-color="red"]{\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\n  }\n.IoPorts_port__1_a6J[data-port-color="purple"]{\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\n  }\n.IoPorts_port__1_a6J[data-port-color="blue"]{\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\n  }\n.IoPorts_port__1_a6J[data-port-color="green"]{\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\n  }\n.IoPorts_port__1_a6J[data-port-color="yellow"]{\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\n  }\n.IoPorts_port__1_a6J[data-port-color="orange"]{\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\n  }\n.IoPorts_port__1_a6J[data-port-color="pink"]{\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\n  }\n');var Ru="Control_wrapper__VZIiC",Mu="Control_controlLabel__3ga2-";J(".Control_wrapper__VZIiC {\n  width: 100%;\n  padding-right: 3px;\n  padding-top: 3px;\n  padding-bottom: 5px;\n}\n.Control_label__1OX-Q {\n  font-size: 14px;\n}\n.Control_controlLabel__3ga2- {\n  font-size: 13px;\n  display: inline-block;\n  margin-left: 2px;\n}\n");var Lu="Checkbox_wrapper__aSqyY",Bu="Checkbox_checkbox__Qv5gn",zu="Checkbox_label__2RxP-";J(".Checkbox_wrapper__aSqyY{\n  display: flex;\n  align-items: center;\n}\n.Checkbox_checkbox__Qv5gn{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  margin-right: 8px;\n}\n.Checkbox_label__2RxP-{\n  padding-top: 2px;\n  font-size: 13px;\n}\n");var qu=function(e){var n=e.label,r=e.data,o=e.onChange,a=t().useRef(Qe(10));return t().createElement("div",{className:Lu},t().createElement("input",{"data-flume-component":"checkbox",className:Bu,type:"checkbox",id:a.current,checked:r,onChange:function(e){return o(e.target.checked)}}),t().createElement("label",{"data-flume-component":"checkbox-label",className:zu,htmlFor:a.current},n))},Uu="TextInput_wrapper__tefOZ",Wu="TextInput_input__1QHwS";J(".TextInput_wrapper__tefOZ {\n  background: none;\n  border: none;\n}\n.TextInput_input__1QHwS {\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  font-size: 13px;\n  padding: 5px;\n  resize: vertical;\n  outline: none;\n}\n.TextInput_input__1QHwS::placeholder {\n    color: rgb(47, 49, 50);\n  }\n.TextInput_input__1QHwS:focus {\n    background: linear-gradient(to bottom, #7c8286, #99a0a4);\n  }\n");var Hu=function(e){var n=e.placeholder,r=e.updateNodeConnections,o=e.onChange,a=e.data,i=e.step,u=e.type,c=t().useRef(null),l=t().useContext(it),s=function e(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",e)},p=function(e){e.stopPropagation(),r()},d=function(e){e.stopPropagation(),null==l||l(),document.addEventListener("mousemove",p),document.addEventListener("mouseup",s)};return t().createElement("div",{className:Uu,"data-flume-component":"text-input"},"number"===u?t().createElement("input",{"data-flume-component":"text-input-number",onKeyDown:function(e){if(69===e.keyCode)return e.preventDefault(),!1},onChange:function(e){var t=e.target.value.replace(/e/g,"");if(t){var n=parseFloat(t);Number.isNaN(n)?o(0):(o(n),c.current&&(c.current.value=n.toString()))}},onBlur:function(e){e.target.value||(o(0),c.current&&(c.current.value="0"))},step:i||"1",onMouseDown:d,type:u||"text",placeholder:n,className:Wu,defaultValue:a,onDragStart:function(e){return e.stopPropagation()},ref:c}):t().createElement("textarea",{"data-flume-component":"text-input-textarea",onChange:function(e){return o(e.target.value)},onMouseDown:d,placeholder:n,className:Wu,value:a,onDragStart:function(e){return e.stopPropagation()}}))},Fu="Select_wrapper__eAPoQ",Vu="Select_chipWrapper__3hK2u",Yu="Select_deleteButton__1FnLK",Xu="Select_chipsWrapper__4Alw8",Ku="Select_selectedWrapper__SUs4D";function Ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J('.Select_wrapper__eAPoQ {\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  padding-right: 15px;\n  position: relative;\n}\n  .Select_wrapper__eAPoQ::after {\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: 8px;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n  .Select_wrapper__eAPoQ:hover {\n    background: linear-gradient(to bottom, #7c8387, #969da1);\n  }\n.Select_chipWrapper__3hK2u {\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #63676a, #787d80);\n  border: 1px solid #3c3e40;\n  margin: 2px;\n  position: relative;\n}\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK {\n  opacity: 1;\n}\n.Select_chipsWrapper__4Alw8 {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 6px;\n}\n.Select_deleteButton__1FnLK {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n  width: 22px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border-radius: 3px;\n  border: none;\n  font-weight: bold;\n  opacity: 0;\n}\n.Select_deleteButton__1FnLK:focus {\n  opacity: 1;\n}\n.Select_deleteButton__1FnLK:hover {\n  background: linear-gradient(to top, #64696c, #797f82);\n}\n.Select_selectedWrapper__SUs4D {\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  font-size: 14px;\n  padding: 3px 6px;\n  padding-right: 15px;\n  position: relative;\n}\n.Select_selectedWrapper__SUs4D::after {\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: calc(50% - 4px);\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n.Select_selectedWrapper__SUs4D label {\n    margin: 0px;\n  }\n.Select_selectedWrapper__SUs4D p {\n    margin: 0px;\n    margin-top: 5px;\n    font-size: 12px;\n    font-style: italic;\n    color: rgb(50, 50, 50);\n  }\n');var Gu=function(e){var n=e.options,r=void 0===n?[]:n,o=e.placeholder,a=void 0===o?"[Select an option]":o,i=e.onChange,u=e.data,c=e.allowMultiple,l=void 0!==c&&c,s=W(t().useState(!1),2),p=s[0],d=s[1],f=W(t().useState({x:0,y:0}),2),m=f[0],y=f[1],v=t().useRef(null),b=function(){if(!p){var e,t=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect();t&&(y({x:t.x,y:t.y+t.height}),d(!0))}},h=t().useMemo((function(){var e=r.find((function(e){return e.value===u}));if(e)return Qu(Qu({},e),{},{label:e.label.length>50?e.label.slice(0,50)+"...":e.label})}),[r,u]);return t().createElement(t().Fragment,null,l&&"string"!=typeof u?u.length?t().createElement("div",{className:Xu},u.map((function(e,n){var o=(r.find((function(t){return t.value===e}))||{}).label||"";return t().createElement(Zu,{onRequestDelete:function(){return e=n,void i([].concat(Ai(u.slice(0,e)),Ai(u.slice(e+1))));var e},key:e},o)}))):null:u?t().createElement($u,{wrapperRef:v,option:h,onClick:b}):null,(l||!u)&&t().createElement("div",{className:Fu,ref:v,onClick:b},a),p&&t().createElement(ie,null,t().createElement(Ge,{x:m.x,y:m.y,emptyText:"There are no options",options:l?r.filter((function(e){return!u.includes(e.value)})):r,onOptionSelected:function(e){l&&Array.isArray(u)?i([].concat(Ai(u),[e.value])):i(e.value)},onRequestClose:function(){d(!1)}})))},$u=function(e){var n=e.option,r=(n=void 0===n?{label:"",description:"",value:""}:n).label,o=n.description,a=e.wrapperRef,i=e.onClick;return t().createElement("div",{className:Ku,onClick:i,ref:a,"data-flume-component":"select"},t().createElement("label",{"data-flume-component":"select-label"},r),o?t().createElement("p",{"data-flume-component":"select-desc"},o):null)},Zu=function(e){var n=e.children,r=e.onRequestDelete;return t().createElement("div",{className:Vu},n,t().createElement("button",{className:Yu,onMouseDown:function(e){e.stopPropagation()},onClick:r},"✕"))};function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nc=function(e){var n=e.type,r=e.name,o=e.nodeId,a=e.portName,i=e.label,u=e.inputLabel,c=e.data,l=e.allData,s=e.inputData,p=e.triggerRecalculation,d=e.updateNodeConnections,f=e.setValue,m=e.defaultValue,y=e.isMonoControl,v=t().useContext(tt),b=t().useContext(rt),h=y?u:i,_=function(e){v&&v({type:iu.SET_PORT_DATA,data:e,nodeId:o,portName:a,controlName:r,setValue:f}),p()};return t().createElement("div",{className:Ru,"data-flume-component":"control"},h&&"checkbox"!==n&&"custom"!==n&&t().createElement("label",{"data-flume-component":"control-label",className:Mu},h),function(n){var o={triggerRecalculation:p,updateNodeConnections:d,onChange:_,data:c};switch(n){case"select":var f=e.options,y=e.getOptions,v=e.placeholder;return t().createElement(Gu,tc(tc({},o),{},{options:y?y(s,b):f,placeholder:v}));case"text":var g=e.placeholder;return t().createElement(Hu,tc(tc({},o),{},{placeholder:g}));case"number":var x=e.step,O=e.placeholder;return t().createElement(Hu,tc(tc({},o),{},{step:x,type:"number",placeholder:O}));case"checkbox":return t().createElement(qu,tc(tc({},o),{},{label:h}));case"multiselect":var E=e.options,w=e.getOptions,j=e.placeholder;return t().createElement(Gu,tc(tc({allowMultiple:!0},o),{},{options:w?w(s,b):E,placeholder:j}));case"custom":var C,S=e.render;return null!==(C=null==S?void 0:S(c,_,b,p,{label:i,name:r,portName:a,inputLabel:u,defaultValue:m},l))&&void 0!==C?C:null;default:return t().createElement("div",null,"Control")}}(n))},rc=function(e){var n=e.from,r=e.to,o=e.id,a=e.lineRef,i=e.outputNodeId,u=e.outputPortName,c=e.inputNodeId,l=e.inputPortName,s=Qi(n,r);return t().createElement("svg",{className:ki,"data-flume-component":"connection-svg"},t().createElement("path",{"data-connection-id":o,"data-output-node-id":i,"data-output-port-name":u,"data-input-node-id":c,"data-input-port-name":l,"data-flume-component":"connection-path",stroke:"rgb(185, 186, 189)",fill:"none",strokeWidth:3,strokeLinecap:"round",d:s,ref:a}))},oc=function(e){var n=t().useRef();return t().useEffect((function(){n.current=e}),[n.current]),n.current};function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lc(e,n,r,o,a){var i=t().useContext(tt),u=t().useContext(rt),c=t().useMemo((function(){return Array.isArray(e)?e:e(o,a,u)}),[e,o,a,u]),l=oc(c);return t().useEffect((function(){if(l&&!Array.isArray(e)){var t,o=uc(l);try{var a=function(){var e=t.value,o=c.find((function(t){var n=t.name;return e.name===n}));o||null==i||i({type:iu.DESTROY_TRANSPUT,transputType:n,transput:{nodeId:r,portName:""+e.name}})};for(o.s();!(t=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}}),[e,c,l,i,r,n]),c}var sc=function(e){var n=e.nodeId,r=e.inputs,o=void 0===r?[]:r,a=e.outputs,i=void 0===a?[]:a,u=e.connections,c=e.inputData,l=e.updateNodeConnections,s=t().useContext(et),p=t().useContext(nt),d=lc(o,"input",n,c,u),f=lc(i,"output",n,c,u);return t().createElement("div",{className:Tu,"data-flume-component":"ports"},d.length?t().createElement("div",{className:Nu,"data-flume-component":"ports-inputs"},d.map((function(e){return t().createElement(pc,ic(ic({},e),{},{data:c[e.name]||{},isConnected:!!u.inputs[e.name],triggerRecalculation:null!=p?p:function(){},updateNodeConnections:l,inputTypes:null!=s?s:{},nodeId:n,inputData:c,key:e.name}))}))):null,!!f.length&&t().createElement("div",{className:Iu,"data-flume-component":"ports-outputs"},f.map((function(e){return t().createElement(dc,ic(ic({},e),{},{triggerRecalculation:p,inputTypes:s,nodeId:n,key:e.name}))}))))},pc=function(e){var n=e.type,r=e.label,o=e.name,a=e.nodeId,i=e.data,u=e.controls,c=e.inputTypes,l=e.noControls,s=e.triggerRecalculation,p=e.updateNodeConnections,d=e.isConnected,f=e.inputData,m=e.hidePort,y=c[n]||{},v=y.label,b=y.color,h=y.controls,_=void 0===h?[]:h,g=oc(d),x=u||_;return t().useEffect((function(){d!==g&&s()}),[d,g,s]),t().createElement("div",{"data-flume-component":"port-input",className:Pu,"data-controlless":d||l||!x.length,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},m?null:t().createElement(fc,{type:n,color:b,name:o,nodeId:a,isInput:!0,triggerRecalculation:s}),(!x.length||l||d)&&t().createElement("label",{"data-flume-component":"port-label",className:Au},r||v),l||d?null:t().createElement("div",{className:Du},x.map((function(e){return t().createElement(nc,ic(ic({},e),{},{nodeId:a,portName:o,triggerRecalculation:s,updateNodeConnections:p,inputLabel:r,data:i[e.name],allData:i,key:e.name,inputData:f,isMonoControl:1===x.length}))}))))},dc=function(e){var n=e.label,r=e.name,o=e.nodeId,a=e.type,i=e.inputTypes,u=e.triggerRecalculation,c=i[a]||{},l=c.label,s=c.color;return t().createElement("div",{"data-flume-component":"port-output",className:Pu,"data-controlless":!0,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},t().createElement("label",{"data-flume-component":"port-label",className:Au},n||l),t().createElement(fc,{type:a,name:r,color:s,nodeId:o,triggerRecalculation:u}))},fc=function(e){var n=e.color,r=void 0===n?"grey":n,o=e.name,a=void 0===o?"":o,i=e.type,u=e.isInput,c=e.nodeId,l=e.triggerRecalculation,s=t().useContext(tt),p=t().useContext(ot)||{scale:1,translate:{x:0,y:0}},d=t().useContext(ut),f="".concat(Si).concat(d),m=t().useContext(et)||{},y=W(t().useState(!1),2),v=y[0],b=y[1],h=W(t().useState({x:0,y:0}),2),_=h[0],g=h[1],x=t().useRef(_),O=t().useRef(null),E=t().useRef(null),w=t().useRef(null),j=function(e){var t;return 1/(null!==(t=null==p?void 0:p.scale)&&void 0!==t?t:1)*e},C=function(e){var t,n,r=null!==(t=null===(n=document.getElementById(f))||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==t?t:{x:0,y:0,width:0,height:0},o=r.x,a=r.y,i=r.width,c=r.height;if(u){var l,s,d,m,y,v={x:j(e.clientX-o-i/2)+j(null!==(l=null==p||null===(s=p.translate)||void 0===s?void 0:s.x)&&void 0!==l?l:1),y:j(e.clientY-a-c/2)+j(null!==(d=null==p||null===(m=p.translate)||void 0===m?void 0:m.y)&&void 0!==d?d:1)};null===(y=w.current)||void 0===y||y.setAttribute("d",Qi(x.current,v))}else{var b,h,_,g,O,C={x:j(e.clientX-o-i/2)+j(null!==(b=null==p||null===(h=p.translate)||void 0===h?void 0:h.x)&&void 0!==b?b:1),y:j(e.clientY-a-c/2)+j(null!==(_=null==p||null===(g=p.translate)||void 0===g?void 0:g.y)&&void 0!==_?_:1)};null===(O=E.current)||void 0===O||O.setAttribute("d",Qi(x.current,C))}},S=function e(t){var n=!!t.target.dataset.portName;if(u){var r,o,p=null!==(r=null===(o=w.current)||void 0===o?void 0:o.dataset)&&void 0!==r?r:{},d=p.inputNodeId,f=void 0===d?"":d,y=p.inputPortName,v=void 0===y?"":y,h=p.outputNodeId,_=void 0===h?"":h,g=p.outputPortName,x=void 0===g?"":g;if(null==s||s({type:iu.REMOVE_CONNECTION,input:{nodeId:f,portName:v},output:{nodeId:_,portName:x}}),n){var O=t.target.dataset,E=O.portName,j=O.nodeId,S=O.portType,T=O.portTransputType;if(_!==j&&"output"!==T)m[S].acceptTypes.includes(i)&&(null==s||s({type:iu.ADD_CONNECTION,input:{nodeId:j,portName:E},output:{nodeId:_,portName:x}}))}}else if(n){var N=t.target.dataset,P=N.portName,A=N.nodeId,k=N.portType,I=N.portTransputType;if(A!==c&&"output"!==I)m[k].acceptTypes.includes(i)&&(null==s||s({type:iu.ADD_CONNECTION,output:{nodeId:c,portName:a},input:{nodeId:A,portName:P}}),l())}b(!1),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",C)};return t().createElement(t().Fragment,null,t().createElement("div",{style:{zIndex:999},onMouseDown:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=(null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect())||{},o=r.x,i=void 0===o?0:o,l=r.y,s=void 0===l?0:l,d=r.width,m=void 0===d?0:d;r.height;var y=(null===(n=document.getElementById(f))||void 0===n?void 0:n.getBoundingClientRect())||{},v=y.x,h=void 0===v?0:v,_=y.y,E=void 0===_?0:_,T=y.width,N=void 0===T?0:T,P=y.height,A=void 0===P?0:P;if(u){if(w.current=document.querySelector('[data-input-node-id="'.concat(c,'"][data-input-port-name="').concat(a,'"]')),!!w.current&&w.current&&w.current.parentElement){w.current.parentElement.style.zIndex="9999";var k=Ji(w.current.dataset.outputNodeId||"",w.current.dataset.outputPortName||"","output")||{},I=k.x,D=void 0===I?0:I,R=k.y,M=void 0===R?0:R,L=k.width,B=void 0===L?0:L;k.height;var z={x:j(D-h+B/2-N/2)+j(p.translate.x),y:j(M-E+B/2-A/2)+j(p.translate.y)};g(z),x.current=z,b(!0),document.addEventListener("mouseup",S),document.addEventListener("mousemove",C)}}else{var q={x:j(i-h+m/2-N/2)+j(p.translate.x),y:j(s-E+m/2-A/2)+j(p.translate.y)};g(q),x.current=q,b(!0),document.addEventListener("mouseup",S),document.addEventListener("mousemove",C)}},className:ku,"data-port-color":r,"data-port-name":a,"data-port-type":i,"data-port-transput-type":u?"input":"output","data-node-id":c,"data-flume-component":"port-handle",onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:O}),v&&!u?t().createElement(ie,{node:document.getElementById("".concat(Ti).concat(d))},t().createElement(rc,{from:_,to:_,lineRef:E})):null)},mc=["children","className"];function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bc=function(e){var n,r,o,a=e.id,i=e.width,u=e.x,c=e.y,l=e.stageRect,s=e.connections,p=e.type,d=e.inputData,f=e.root,m=e.onDragStart,y=e.renderNodeHeader,v=null!==(n=t().useContext(at))&&void 0!==n?n:void 0,b=null!==(r=t().useContext(Ze))&&void 0!==r?r:{},h=t().useContext(tt),_=null!==(o=t().useContext(ot))&&void 0!==o?o:{scale:0,translate:{x:0,y:0}},g=b[p],x=g.label,O=g.deletable,E=g.inputs,w=void 0===E?[]:E,j=g.outputs,C=void 0===j?[]:j,S=t().useRef(null),T=W(t().useState(!1),2),N=T[0],P=T[1],A=W(t().useState({x:0,y:0}),2),k=A[0],I=A[1],D=function(e){return 1/_.scale*e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Object.entries(e).forEach((function(e){var n=W(e,2),r=n[0];n[1].forEach((function(e){var n,o,i,u,c,s,p,d,f,m,y,b,h,g,x,O,E,w,j,C,S,T,N,P,A,k=Ji(a,r,t?"output":"input",v),I=Ji(e.nodeId,e.portName,t?"input":"output",v),R=(null!==(n=null==I?void 0:I.width)&&void 0!==n?n:0)/2;P=t?a+r+e.nodeId+e.portName:e.nodeId+e.portName+a+r;var M=null==v||null===(o=v.current)||void 0===o?void 0:o.connections[P];M?A=M:(A=document.querySelector('[data-connection-id="'.concat(P,'"]')))&&v&&v.current&&(v.current.connections[P]=A);var L={x:D((null!==(i=null==k?void 0:k.x)&&void 0!==i?i:0)-(null!==(u=null===(c=l.current)||void 0===c?void 0:c.x)&&void 0!==u?u:0)+R-(null!==(s=null===(p=l.current)||void 0===p?void 0:p.width)&&void 0!==s?s:0)/2)+D(_.translate.x),y:D((null!==(d=null==k?void 0:k.y)&&void 0!==d?d:0)-(null!==(f=null===(m=l.current)||void 0===m?void 0:m.y)&&void 0!==f?f:0)+R-(null!==(y=null===(b=l.current)||void 0===b?void 0:b.height)&&void 0!==y?y:0)/2)+D(_.translate.y)},B={x:D((null!==(h=null==I?void 0:I.x)&&void 0!==h?h:0)-(null!==(g=null===(x=l.current)||void 0===x?void 0:x.x)&&void 0!==g?g:0)+R-(null!==(O=null===(E=l.current)||void 0===E?void 0:E.width)&&void 0!==O?O:0)/2)+D(_.translate.x),y:D((null!==(w=null==I?void 0:I.y)&&void 0!==w?w:0)-(null!==(j=null===(C=l.current)||void 0===C?void 0:C.y)&&void 0!==j?j:0)+R-(null!==(S=null===(T=l.current)||void 0===T?void 0:T.height)&&void 0!==S?S:0)/2)+D(_.translate.y)};null===(N=A)||void 0===N||N.setAttribute("d",Qi(L,B))}))}))},M=function(){s&&(R(s.inputs),R(s.outputs,!0))},L=function(e){return e.preventDefault(),e.stopPropagation(),I({x:e.clientX,y:e.clientY}),P(!0),!1},B=function(){P(!1)},z=function(){null==h||h({type:iu.REMOVE_NODE,nodeId:a})};return t().createElement(pt,{className:Cu,style:{width:i,transform:"translate(".concat(u,"px, ").concat(c,"px)")},onDragStart:function(){m()},onDrag:function(e){var t=e.x,n=e.y;S.current&&(S.current.style.transform="translate(".concat(t,"px,").concat(n,"px)"),M())},onDragEnd:function(e,t){null==h||h(vc(vc({type:iu.SET_NODE_COORDINATES},t),{},{nodeId:a}))},innerRef:S,"data-node-id":a,"data-flume-component":"node","data-flume-node-type":g.type,"data-flume-component-is-root":!!f,onContextMenu:L,stageState:_,stageRect:l},y?y(hc,g,{openMenu:L,closeMenu:B,deleteNode:z}):t().createElement(hc,null,x),t().createElement(sc,{nodeId:a,inputs:w,outputs:C,connections:s,updateNodeConnections:M,inputData:d}),N?t().createElement(ie,null,t().createElement(Ge,{x:k.x,y:k.y,options:Ai(!1!==O?[{label:"Delete Node",value:"deleteNode",description:"Deletes a node and all of its connections."}]:[]),onRequestClose:B,onOptionSelected:function(e){"deleteNode"===e.value&&z()},hideFilter:!0,label:"Node Options",emptyText:"This node has no options."})):null)},hc=function(e){var n=e.children,r=e.className,o=void 0===r?"":r,a=ct(e,mc);return t().createElement("h2",vc(vc({},a),{},{className:Su+(o?" ".concat(o):""),"data-flume-component":"node-header"}),n)},_c="Comment_wrapper__1Pnbd",gc="Comment_text__Ie2nX",xc="Comment_resizeThumb__20KWn",Oc="Comment_textarea__2Rze3";J('.Comment_wrapper__1Pnbd {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  padding: 5px;\n  background: rgba(147, 154, 158, 0.7);\n  border-radius: 5px;\n  border-bottom-right-radius: 2px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n  min-width: 80px;\n  font-size: 14px;\n  display: flex;\n  text-shadow: 0px 1px rgba(255,255,255,.1);\n  border: 1px solid rgba(168, 176, 181, 0.7);\n  user-select: none;\n}\n  .Comment_wrapper__1Pnbd[data-color="red"]{\n    background: rgba(213, 84, 103, 0.65);\n    border-color: rgba(227, 85, 119, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="purple"]{\n    background: rgba(153, 83, 196, 0.65);\n    border-color: rgba(156, 85, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="blue"]{\n    background: rgba(76, 142, 203, 0.65);\n    border-color: rgba(85, 159, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="green"]{\n    background: rgba(70, 200, 130, 0.65);\n    border-color: rgba(85, 227, 150, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="yellow"]{\n    background: rgba(200, 167, 63, 0.65);\n    border-color: rgba(227, 213, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="orange"]{\n    background: rgba(215, 123, 64, 0.65);\n    border-color: rgba(227, 149, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="pink"]{\n    background: rgba(255, 102, 208, 0.65);\n    border-color: rgba(242, 131, 228, 0.65);\n  }\n.Comment_text__Ie2nX{\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  white-space: pre-wrap;\n  cursor: default;\n}\n.Comment_resizeThumb__20KWn {\n  width: 10px;\n  height: 10px;\n  border-radius: 4px 0px 4px 0px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  cursor: nwse-resize;\n}\n.Comment_resizeThumb__20KWn::before,\n  .Comment_resizeThumb__20KWn::after {\n    content: "";\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 250%;\n    height: 0px;\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\n    transform-origin: center right;\n    transform: rotate(-45deg) scale(0.5);\n  }\n.Comment_resizeThumb__20KWn::after {\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\n  }\n.Comment_textarea__2Rze3 {\n  resize: none;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border-radius: 3px;\n  background: rgba(255,255,255,.1);\n  border: none;\n  outline: none;\n  margin: -2px;\n  margin-top: -1px;\n  padding-top: 0px;\n  font-size: 14px;\n}\n.Comment_textarea__2Rze3::placeholder{\n    color: rgba(0,0,0,.5);\n  }\n');var Ec="ColorPicker_wrapper__1M1j2",wc="ColorPicker_colorButtonWrapper__1ijdj",jc="ColorPicker_colorButton__1Qcuq";function Cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),e}function Nc(e){var t=function(e,t){if("object"!==Pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pi(t)?t:String(t)}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J('.ColorPicker_wrapper__1M1j2{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  color: #fff;\n  display: flex;\n  width: 102px;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ColorPicker_wrapper__1M1j2{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ColorPicker_colorButtonWrapper__1ijdj{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px;\n}\n.ColorPicker_colorButton__1Qcuq{\n  border-radius: 3px;\n  border: none;\n  width: 20px;\n  height: 20px;\n  background: rgba(204, 204, 204, 1);\n}\n.ColorPicker_colorButton__1Qcuq[data-color="red"]{\n    background: rgba(210, 101, 111, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="purple"]{\n    background: rgba(159, 101, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="blue"]{\n    background: rgba(101, 151, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="green"]{\n    background: rgba(101, 210, 168, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="orange"]{\n    background: rgba(210, 137, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="yellow"]{\n    background: rgba(210, 196, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="pink"]{\n    background: rgba(241, 124, 226, 1)\n  }\n.ColorPicker_colorButton__1Qcuq:hover{\n    opacity: .8;\n  }\n');var kc=function(e,t){return void 0!==e?e:t},Ic=function(e,t){var n,r,o,a,i;return{label:null!==(n=null!==(r=t.label)&&void 0!==r?r:e.label)&&void 0!==n?n:"",name:null!==(o=null!==(a=t.name)&&void 0!==a?a:e.name)&&void 0!==o?o:"",defaultValue:null!==(i=t.defaultValue)&&void 0!==i?i:e.defaultValue}},Dc={text:function(e){return Ac(Ac({},Ic({name:"text",defaultValue:""},e)),{},{type:"text"})},select:function(e){var t;return Ac(Ac({},Ic({name:"select",defaultValue:""},e)),{},{type:"select",options:null!==(t=e.options)&&void 0!==t?t:[],getOptions:e.getOptions,placeholder:e.placeholder})},number:function(e){return Ac(Ac({},Ic({name:"number",defaultValue:0},e)),{},{type:"number",step:e.step})},checkbox:function(e){return Ac(Ac({},Ic({name:"checkbox",defaultValue:!1},e)),{},{type:"checkbox"})},multiselect:function(e){var t;return Ac(Ac({},Ic({name:"multiselect",defaultValue:[]},e)),{},{type:"multiselect",options:null!==(t=e.options)&&void 0!==t?t:[],getOptions:e.getOptions,placeholder:e.placeholder})},custom:function(e){var t;return Ac(Ac({},Ic({name:"custom",defaultValue:void 0},e)),{},{type:"custom",render:null!==(t=e.render)&&void 0!==t?t:function(){return null}})}},Rc={yellow:"yellow",orange:"orange",red:"red",pink:"pink",purple:"purple",blue:"blue",green:"green",grey:"grey"},Mc=function(e){return Object.values(e).reduce((function(e,t){return e[t.type]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:t.type,name:e.name||t.name,label:e.label||t.label,noControls:kc(e.noControls,!1),color:e.color||t.color,hidePort:kc(e.hidePort,t.hidePort),controls:kc(e.controls,t.controls)}},e}),{})},Lc=function(){function e(t){Cc(this,e),t?(this.nodeTypes=Ac({},t.nodeTypes),this.portTypes=Ac({},t.portTypes)):(this.nodeTypes={},this.portTypes={})}return Tc(e,[{key:"addRootNodeType",value:function(e){return this.addNodeType(Ac(Ac({},e),{},{root:!0,addable:!1,deletable:!1})),this}},{key:"addNodeType",value:function(e){if("object"!==Pi(e)&&null!==e)throw new Error("You must provide a configuration object when calling addNodeType.");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addNodeType.');if(void 0!==e.initialWidth&&"number"!=typeof e.initialWidth)throw new Error('Optional key, "initialWidth" must be a number when calling addNodeType.');if(void 0!==this.nodeTypes[e.type])throw new Error('A node with type "'.concat(e.type,'" has already been declared.'));var t={type:e.type,label:kc(e.label,""),description:kc(e.description,""),addable:kc(e.addable,!0),deletable:kc(e.deletable,!0)};if(e.initialWidth&&(t.initialWidth=e.initialWidth),void 0!==e.sortIndex&&(t.sortIndex=e.sortIndex),"function"==typeof e.inputs){var n=e.inputs(Mc(this.portTypes));if(!Array.isArray(n)&&"function"!=typeof e.inputs)throw new Error('When providing a function to the "inputs" key, you must return either an array or a function.');t.inputs=n}else if(void 0===e.inputs)t.inputs=[];else{if(!Array.isArray(e.inputs))throw new Error('Optional key, "inputs" must be an array.');t.inputs=e.inputs}if("function"==typeof e.outputs){var r=e.outputs(Mc(this.portTypes));if(!Array.isArray(r)&&"function"!=typeof e.outputs)throw new Error('When providing a function to the "outputs" key, you must return either an array or a function.');t.outputs=r}else if(void 0===e.outputs)t.outputs=[];else{if(void 0!==e.outputs&&!Array.isArray(e.outputs))throw new Error('Optional key, "outputs" must be an array.');t.outputs=e.outputs}if(void 0!==e.root){if("boolean"!=typeof e.root)throw new Error('Optional key, "root" must be a boolean.');t.root=e.root}return this.nodeTypes[e.type]=t,this}},{key:"removeNodeType",value:function(e){if(this.nodeTypes[e]){var t=this.nodeTypes;t[e];var n=ct(t,[e].map(Nc));this.nodeTypes=n}else console.error('Non-existent node type "'.concat(e,'" cannot be removed.'));return this}},{key:"addPortType",value:function(e){if("object"!==Pi(e)&&null!==e)throw new Error("You must provide a configuration object when calling addPortType");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addPortType.');if(void 0!==this.portTypes[e.type])throw new Error('A port with type "'.concat(e.type,'" has already been declared.'));if("string"!=typeof e.name)throw new Error('Required key, "name" must be a string when calling addPortType.');var t={type:e.type,name:e.name,label:kc(e.label,""),color:kc(e.color,Rc.grey),hidePort:kc(e.hidePort,!1)};if(void 0===e.acceptTypes)t.acceptTypes=[e.type];else{if(!Array.isArray(e.acceptTypes))throw new Error('Optional key, "acceptTypes" must be an array.');t.acceptTypes=e.acceptTypes}if(void 0===e.controls)t.controls=[];else{if(!Array.isArray(e.controls))throw new Error('Optional key, "controls" must be an array.');t.controls=e.controls}return this.portTypes[e.type]=t,this}},{key:"removePortType",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipDynamicNodesCheck,n=void 0!==t&&t;if(this.portTypes[e]){if(!n)Object.values(this.nodeTypes).filter((function(e){return"function"==typeof e.inputs||"function"==typeof e.outputs})).length&&console.warn("We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.");var r=Object.values(this.nodeTypes).filter((function(t){return Array.isArray(t.inputs)&&t.inputs.find((function(t){return t.type===e}))||Array.isArray(t.outputs)&&t.outputs.find((function(t){return t.type===e}))}));if(r.length)throw new Error('Cannot delete port type "'.concat(e,'" without first deleting all node types using these ports: [').concat(r.map((function(e){return"".concat(e.type)})).join(", "),"]"));var o=this.portTypes;o[e];var a=ct(o,[e].map(Nc));this.portTypes=a}else console.error('Non-existent port type "'.concat(e,'" cannot be removed.'));return this}}]),e}(),Bc=function(e){var n=e.x,r=e.y,o=e.onColorPicked,a=e.onRequestClose,i=t().useRef(null),u=t().useCallback((function(e){console.log("testClickOutside",e.type),i.current&&!i.current.contains(e.target)&&(a(),document.removeEventListener("click",u),document.removeEventListener("contextmenu",u))}),[i,a]),c=t().useCallback((function(e){"Escape"===e.key&&(a(),document.removeEventListener("keydown",c))}),[a]);return t().useEffect((function(){return setTimeout((function(){document.addEventListener("keydown",c),document.addEventListener("click",u),document.addEventListener("contextmenu",u)})),function(){document.removeEventListener("click",u),document.removeEventListener("contextmenu",u),document.removeEventListener("keydown",c)}}),[u,c]),t().createElement("div",{"data-flume-component":"color-picker",ref:i,className:Ec,style:{left:n,top:r}},Object.values(Rc).map((function(e){var n=e;return t().createElement(zc,{onSelected:function(){o(n),a()},color:n,key:n})})))},zc=function(e){var n=e.color,r=e.onSelected;return t().createElement("div",{className:wc},t().createElement("button",{"data-flume-component":"color-button",className:jc,onClick:r,"data-color":n,"aria-label":n}))},qc=function(e){var n=e.dispatch,r=e.id,o=e.x,a=e.y,i=e.width,u=e.height,c=e.color,l=e.text,s=e.stageRect,p=e.onDragStart,d=e.isNew,f=t().useContext(ot),m=t().useRef(null),y=t().useRef(null),v=W(t().useState(!1),2),b=v[0],h=v[1],_=W(t().useState(!1),2),g=_[0],x=_[1],O=W(t().useState(!1),2),E=O[0],w=O[1],j=W(t().useState({x:0,y:0}),2),C=j[0],S=j[1],T=W(t().useState({x:0,y:0}),2),N=T[0],P=T[1],A=function(){h(!0)},k=t().useCallback((function(){return x(!1)}),[]);return t().useEffect((function(){d&&(h(!0),n({type:fu.REMOVE_COMMENT_NEW,id:r}))}),[d,n,r]),t().createElement(pt,{innerRef:m,className:_c,style:{transform:"translate(".concat(o,"px,").concat(a,"px)"),width:i,height:u,zIndex:b?999:""},stageState:f,stageRect:s,onDragStart:function(e){p()},onDrag:function(e){var t=e.x,n=e.y;m.current&&(m.current.style.transform="translate(".concat(t,"px,").concat(n,"px)"))},onDragEnd:function(e,t){var o=t.x,a=t.y;n({type:fu.SET_COMMENT_COORDINATES,id:r,x:o,y:a})},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),S({x:e.clientX,y:e.clientY}),w(!0),!1},onDoubleClick:A,onWheel:function(e){return e.stopPropagation()},"data-color":c,"data-flume-component":"comment"},b?t().createElement("textarea",{"data-flume-component":"comment-textarea",className:Oc,onChange:function(e){n({type:fu.SET_COMMENT_TEXT,id:r,text:e.target.value})},onMouseDown:function(e){return e.stopPropagation()},onBlur:function(){h(!1)},placeholder:"Text of the comment...",autoFocus:!0,value:l,ref:y}):t().createElement("div",{"data-flume-component":"comment-text","data-comment":!0,className:gc},l),t().createElement(pt,{className:xc,stageState:f,stageRect:s,onDrag:function(e){var t=Je(e.x-o+10,80,1e4),n=Je(e.y-a+10,30,1e4);m.current&&(m.current.style.width="".concat(t,"px"),m.current.style.height="".concat(n,"px"))},onDragEnd:function(e,t){var i=Je(t.x-o+10,80,1e4),u=Je(t.y-a+10,30,1e4);n({type:fu.SET_COMMENT_DIMENSIONS,id:r,width:i,height:u})},"data-flume-component":"comment-resize-handle"}),E?t().createElement(ie,null,t().createElement(Ge,{hideFilter:!0,label:"Comment Options",x:C.x,y:C.y,options:[{value:"edit",label:"Edit Comment",description:"Edit the text of the comment"},{value:"color",label:"Change Color",description:"Change the color of the comment"},{value:"delete",label:"Delete Comment",description:"Delete the comment"}],onRequestClose:function(){return w(!1)},onOptionSelected:function(e){switch(e.value){case"edit":A();break;case"color":P(C),x(!0),console.log(C);break;case"delete":n({type:fu.DELETE_COMMENT,id:r})}}})):null,g?t().createElement(ie,null,t().createElement(Bc,{x:N.x,y:N.y,onRequestClose:k,onColorPicked:function(e){n({type:fu.SET_COMMENT_COLOR,id:r,color:e})}})):null)},Uc="Toaster_toaster__1eC3T",Wc="Toaster_toast__3YHVS",Hc="Toaster_title__4InNr",Fc="Toaster_timer__3dGzF",Vc="Toaster_exitButton__1S_Ks";function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J('.Toaster_toaster__1eC3T{\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 15px;\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\n  pointer-events: none;\n}\n.Toaster_toast__3YHVS{\n  position: absolute;\n  left: calc(50% - 200px);\n  top: 0px;\n  pointer-events: all;\n  width: 400px;\n  padding: 10px;\n  padding-top: 7px;\n  padding-right: 16px;\n  border-radius: 6px;\n  background: rgba(231, 231, 231, 1);\n  border: 1px solid;\n  margin-bottom: 5px;\n  transition: transform 300ms;\n  flex: 0 0 auto;\n  animation: Toaster_fade-in__2526Y 150ms;\n  user-select: none;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n}\n.Toaster_toast__3YHVS[data-type="danger"]{\n    background: rgb(255, 116, 137);\n    border-color: rgb(254, 99, 136);\n    color: rgb(66, 6, 20);\n  }\n.Toaster_toast__3YHVS[data-type="info"]{\n    background: rgb(76, 193, 250);\n    border-color: rgb(103, 182, 255);\n    color: rgb(5, 36, 64);\n  }\n.Toaster_toast__3YHVS[data-type="success"]{\n    background: rgb(81, 230, 150);\n    border-color: rgb(85, 227, 150);\n    color: rgb(7, 57, 30);\n  }\n.Toaster_toast__3YHVS[data-type="warning"]{\n    background: rgb(245, 208, 93);\n    border-color: rgb(247, 235, 125);\n    color: rgb(83, 75, 8);\n  }\n.Toaster_toast__3YHVS[data-exiting=true]{\n    animation: Toaster_fade-out__2lM6E 150ms;\n    animation-fill-mode: forwards;\n  }\n.Toaster_toast__3YHVS p{\n  margin: 0px;\n}\n.Toaster_title__4InNr{\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.Toaster_timer__3dGzF{\n  position: absolute;\n  bottom: -1px;\n  left: -1px;\n  width: calc(100% + 2px);\n  height: 3px;\n  background: rgba(0,0,0,.4);\n  transform-origin: left center;\n  animation: Toaster_timer__3dGzF 1000ms linear;\n  animation-fill-mode: forwards;\n  z-index: 9;\n}\n.Toaster_exitButton__1S_Ks{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n  background: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  color: inherit;\n  opacity: .6;\n}\n.Toaster_exitButton__1S_Ks:hover{\n  opacity: .9;\n}\n\n@keyframes Toaster_fade-in__2526Y {\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n}\n\n@keyframes Toaster_fade-out__2lM6E {\n  from{\n    opacity: 1;\n  }\n  to{\n    opacity: 0;\n  }\n}\n\n@keyframes Toaster_timer__3dGzF {\n  from{\n    transform: scaleX(1);\n  }\n  to{\n    transform: scaleX(0);\n  }\n}\n');var Kc=function(e){var n=e.toasts,r=void 0===n?[]:n,o=e.dispatchToasts,a=t().useCallback((function(e,t){o({type:Xi.SET_HEIGHT,id:e,height:t})}),[o]),i=t().useCallback((function(e){o({type:Xi.SET_EXITING,id:e})}),[o]),u=t().useCallback((function(e){o({type:Xi.REMOVE_TOAST,id:e})}),[o]);return t().createElement("div",{className:Uc},r.map((function(e,n){return t().createElement(Jc,Xc(Xc({},e),{},{onHeightReceived:a,onExitRequested:i,onRemoveRequested:u,y:r.slice(0,n+1).reduce((function(e,t){return t.height+e+5}),0),key:e.id}))})))},Jc=function(e){var n=e.id,r=e.title,o=e.message,a=e.duration,i=e.type,u=e.exiting,c=e.y,l=e.onHeightReceived,s=e.onExitRequested,p=e.onRemoveRequested,d=W(t().useState(!1),2),f=d[0],m=d[1],y=t().useRef(null),v=t().useRef(),b=t().useCallback((function(){m(!0),v.current&&clearTimeout(v.current)}),[]),h=t().useCallback((function(){m(!1),v.current=setTimeout((function(){return s(n)}),a)}),[n,a,s]);t().useLayoutEffect((function(){if(y.current){var e=y.current.getBoundingClientRect().height;l(n,e)}}),[l,n]),t().useEffect((function(){return h(),b}),[h,b]);return t().createElement("div",{"data-flume-component":"toast",ref:y,className:Wc,"data-type":i,style:{transform:"translateY(-".concat(c,"px)")},"data-exiting":u,onAnimationEnd:function(){u&&p(n)},onMouseEnter:b,onMouseLeave:h,role:"alert"},r?t().createElement("span",{"data-flume-component":"toast-title",className:Hc},r):null,t().createElement("p",{"data-flume-component":"toast-message"},o),!f&&t().createElement("div",{className:Fc,style:{animationDuration:"".concat(a,"ms")},onAnimationEnd:function(e){return e.stopPropagation()}}),t().createElement("button",{"data-flume-component":"toast-close",className:Vc,onClick:function(){b(),s(n)}},"✕"))},Qc="Connections_svgWrapper__3mXcU";J(".Connections_svgWrapper__3mXcU{\n  position: absolute;\n  left: 0px;\n  height: 0px;\n}\n");var Gc=function(e){var n=e.editorId;return t().createElement("div",{className:Qc,id:"".concat(Ni).concat(n)})},$c=Tc((function e(){Cc(this,e),this.ports={},this.connections={}})),Zc={dragWrapper:"styles_dragWrapper__1P7RD",debugWrapper:"styles_debugWrapper__2OSbY"};function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J(".styles_dragWrapper__1P7RD{\n  z-index: 9999;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.styles_debugWrapper__2OSbY{\n  display: flex;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  gap: 15px;\n}\n");var nl={},rl=t().forwardRef((function(n,r){var o,a=n.comments,i=n.nodes,u=n.nodeTypes,c=void 0===u?{}:u,l=n.portTypes,s=void 0===l?{}:l,p=n.defaultNodes,d=void 0===p?[]:p,f=n.context,m=void 0===f?nl:f,y=n.onChange,v=n.onCommentsChange,b=n.initialScale,h=n.spaceToPan,_=void 0!==h&&h,g=n.hideComments,x=void 0!==g&&g,O=n.disableComments,E=void 0!==O&&O,w=n.disableZoom,j=void 0!==w&&w,C=n.disablePan,S=void 0!==C&&C,T=n.circularBehavior,N=n.renderNodeHeader,P=n.debug,A=null!==(o=function(t){var n=t||(Y?K():null),r=(0,e.useState)(n),o=r[0],a=r[1];return F((function(){null===o&&a(K())}),[]),(0,e.useEffect)((function(){!1===Y&&(Y=!0)}),[]),null!=o?String(o):void 0}())&&void 0!==o?o:"",k=t().useRef(new $c),I=t().useRef(),D=W(t().useState(),2),R=D[0],M=D[1],L=W(t().useReducer(tu,[]),2),B=L[0],z=L[1],q=t().useReducer(function(e,t,n){return function(r,o){return e(r,o,t,n)}}(mu,{nodeTypes:c,portTypes:s,cache:k,circularBehavior:T,context:m},M),{},(function(){return pu(i,d,c,s,m)})),U=W(q,2),H=U[0],V=U[1],X=W(t().useReducer(xu,a||{}),2),J=X[0],Q=X[1];t().useEffect((function(){V({type:iu.HYDRATE_DEFAULT_NODES})}),[]);var G=W(t().useState(!0),2),$=G[0],Z=G[1],ee=W(t().useReducer(wu,{scale:"number"==typeof b?Je(b,.1,7):1,translate:{x:0,y:0}}),2),te=ee[0],ne=ee[1],re=t().useCallback((function(){$i(H,te,A)}),[H,A,te]),oe=t().useCallback((function(){var e;I.current=null===(e=document.getElementById("".concat(Si).concat(A)))||void 0===e?void 0:e.getBoundingClientRect()}),[A]);t().useLayoutEffect((function(){$&&(re(),Z(!1))}),[$,re]);var ae=t().useCallback((function(){Z(!0)}),[]);t().useImperativeHandle(r,(function(){return{getNodes:function(){return H},getComments:function(){return J}}}));var ie=oc(H);t().useEffect((function(){ie&&y&&H!==ie&&y(H)}),[H,ie,y]);var ue=oc(J);return t().useEffect((function(){ue&&v&&J!==ue&&v(J)}),[J,ue,v]),t().useEffect((function(){R&&(z(R),M(void 0))}),[R]),t().createElement(et.Provider,{value:s},t().createElement(Ze.Provider,{value:c},t().createElement(tt.Provider,{value:V},t().createElement(nt.Provider,{value:ae},t().createElement(rt.Provider,{value:m},t().createElement(ot.Provider,{value:te},t().createElement(at.Provider,{value:k},t().createElement(ut.Provider,{value:A},t().createElement(it.Provider,{value:oe},t().createElement(ju,{editorId:A,scale:te.scale,translate:te.translate,spaceToPan:_,disablePan:S,disableZoom:j,dispatchStageState:ne,dispatchComments:Q,disableComments:E||x,stageRef:I,numNodes:Object.keys(H).length,outerStageChildren:t().createElement(t().Fragment,null,P&&t().createElement("div",{className:Zc.debugWrapper},t().createElement("button",{className:Zc.debugButton,onClick:function(){return console.log(H)}},"Log Nodes"),t().createElement("button",{className:Zc.debugButton,onClick:function(){return console.log(JSON.stringify(H))}},"Export Nodes"),t().createElement("button",{className:Zc.debugButton,onClick:function(){return console.log(J)}},"Log Comments")),t().createElement(Kc,{toasts:B,dispatchToasts:z}))},!x&&Object.values(J).map((function(e){return t().createElement(qc,tl(tl({},e),{},{stageRect:I,dispatch:Q,onDragStart:oe,key:e.id}))})),Object.values(H).map((function(e){return t().createElement(bc,tl(tl({},e),{},{stageRect:I,onDragStart:oe,renderNodeHeader:N,key:e.id}))})),t().createElement(Gc,{editorId:A}),t().createElement("div",{className:Zc.dragWrapper,id:"".concat(Ti).concat(A)})))))))))))}));function ol(e,t){return ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ol(e,t)}function al(e,t){if(t&&("object"===Pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(e)}function ul(e,t,n){return ul=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ol(o,n.prototype),o},ul.apply(null,arguments)}function cl(e){var t="function"==typeof Map?new Map:void 0;return cl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ul(e,arguments,il(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ol(r,e)},cl(e)}function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=il(e);if(t){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return al(this,n)}}var sl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}(n,e);var t=ll(n);function n(e,r){var o;return Cc(this,n),(o=t.call(this,e)).code=r,o}return Tc(n)}(cl(Error));z(sl,"maxLoopsExceeded",1);function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(null,arguments)}var dl=function(e){return function(t){var n=t.name,r=t.label,o=t.others;return Dc.custom({name:n,label:r,render:function(t,n,r,a,i,u){return React.createElement(React.Fragment,null,React.createElement("label",{"data-flume-component":"control-label",className:"Control_controlLabel__3ga2-"},i.label),React.createElement("div",{className:"TextInput_wrapper__tefOZ","data-flume-component":"text-input"},React.createElement("input",pl({type:e,"data-flume-component":"text-input-$(itype)",className:"TextInput_input__1QHwS",defaultValue:t,onChange:function(e){return n(e.target.value)}},o))))}})}},fl={number:Dc.number,int:Dc.number,float:Dc.number,text:Dc.text,str:Dc.text,checkbox:Dc.checkbox,bool:Dc.checkbox,select:Dc.select,multiselect:Dc.multiselect,color:dl("color"),date:dl("date"),time:dl("time"),month:dl("month"),week:dl("week"),slider:dl("range")},ml=(n(809),["color","controls"]),yl=["type"],vl=["inputs","outputs","label","category"],bl=["type","controls"],hl=["type","controls"];function _l(e){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(e)}function gl(e){return function(e){if(Array.isArray(e))return Sl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,u=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||Cl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function Cl(e,t){if(e){if("string"==typeof e)return Sl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sl(e,t):void 0}}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dl(r.key),r)}}function Nl(e,t,n){return t=Al(t),function(e,t){if(t&&("object"==_l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pl()?Reflect.construct(t,n||[],Al(e).constructor):t.apply(e,n))}function Pl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pl=function(){return!!e})()}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(e)}function kl(e,t){return kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kl(e,t)}function Il(e,t,n){return(t=Dl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e){var t=function(e,t){if("object"!=_l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_l(t)?t:t+""}var Rl=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Il(r=Nl(this,n,[e]),"updateConfig",(function(){var e=r.props.config;r.flconfig=new Lc;var n,o=jl(e.portTypes);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.color,u=a.controls,c=El(a,ml);P(i)||I(i)||(c.color=Rc[i]),P(u)||I(u)?c.controls=[Dc.custom({name:c.type,label:c.label,defaultValue:null,render:function(e,n,r,o,a,i){return t().createElement("label",{"data-flume-component":"port-label",className:"IoPorts_portLabel__qOE7y"}," ",a.inputLabel)}})]:c.controls=u.map((function(e){var t=e.type,n=El(e,yl);return fl[t](Ol({},n))}));try{r.flconfig.addPortType(c)}catch(e){}}}catch(e){o.e(e)}finally{o.f()}var l,s=jl(e.nodeTypes);try{var p,d=function(){var e=l.value,t=e.inputs,n=e.outputs,o=e.label,a=e.category,i=El(e,vl);if(!P(t)&&!I(t))if(A("source",t))p=new Function(t.source),i.inputs=function(e){return function(t,n,r){return p(e,t,n,r)}};else if(A("path",t))try{i.inputs=function(e){return function(n,r,o){return(0,window.dash_clientside.flowfunc[t.path])(e,n,r,o)}}}catch(e){console.log("Error in evaluating function from path",e)}else i.inputs=function(e){return t.map((function(t){var n=t.type,r=(t.controls,El(t,bl));return e[n](r)}))};P(n)||I(n)||(i.outputs=function(e){return n.map((function(t){var n=t.type,r=(t.controls,El(t,hl));return e[n](r)}))}),P(a)||I(a)?i.label=o:i.label="".concat(a,": ").concat(o),r.flconfig.addNodeType(i)};for(s.s();!(l=s.n()).done;)d()}catch(e){s.e(e)}finally{s.f()}if(!r.props.type_safety)for(var f=r.flconfig.portTypes.object.acceptTypes,m=0,y=Object.entries(r.flconfig.portTypes);m<y.length;m++){var v=wl(y[m],2);v[0];v[1].acceptTypes=f}})),Il(r,"handleChange",(function(){r.props.setProps({editor_status:"client",nodes:r.nodeEditor.current.getNodes(),comments:r.nodeEditor.current.getComments()})})),Il(r,"setNodeStatus",(function(e,t){var n=r.container.current.querySelector('[data-node-id="'+e+'"]');if(t){var o;(o=n.classList).remove.apply(o,["started","queued","deferred","finished","canceled","stopped","scheduled","failed"]),n.classList.add(t)}})),Il(r,"setNodesStatus",(function(){if(!(P(r.props.nodes_status)|I(r.props.nodes_status)))for(var e=0,t=Object.entries(r.props.nodes_status);e<t.length;e++){var n=wl(t[e],2),o=n[0],a=n[1];try{r.setNodeStatus(o,a)}catch(e){}}})),Il(r,"addEventListners",(function(){var e=r,t=r.container.current;"true"!==t.getAttribute("data-event-click")&&(t.addEventListener("click",(function(n){if(!n.ctrlKey){e.localSelectedNodes=new Set;for(var r=0,o=Object.entries(e.props.nodes);r<o.length;r++){var a=wl(o[r],2),i=a[0];a[1];try{t.querySelector('[data-node-id = "'+i+'"]').classList.remove("active")}catch(e){}}}var u=n.target.closest("[class^=Node_wrapper]");if(u){var c=u.getAttribute("data-node-id");e.localSelectedNodes.add(c),u.classList.add("active")}e.props.setProps({selected_nodes:gl(e.localSelectedNodes)})})),t.addEventListener("dblclick",(function(t){var n=t.target.closest("[class^=Node_wrapper]");if(n){var r=n.getAttribute("data-node-id");e.props.setProps({double_clicked_node:r})}})),t.setAttribute("data-event-click","true"))})),r.nodeEditor=t().createRef(),r.container=t().createRef(),r.ukey=(new Date).toISOString(),r.localSelectedNodes=new Set,r.updateConfig(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kl(e,t)}(n,e),r=n,(o=[{key:"componentDidMount",value:function(){this.addEventListners()}},{key:"componentDidUpdate",value:function(e){this.props.config!==e.config&&this.updateConfig(),"server"===this.props.editor_status&&(this.ukey=(Math.random()+1).toString(36).substring(7)),this.setNodesStatus()}},{key:"render",value:function(){return t().createElement("div",{id:this.props.id,style:{height:"100%",zIndex:-1},ref:this.container},t().createElement(rl,{ref:this.nodeEditor,portTypes:this.flconfig.portTypes,nodeTypes:this.flconfig.nodeTypes,nodes:this.props.nodes,defaultNodes:this.props.default_nodes,context:this.props.context,initialScale:this.props.initial_scale,disableZoom:this.props.disable_zoom,disablePan:this.props.disable_pan,spaceToPan:this.props.space_to_pan,onChange:this.handleChange,onCommentsChange:this.handleChange,key:this.ukey}))}}])&&Tl(r.prototype,o),a&&Tl(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(e.Component);Rl.defaultProps={},Rl.propTypes={id:B().string,style:B().object,nodes:B().object,nodes_status:B().object,editor_status:B().string,selected_nodes:B().array,double_clicked_node:B().string,comments:B().object,type_safety:B().bool,default_nodes:B().array,context:B().object,initial_scale:B().number,disable_zoom:B().bool,disable_pan:B().bool,space_to_pan:B().bool,config:B().object,setProps:B().func}})(),window.flowfunc=i})();
//# sourceMappingURL=flowfunc.min.js.map