{"version":3,"file":"flowfunc.min.js","mappings":"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","sources":["webpack:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack:///./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack:///./src/lib/components/nodeeditor.css","webpack:///./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack:///./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/compat","webpack:///webpack/runtime/nonce","webpack:///external window \"React\"","webpack:///./node_modules/ramda/es/__.js","webpack:///./node_modules/ramda/es/internal/_isArray.js","webpack:///./node_modules/ramda/es/internal/_isPlaceholder.js","webpack:///./node_modules/ramda/es/internal/_curry1.js","webpack:///./node_modules/ramda/es/internal/_curry2.js","webpack:///./node_modules/ramda/es/internal/_isString.js","webpack:///./node_modules/ramda/es/internal/_reduce.js","webpack:///./node_modules/ramda/es/internal/_has.js","webpack:///./node_modules/ramda/es/internal/_isArguments.js","webpack:///./node_modules/ramda/es/keys.js","webpack:///./node_modules/ramda/es/internal/_isInteger.js","webpack:///./node_modules/ramda/es/internal/_arrayFromIterator.js","webpack:///./node_modules/ramda/es/internal/_includesWith.js","webpack:///./node_modules/ramda/es/internal/_objectIs.js","webpack:///./node_modules/ramda/es/type.js","webpack:///./node_modules/ramda/es/internal/_equals.js","webpack:///./node_modules/ramda/es/internal/_functionName.js","webpack:///./node_modules/ramda/es/equals.js","webpack:///./node_modules/ramda/es/internal/_toISOString.js","webpack:///./node_modules/ramda/es/internal/_isObject.js","webpack:///./node_modules/ramda/es/empty.js","webpack:///./node_modules/ramda/es/internal/_isTypedArray.js","webpack:///./node_modules/ramda/es/isNil.js","webpack:///./node_modules/ramda/es/hasIn.js","webpack:///./node_modules/ramda/es/internal/_objectAssign.js","webpack:///./node_modules/ramda/es/isEmpty.js","webpack:///./node_modules/ramda/es/trim.js","webpack:///./node_modules/ramda/es/without.js","webpack:///external window \"ReactDOM\"","webpack:///external window \"PropTypes\"","webpack:///./node_modules/flume/dist/index.es.js","webpack:///./src/lib/utils/Controls.js","webpack:///./src/lib/components/nodeeditor.css?874d","webpack:///./src/lib/components/Flowfunc.react.js"],"sourcesContent":["\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.active[data-flume-component=\"node\"] > h2{\r\n    background-color:indianred;\r\n}\r\n.started[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(218, 194, 60);\r\n}\r\n.queued[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(84, 131, 202);\r\n}\r\n.finished[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(55, 189, 126);\r\n}\r\n.failed[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(196, 64, 64);\r\n}\r\n.deferred[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(194, 194, 194);\r\n}\r\n.stopped[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(145, 73, 73);\r\n}\r\n.scheduled[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(73, 116, 145);\r\n}\r\n.canceled[data-flume-component=\"node\"] {\r\n    border-bottom: 5px solid rgb(107, 109, 94);\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/lib/components/nodeeditor.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,0BAA0B;AAC9B;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,2CAA2C;AAC/C;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,0CAA0C;AAC9C;AACA;IACI,0CAA0C;AAC9C\",\"sourcesContent\":[\".active[data-flume-component=\\\"node\\\"] > h2{\\r\\n    background-color:indianred;\\r\\n}\\r\\n.started[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(218, 194, 60);\\r\\n}\\r\\n.queued[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(84, 131, 202);\\r\\n}\\r\\n.finished[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(55, 189, 126);\\r\\n}\\r\\n.failed[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(196, 64, 64);\\r\\n}\\r\\n.deferred[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(194, 194, 194);\\r\\n}\\r\\n.stopped[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(145, 73, 73);\\r\\n}\\r\\n.scheduled[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(73, 116, 145);\\r\\n}\\r\\n.canceled[data-flume-component=\\\"node\\\"] {\\r\\n    border-bottom: 5px solid rgb(107, 109, 94);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var getCurrentScript = function() {\n    var script = document.currentScript;\n    if (!script) {\n        /* Shim for IE11 and below */\n        /* Do not take into account async scripts and inline scripts */\n\n        var doc_scripts = document.getElementsByTagName('script');\n        var scripts = [];\n\n        for (var i = 0; i < doc_scripts.length; i++) {\n            scripts.push(doc_scripts[i]);\n        }\n\n        scripts = scripts.filter(function(s) { return !s.async && !s.text && !s.textContent; });\n        script = scripts.slice(-1)[0];\n    }\n\n    return script;\n};\n\nvar isLocalScript = function(script) {\n    return /\\/_dash-component-suites\\//.test(script.src);\n};\n\nObject.defineProperty(__webpack_require__, 'p', {\n    get: (function () {\n        var script = getCurrentScript();\n\n        var url = script.src.split('/').slice(0, -1).join('/') + '/';\n\n        return function() {\n            return url;\n        };\n    })()\n});\n\nif (typeof jsonpScriptSrc !== 'undefined') {\n    var __jsonpScriptSrc__ = jsonpScriptSrc;\n    jsonpScriptSrc = function(chunkId) {\n        var script = getCurrentScript();\n        var isLocal = isLocalScript(script);\n\n        var src = __jsonpScriptSrc__(chunkId);\n\n        if(!isLocal) {\n            return src;\n        }\n\n        var srcFragments = src.split('/');\n        var fileFragments = srcFragments.slice(-1)[0].split('.');\n\n        fileFragments.splice(1, 0, \"v0_1_5m1742244423\");\n        srcFragments.splice(-1, 1, fileFragments.join('.'))\n\n        return srcFragments.join('/');\n    };\n}\n","__webpack_require__.nc = undefined;","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","/**\n * A special placeholder value used to specify \"gaps\" within curried functions,\n * allowing partial application of any combination of arguments, regardless of\n * their positions.\n *\n * If `g` is a curried ternary function and `_` is `R.__`, the following are\n * equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2, _)(1, 3)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @name __\n * @constant\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @example\n *\n *      const greet = R.replace('{name}', R.__, 'Hello, {name}!');\n *      greet('Alice'); //=> 'Hello, Alice!'\n */\nexport default {\n  '@@functional/placeholder': true\n};","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};","export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}","import _isArrayLike from \"./_isArrayLike.js\";\nimport _xwrap from \"./_xwrap.js\";\nimport bind from \"../bind.js\";\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx += 1;\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    step = iter.next();\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}","export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}","import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;","import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;","/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};","export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}","export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}","// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;","import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}","export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}","import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;","/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\n\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\n\nexport default _toISOString;","export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}","import _curry1 from \"./internal/_curry1.js\";\nimport _isArguments from \"./internal/_isArguments.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _isString from \"./internal/_isString.js\";\nimport _isTypedArray from \"./internal/_isTypedArray.js\";\n/**\n * Returns the empty value of its argument's type. Ramda defines the empty\n * value of Array (`[]`), Object (`{}`), String (`''`),\n * TypedArray (`Uint8Array []`, `Float32Array []`, etc), and Arguments. Other\n * types are supported if they define `<Type>.empty`,\n * `<Type>.prototype.empty` or implement the\n * [FantasyLand Monoid spec](https://github.com/fantasyland/fantasy-land#monoid).\n *\n * Dispatches to the `empty` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig a -> a\n * @param {*} x\n * @return {*}\n * @example\n *\n *      R.empty(Just(42));               //=> Nothing()\n *      R.empty([1, 2, 3]);              //=> []\n *      R.empty('unicorns');             //=> ''\n *      R.empty({x: 1, y: 2});           //=> {}\n *      R.empty(Uint8Array.from('123')); //=> Uint8Array []\n */\n\nvar empty =\n/*#__PURE__*/\n_curry1(function empty(x) {\n  return x != null && typeof x['fantasy-land/empty'] === 'function' ? x['fantasy-land/empty']() : x != null && x.constructor != null && typeof x.constructor['fantasy-land/empty'] === 'function' ? x.constructor['fantasy-land/empty']() : x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {\n    return arguments;\n  }() : _isTypedArray(x) ? x.constructor.from('') : void 0 // else\n  ;\n});\n\nexport default empty;","/**\n * Tests whether or not an object is a typed array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is a typed array, `false` otherwise.\n * @example\n *\n *      _isTypedArray(new Uint8Array([])); //=> true\n *      _isTypedArray(new Float32Array([])); //=> true\n *      _isTypedArray([]); //=> false\n *      _isTypedArray(null); //=> false\n *      _isTypedArray({}); //=> false\n */\nexport default function _isTypedArray(val) {\n  var type = Object.prototype.toString.call(val);\n  return type === '[object Uint8ClampedArray]' || type === '[object Int8Array]' || type === '[object Uint8Array]' || type === '[object Int16Array]' || type === '[object Uint16Array]' || type === '[object Int32Array]' || type === '[object Uint32Array]' || type === '[object Float32Array]' || type === '[object Float64Array]' || type === '[object BigInt64Array]' || type === '[object BigUint64Array]';\n}","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Checks if the input value is `null` or `undefined`.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Type\n * @sig * -> Boolean\n * @param {*} x The value to test.\n * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.\n * @example\n *\n *      R.isNil(null); //=> true\n *      R.isNil(undefined); //=> true\n *      R.isNil(0); //=> false\n *      R.isNil([]); //=> false\n */\n\nvar isNil =\n/*#__PURE__*/\n_curry1(function isNil(x) {\n  return x == null;\n});\n\nexport default isNil;","import _curry2 from \"./internal/_curry2.js\";\nimport isNil from \"./isNil.js\";\n/**\n * Returns whether or not an object or its prototype chain has a property with\n * the specified name\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Object\n * @sig s -> {s: x} -> Boolean\n * @param {String} prop The name of the property to check for.\n * @param {Object} obj The object to query.\n * @return {Boolean} Whether the property exists.\n * @example\n *\n *      function Rectangle(width, height) {\n *        this.width = width;\n *        this.height = height;\n *      }\n *      Rectangle.prototype.area = function() {\n *        return this.width * this.height;\n *      };\n *\n *      const square = new Rectangle(2, 2);\n *      R.hasIn('width', square);  //=> true\n *      R.hasIn('area', square);  //=> true\n */\n\nvar hasIn =\n/*#__PURE__*/\n_curry2(function hasIn(prop, obj) {\n  if (isNil(obj)) {\n    return false;\n  }\n\n  return prop in obj;\n});\n\nexport default hasIn;","import _has from \"./_has.js\"; // Based on https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\nfunction _objectAssign(target) {\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  var output = Object(target);\n  var idx = 1;\n  var length = arguments.length;\n\n  while (idx < length) {\n    var source = arguments[idx];\n\n    if (source != null) {\n      for (var nextKey in source) {\n        if (_has(nextKey, source)) {\n          output[nextKey] = source[nextKey];\n        }\n      }\n    }\n\n    idx += 1;\n  }\n\n  return output;\n}\n\nexport default typeof Object.assign === 'function' ? Object.assign : _objectAssign;","import _curry1 from \"./internal/_curry1.js\";\nimport empty from \"./empty.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the given value is its type's empty value; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> Boolean\n * @param {*} x\n * @return {Boolean}\n * @see R.empty\n * @example\n *\n *      R.isEmpty([1, 2, 3]);           //=> false\n *      R.isEmpty([]);                  //=> true\n *      R.isEmpty('');                  //=> true\n *      R.isEmpty(null);                //=> false\n *      R.isEmpty({});                  //=> true\n *      R.isEmpty({length: 0});         //=> false\n *      R.isEmpty(Uint8Array.from('')); //=> true\n */\n\nvar isEmpty =\n/*#__PURE__*/\n_curry1(function isEmpty(x) {\n  return x != null && equals(x, empty(x));\n});\n\nexport default isEmpty;","import _curry1 from \"./internal/_curry1.js\";\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003' + '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' + '\\u2029\\uFEFF';\nvar zeroWidth = '\\u200b';\nvar hasProtoTrim = typeof String.prototype.trim === 'function';\n/**\n * Removes (strips) whitespace from both ends of the string.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to trim.\n * @return {String} Trimmed version of `str`.\n * @example\n *\n *      R.trim('   xyz  '); //=> 'xyz'\n *      R.map(R.trim, R.split(',', 'x, y, z')); //=> ['x', 'y', 'z']\n */\n\nvar trim = !hasProtoTrim ||\n/*#__PURE__*/\nws.trim() || !\n/*#__PURE__*/\nzeroWidth.trim() ?\n/*#__PURE__*/\n_curry1(function trim(str) {\n  var beginRx = new RegExp('^[' + ws + '][' + ws + ']*');\n  var endRx = new RegExp('[' + ws + '][' + ws + ']*$');\n  return str.replace(beginRx, '').replace(endRx, '');\n}) :\n/*#__PURE__*/\n_curry1(function trim(str) {\n  return str.trim();\n});\nexport default trim;","import _includes from \"./internal/_includes.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport flip from \"./flip.js\";\nimport reject from \"./reject.js\";\n/**\n * Returns a new list without values in the first argument.\n * [`R.equals`](#equals) is used to determine equality.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig [a] -> [a] -> [a]\n * @param {Array} list1 The values to be removed from `list2`.\n * @param {Array} list2 The array to remove values from.\n * @return {Array} The new array without values in `list1`.\n * @see R.transduce, R.difference, R.remove\n * @example\n *\n *      R.without([1, 2], [1, 2, 1, 3, 4]); //=> [3, 4]\n */\n\nvar without =\n/*#__PURE__*/\n_curry2(function (xs, list) {\n  return reject(flip(_includes)(xs), list);\n});\n\nexport default without;","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactDOM\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"PropTypes\"];","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nprocess.env.NODE_ENV !== 'production';\n\n/* eslint-disable no-restricted-globals, eqeqeq  */\n/**\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\r\n * ensure we don't get a render flash for certain operations, but we may also\r\n * need affected components to render on the server. One example is when setting\r\n * a component's descendants to retrieve their index values.\r\n *\r\n * Important to note that using this hook as an escape hatch will break the\r\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\r\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\r\n * any server/client mismatch.\r\n *\r\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\r\n * likely that the component in question shouldn't be rendered on the server at\r\n * all, so a better approach would be to lazily render those in a parent\r\n * component after client-side hydration.\r\n *\r\n * TODO: We are calling useLayoutEffect in a couple of places that will likely\r\n * cause some issues for SSR users, whether the warning shows or not. Audit and\r\n * fix these.\r\n *\r\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\r\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\r\n *\r\n * @param effect\r\n * @param deps\r\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM$1() ? React.useLayoutEffect : React.useEffect;\n\nif (process.env.NODE_ENV !== \"production\") {\n  // In CJS files, process.env.NODE_ENV is stripped from our build, but we need\n  // it to prevent style checks from clogging up user logs while testing.\n  // This is a workaround until we can tweak the build a bit to accommodate.\n  var _ref = typeof process !== \"undefined\" ? process : {\n    env: {\n      NODE_ENV: \"development\"\n    }\n  };\n      _ref.env;\n}\nfunction canUseDOM$1() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nif (process.env.NODE_ENV !== \"production\") ;\n\nif (process.env.NODE_ENV !== \"production\") ;\n\nif (process.env.NODE_ENV !== \"production\") ;\n\n/*\r\n * Welcome to @reach/auto-id!\r\n\n * Let's see if we can make sense of why this hook exists and its\r\n * implementation.\r\n *\r\n * Some background:\r\n *   1. Accessibiliy APIs rely heavily on element IDs\r\n *   2. Requiring developers to put IDs on every element in Reach UI is both\r\n *      cumbersome and error-prone\r\n *   3. With a component model, we can generate IDs for them!\r\n *\r\n * Solution 1: Generate random IDs.\r\n *\r\n * This works great as long as you don't server render your app. When React (in\r\n * the client) tries to reuse the markup from the server, the IDs won't match\r\n * and React will then recreate the entire DOM tree.\r\n *\r\n * Solution 2: Increment an integer\r\n *\r\n * This sounds great. Since we're rendering the exact same tree on the server\r\n * and client, we can increment a counter and get a deterministic result between\r\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\r\n * pretty sure the tab will be closed before an app never needs\r\n * 10 quadrillion IDs!\r\n *\r\n * Problem solved, right?\r\n *\r\n * Ah, but there's a catch! React's concurrent rendering makes this approach\r\n * non-deterministic. While the client and server will end up with the same\r\n * elements in the end, depending on suspense boundaries (and possibly some user\r\n * input during the initial render) the incrementing integers won't always match\r\n * up.\r\n *\r\n * Solution 3: Don't use IDs at all on the server; patch after first render.\r\n *\r\n * What we've done here is solution 2 with some tricks. With this approach, the\r\n * ID returned is an empty string on the first render. This way the server and\r\n * client have the same markup no matter how wild the concurrent rendering may\r\n * have gotten.\r\n *\r\n * After the render, we patch up the components with an incremented ID. This\r\n * causes a double render on any components with `useId`. Shouldn't be a problem\r\n * since the components using this hook should be small, and we're only updating\r\n * the ID attribute on the DOM, nothing big is happening.\r\n *\r\n * It doesn't have to be an incremented number, though--we could do generate\r\n * random strings instead, but incrementing a number is probably the cheapest\r\n * thing we can do.\r\n *\r\n * Additionally, we only do this patchup on the very first client render ever.\r\n * Any calls to `useId` that happen dynamically in the client will be\r\n * populated immediately with a value. So, we only get the double render after\r\n * server hydration and never again, SO BACK OFF ALRIGHT?\r\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\r\n * useId\r\n *\r\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\r\n *\r\n * Note: The returned ID will initially be `null` and will update after a\r\n * component mounts. Users may need to supply their own ID if they need\r\n * consistent values for SSR.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/auto-id\r\n */\n\n\nvar useId = function useId(idFromProps) {\n  /*\r\n   * If this instance isn't part of the initial render, we don't have to do the\r\n   * double render/patch-up dance. We can just generate the ID and return it.\r\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _useState = useState(initialId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\r\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\r\n       * rendering flicker, though it'll make the first render slower (unlikely\r\n       * to matter, but you're welcome to measure your app and let us know if\r\n       * it's a problem).\r\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\r\n       * Flag all future uses of `useId` to skip the update dance. This is in\r\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\r\n       * accidentally bail out of the patch-up dance prematurely.\r\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css$d = \".Stage_wrapper__1X5K_ {\\n  width: 100%;\\n  height: 100%;\\n  min-height: 100px;\\n  background-color: rgb(26, 28, 29);\\n  background-image: linear-gradient(\\n      0deg,\\n      transparent 24%,\\n      rgba(255, 255, 255, 0.04) 25%,\\n      rgba(255, 255, 255, 0.04) 26%,\\n      transparent 27%,\\n      transparent 74%,\\n      rgba(255, 255, 255, 0.04) 75%,\\n      rgba(255, 255, 255, 0.04) 76%,\\n      transparent 77%,\\n      transparent\\n    ),\\n    linear-gradient(\\n      90deg,\\n      transparent 24%,\\n      rgba(255, 255, 255, 0.04) 25%,\\n      rgba(255, 255, 255, 0.04) 26%,\\n      transparent 27%,\\n      transparent 74%,\\n      rgba(255, 255, 255, 0.04) 75%,\\n      rgba(255, 255, 255, 0.04) 76%,\\n      transparent 77%,\\n      transparent\\n    );\\n  color: #000;\\n  background-size: 30px 30px;\\n  position: relative;\\n  overflow: hidden;\\n  -webkit-overflow-scrolling: touch;\\n  font-family: Helvetica, sans-serif;\\n  text-align: left;\\n  line-height: 1;\\n  outline: none !important;\\n}\\n.Stage_wrapper__1X5K_ * {\\n  box-sizing: border-box;\\n}\\n.Stage_wrapper__1X5K_ input,\\ntextarea,\\nselect {\\n  font-family: Helvetica, sans-serif;\\n}\\n.Stage_transformWrapper__3CfIp {\\n  transform-origin: center center;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  width: 0px;\\n  height: 0px;\\n}\\n.Stage_scaleWrapper__2Y7Ck {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  width: 0px;\\n  height: 0px;\\n}\\n\";\nvar styles$d = {\"wrapper\":\"Stage_wrapper__1X5K_\",\"transformWrapper\":\"Stage_transformWrapper__3CfIp\",\"scaleWrapper\":\"Stage_scaleWrapper__2Y7Ck\"};\nstyleInject(css$d);\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar _createClass$2 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn$2(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits$2(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Portal$3 = function (_React$Component) {\n  _inherits$2(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck$2(this, Portal);\n\n    return _possibleConstructorReturn$2(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass$2(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal$3.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nvar Portalv4 = Portal$3;\n\nvar _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn$1(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits$1(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Portal$2 = function (_React$Component) {\n  _inherits$1(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck$1(this, Portal);\n\n    return _possibleConstructorReturn$1(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass$1(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nvar LegacyPortal = Portal$2;\n\n\nPortal$2.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nvar Portal$1 = Portal;\n\nvar css$c = \".ContextMenu_menuWrapper__1BheJ{\\n  position: fixed;\\n  z-index: 9999;\\n  background: rgba(29, 32, 34, 0.95);\\n  border-radius: 5px;\\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\\n  border: 1px solid rgba(0,0,0,.4);\\n  font-size: 14px;\\n  max-width: 300px;\\n  min-width: 150px;\\n  font-family: Helvetica, sans-serif;\\n  line-height: 1.15;\\n  outline: none;\\n}\\n@supports (backdrop-filter: blur(6px)){\\n  .ContextMenu_menuWrapper__1BheJ{\\n    backdrop-filter: blur(6px);\\n    background: rgba(29, 32, 34, 0.8);\\n  }\\n}\\n.ContextMenu_menuHeader__1Cw58{\\n  padding: 5px;\\n  border-bottom: 1px solid rgba(255,255,255,.1);\\n  display: flex;\\n  flex-direction: column;\\n}\\n.ContextMenu_menuLabel__158Pv{\\n  margin: 0px;\\n  color: #fff;\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n.ContextMenu_optionsWrapper__2YK_z{\\n  max-height: 300px;\\n  overflow-y: auto;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.ContextMenu_menuFilter__1goBp{\\n  border: none;\\n  background: none;\\n  height: 24px;\\n  flex: 1 1 auto;\\n  width: 100%;\\n  outline: none;\\n  color: #fff;\\n}\\n.ContextMenu_menuFilter__1goBp::placeholder{\\n    font-style: italic;\\n  }\\n.ContextMenu_option__33MDL{\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n  padding: 5px;\\n  border-bottom: 1px solid rgba(255,255,255,.1);\\n  color: #ffffff;\\n}\\n.ContextMenu_option__33MDL:last-child{\\n    border-bottom: none;\\n  }\\n.ContextMenu_option__33MDL:hover{\\n    background: rgba(255,255,255,.05);\\n  }\\n.ContextMenu_option__33MDL label{\\n    margin-bottom: 5px;\\n    user-select: none;\\n  }\\n.ContextMenu_option__33MDL label:last-child{\\n      margin-bottom: 0px;\\n    }\\n.ContextMenu_option__33MDL p{\\n    margin: 0px;\\n    font-style: italic;\\n    font-size: 12px;\\n    color: rgb(182, 186, 194);\\n    user-select: none;\\n  }\\n.ContextMenu_option__33MDL[data-selected=true]{\\n    background: rgba(255,255,255,.05);\\n  }\\n.ContextMenu_emptyText__2rcXy{\\n  color: #fff;\\n  padding: 5px;\\n}\\n\";\nvar styles$c = {\"menuWrapper\":\"ContextMenu_menuWrapper__1BheJ\",\"menuHeader\":\"ContextMenu_menuHeader__1Cw58\",\"menuLabel\":\"ContextMenu_menuLabel__158Pv\",\"optionsWrapper\":\"ContextMenu_optionsWrapper__2YK_z\",\"menuFilter\":\"ContextMenu_menuFilter__1goBp\",\"option\":\"ContextMenu_option__33MDL\",\"emptyText\":\"ContextMenu_emptyText__2rcXy\"};\nstyleInject(css$c);\n\n/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\n\nfunction baseClamp$1(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nvar _baseClamp = baseClamp$1;\n\n/** Used to match a single whitespace character. */\n\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex$1(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex$1;\n\nvar trimmedEndIndex = _trimmedEndIndex;\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim$1(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nvar _baseTrim = baseTrim$1;\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\nfunction isObject$4(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject$4;\n\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal$1 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal$1;\n\nvar freeGlobal = _freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root$8 = freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root$8;\n\nvar root$7 = _root;\n\n/** Built-in value references. */\nvar Symbol$5 = root$7.Symbol;\n\nvar _Symbol = Symbol$5;\n\nvar Symbol$4 = _Symbol;\n\n/** Used for built-in method references. */\nvar objectProto$b = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$8 = objectProto$b.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$b.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$4 ? Symbol$4.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag$1(value) {\n  var isOwn = hasOwnProperty$8.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag$1;\n\n/** Used for built-in method references. */\n\nvar objectProto$a = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto$a.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString$1(value) {\n  return nativeObjectToString.call(value);\n}\n\nvar _objectToString = objectToString$1;\n\nvar Symbol$3 = _Symbol,\n    getRawTag = _getRawTag,\n    objectToString = _objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$3 ? Symbol$3.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag$5(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag$5;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nfunction isObjectLike$5(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike$5;\n\nvar baseGetTag$4 = _baseGetTag,\n    isObjectLike$4 = isObjectLike_1;\n\n/** `Object#toString` result references. */\nvar symbolTag$1 = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol$5(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike$4(value) && baseGetTag$4(value) == symbolTag$1);\n}\n\nvar isSymbol_1 = isSymbol$5;\n\nvar baseTrim = _baseTrim,\n    isObject$3 = isObject_1,\n    isSymbol$4 = isSymbol_1;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber$1(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol$4(value)) {\n    return NAN;\n  }\n  if (isObject$3(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject$3(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber$1;\n\nvar baseClamp = _baseClamp,\n    toNumber = toNumber_1;\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nvar clamp_1 = clamp;\n\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict';\nlet nanoid = (size = 21) => {\n  let id = '';\n  let i = size;\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0];\n  }\n  return id\n};\n\nvar ContextMenu = function ContextMenu(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? [] : _ref$options,\n      onRequestClose = _ref.onRequestClose,\n      onOptionSelected = _ref.onOptionSelected,\n      label = _ref.label,\n      hideHeader = _ref.hideHeader,\n      hideFilter = _ref.hideFilter,\n      emptyText = _ref.emptyText;\n  var menuWrapper = React.useRef(null);\n  var menuOptionsWrapper = React.useRef(null);\n  var filterInput = React.useRef(null);\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filter = _React$useState2[0],\n      setFilter = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      menuWidth = _React$useState4[0],\n      setMenuWidth = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      selectedIndex = _React$useState6[0],\n      setSelectedIndex = _React$useState6[1];\n\n  var menuId = React.useRef(nanoid(10));\n\n  var handleOptionSelected = function handleOptionSelected(option) {\n    onOptionSelected(option);\n    onRequestClose();\n  };\n\n  var testClickOutside = React.useCallback(function (e) {\n    if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {\n      onRequestClose();\n      document.removeEventListener(\"click\", testClickOutside, {\n        capture: true\n      });\n      document.removeEventListener(\"contextmenu\", testClickOutside, {\n        capture: true\n      });\n    }\n  }, [menuWrapper, onRequestClose]);\n  var testEscape = React.useCallback(function (e) {\n    if (e.keyCode === 27) {\n      onRequestClose();\n      document.removeEventListener(\"keydown\", testEscape, {\n        capture: true\n      });\n    }\n  }, [onRequestClose]);\n  React.useEffect(function () {\n    var _menuWrapper$current$, _menuWrapper$current, _menuWrapper$current$2;\n\n    if (filterInput.current) {\n      filterInput.current.focus();\n    }\n\n    setMenuWidth((_menuWrapper$current$ = (_menuWrapper$current = menuWrapper.current) === null || _menuWrapper$current === void 0 ? void 0 : (_menuWrapper$current$2 = _menuWrapper$current.getBoundingClientRect()) === null || _menuWrapper$current$2 === void 0 ? void 0 : _menuWrapper$current$2.width) !== null && _menuWrapper$current$ !== void 0 ? _menuWrapper$current$ : 0);\n    document.addEventListener(\"keydown\", testEscape, {\n      capture: true\n    });\n    document.addEventListener(\"click\", testClickOutside, {\n      capture: true\n    });\n    document.addEventListener(\"contextmenu\", testClickOutside, {\n      capture: true\n    });\n    return function () {\n      document.removeEventListener(\"click\", testClickOutside, {\n        capture: true\n      });\n      document.removeEventListener(\"contextmenu\", testClickOutside, {\n        capture: true\n      });\n      document.removeEventListener(\"keydown\", testEscape, {\n        capture: true\n      });\n    };\n  }, [testClickOutside, testEscape]);\n  var filteredOptions = React.useMemo(function () {\n    if (!filter) return options;\n    var lowerFilter = filter.toLowerCase();\n    return options.filter(function (opt) {\n      return opt.label.toLowerCase().includes(lowerFilter);\n    });\n  }, [filter, options]);\n\n  var handleFilterChange = function handleFilterChange(e) {\n    var value = e.target.value;\n    setFilter(value);\n    setSelectedIndex(0);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    // Up pressed\n    if (e.which === 38) {\n      e.preventDefault();\n\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex > 0) {\n        setSelectedIndex(function (i) {\n          return (i || 0) - 1;\n        });\n      }\n    } // Down pressed\n\n\n    if (e.which === 40) {\n      e.preventDefault();\n\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex < filteredOptions.length - 1) {\n        setSelectedIndex(function (i) {\n          return (i || 0) + 1;\n        });\n      }\n    } // Enter pressed\n\n\n    if (e.which === 13 && selectedIndex !== null) {\n      var option = filteredOptions[selectedIndex];\n\n      if (option) {\n        handleOptionSelected(option);\n      }\n    }\n  };\n\n  React.useEffect(function () {\n    if (hideFilter || hideHeader) {\n      var _menuWrapper$current2;\n\n      (_menuWrapper$current2 = menuWrapper.current) === null || _menuWrapper$current2 === void 0 ? void 0 : _menuWrapper$current2.focus();\n    }\n  }, [hideFilter, hideHeader]);\n  React.useEffect(function () {\n    var menuOption = document.getElementById(\"\".concat(menuId.current, \"-\").concat(selectedIndex));\n\n    if (menuOption) {\n      var _menuOptionsWrapper$c;\n\n      var menuRect = (_menuOptionsWrapper$c = menuOptionsWrapper.current) === null || _menuOptionsWrapper$c === void 0 ? void 0 : _menuOptionsWrapper$c.getBoundingClientRect();\n      var optionRect = menuOption.getBoundingClientRect();\n\n      if (menuRect && (optionRect.y + optionRect.height > menuRect.y + menuRect.height || optionRect.y < menuRect.y)) {\n        menuOption.scrollIntoView({\n          block: \"nearest\"\n        });\n      }\n    }\n  }, [selectedIndex]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"ctx-menu\",\n    className: styles$c.menuWrapper,\n    onMouseDown: function onMouseDown(e) {\n      return e.stopPropagation();\n    },\n    onKeyDown: handleKeyDown,\n    style: {\n      left: x,\n      top: y,\n      width: filter ? menuWidth : \"auto\"\n    },\n    ref: menuWrapper,\n    tabIndex: 0,\n    role: \"menu\",\n    \"aria-activedescendant\": \"\".concat(menuId.current, \"-\").concat(selectedIndex)\n  }, !hideHeader && (label ? true : !!options.length) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$c.menuHeader,\n    \"data-flume-component\": \"ctx-menu-header\"\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: styles$c.menuLabel,\n    \"data-flume-component\": \"ctx-menu-title\"\n  }, label), !hideFilter && options.length ? /*#__PURE__*/React.createElement(\"input\", {\n    \"data-flume-component\": \"ctx-menu-input\",\n    type: \"text\",\n    placeholder: \"Filter options\",\n    value: filter,\n    onChange: handleFilterChange,\n    className: styles$c.menuFilter,\n    autoFocus: true,\n    ref: filterInput\n  }) : null) : null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"ctx-menu-list\",\n    className: styles$c.optionsWrapper,\n    role: \"menu\",\n    ref: menuOptionsWrapper,\n    style: {\n      maxHeight: clamp_1(window.innerHeight - y - 70, 10, 300)\n    }\n  }, filteredOptions.map(function (option, i) {\n    return /*#__PURE__*/React.createElement(ContextOption, {\n      menuId: menuId.current,\n      selected: selectedIndex === i,\n      onClick: function onClick() {\n        return handleOptionSelected(option);\n      },\n      onMouseEnter: function onMouseEnter() {\n        return setSelectedIndex(null);\n      },\n      index: i,\n      key: option.value + i\n    }, /*#__PURE__*/React.createElement(\"label\", null, option.label), option.description ? /*#__PURE__*/React.createElement(\"p\", null, option.description) : null);\n  }), !options.length ? /*#__PURE__*/React.createElement(\"span\", {\n    \"data-flume-component\": \"ctx-menu-empty\",\n    className: styles$c.emptyText\n  }, emptyText) : null));\n};\n\nvar ContextOption = function ContextOption(_ref2) {\n  var menuId = _ref2.menuId,\n      index = _ref2.index,\n      children = _ref2.children,\n      onClick = _ref2.onClick,\n      selected = _ref2.selected,\n      onMouseEnter = _ref2.onMouseEnter;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"ctx-menu-option\",\n    className: styles$c.option,\n    role: \"menuitem\",\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    \"data-selected\": selected,\n    id: \"\".concat(menuId, \"-\").concat(index)\n  }, children);\n};\n\nvar NodeTypesContext = /*#__PURE__*/React.createContext(null);\nvar PortTypesContext = /*#__PURE__*/React.createContext(null);\nvar NodeDispatchContext = /*#__PURE__*/React.createContext(null);\nvar ConnectionRecalculateContext = /*#__PURE__*/React.createContext(null);\nvar ContextContext = /*#__PURE__*/React.createContext(null);\nvar StageContext = /*#__PURE__*/React.createContext(null);\nvar CacheContext = /*#__PURE__*/React.createContext(null);\nvar RecalculateStageRectContext = /*#__PURE__*/React.createContext(null);\nvar EditorIdContext = /*#__PURE__*/React.createContext(\"\");\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar _excluded$3 = [\"children\", \"stageState\", \"stageRect\", \"onDragDelayStart\", \"onDragStart\", \"onDrag\", \"onDragEnd\", \"onMouseDown\", \"onTouchStart\", \"disabled\", \"delay\", \"innerRef\"];\n\nfunction ownKeys$d(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$d(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$d(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$d(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Draggable = function Draggable(_ref) {\n  var children = _ref.children,\n      stageState = _ref.stageState,\n      stageRect = _ref.stageRect,\n      onDragDelayStart = _ref.onDragDelayStart,\n      onDragStart = _ref.onDragStart,\n      onDrag = _ref.onDrag,\n      onDragEnd = _ref.onDragEnd,\n      _onMouseDown = _ref.onMouseDown,\n      _onTouchStart = _ref.onTouchStart,\n      disabled = _ref.disabled,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 6 : _ref$delay,\n      innerRef = _ref.innerRef,\n      rest = _objectWithoutProperties(_ref, _excluded$3);\n\n  var startCoordinates = React.useRef(null);\n  var offset = React.useRef();\n  var wrapper = React.useRef(null);\n\n  var byScale = function byScale(value) {\n    return 1 / stageState.scale * value;\n  };\n\n  var getScaledCoordinates = function getScaledCoordinates(e) {\n    var _offset$current$x, _offset$current, _offset$current$y, _offset$current2, _stageRect$current$le, _stageRect$current, _stageRect$current$wi, _stageRect$current2, _stageRect$current$to, _stageRect$current3, _stageRect$current$he, _stageRect$current4;\n\n    var offsetX = (_offset$current$x = (_offset$current = offset.current) === null || _offset$current === void 0 ? void 0 : _offset$current.x) !== null && _offset$current$x !== void 0 ? _offset$current$x : 0;\n    var offsetY = (_offset$current$y = (_offset$current2 = offset.current) === null || _offset$current2 === void 0 ? void 0 : _offset$current2.y) !== null && _offset$current$y !== void 0 ? _offset$current$y : 0;\n    var x = byScale(e.clientX - (stageRect ? (_stageRect$current$le = (_stageRect$current = stageRect.current) === null || _stageRect$current === void 0 ? void 0 : _stageRect$current.left) !== null && _stageRect$current$le !== void 0 ? _stageRect$current$le : 0 : 0) - offsetX - (stageRect ? (_stageRect$current$wi = (_stageRect$current2 = stageRect.current) === null || _stageRect$current2 === void 0 ? void 0 : _stageRect$current2.width) !== null && _stageRect$current$wi !== void 0 ? _stageRect$current$wi : 0 : 0) / 2) + byScale(stageState.translate.x);\n    var y = byScale(e.clientY - (stageRect ? (_stageRect$current$to = (_stageRect$current3 = stageRect.current) === null || _stageRect$current3 === void 0 ? void 0 : _stageRect$current3.top) !== null && _stageRect$current$to !== void 0 ? _stageRect$current$to : 0 : 0) - offsetY - (stageRect ? (_stageRect$current$he = (_stageRect$current4 = stageRect.current) === null || _stageRect$current4 === void 0 ? void 0 : _stageRect$current4.height) !== null && _stageRect$current$he !== void 0 ? _stageRect$current$he : 0 : 0) / 2) + byScale(stageState.translate.y);\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var updateCoordinates = function updateCoordinates(e) {\n    var coordinates = getScaledCoordinates(e);\n\n    if (onDrag) {\n      onDrag(coordinates, e);\n    }\n  };\n\n  var stopDrag = function stopDrag(e) {\n    var coordinates = getScaledCoordinates(e);\n\n    if (onDragEnd) {\n      onDragEnd(e, coordinates);\n    }\n\n    window.removeEventListener(\"mouseup\", stopDrag);\n    window.removeEventListener(\"mousemove\", updateCoordinates);\n  };\n\n  var startDrag = function startDrag(e) {\n    if (onDragStart) {\n      onDragStart(e);\n    }\n\n    if (wrapper.current && startCoordinates.current) {\n      var nodeRect = wrapper.current.getBoundingClientRect();\n      offset.current = {\n        x: startCoordinates.current.x - nodeRect.left,\n        y: startCoordinates.current.y - nodeRect.top\n      };\n      window.addEventListener(\"mouseup\", stopDrag);\n      window.addEventListener(\"mousemove\", updateCoordinates);\n    }\n  };\n\n  var checkDragDelay = function checkDragDelay(e) {\n    if (startCoordinates.current) {\n      var x, y;\n\n      if (\"ontouchstart\" in window && e.touches) {\n        var touch = e.touches[0];\n        x = touch.clientX;\n        y = touch.clientY;\n      } else {\n        var mouse = e;\n        e.preventDefault();\n        x = mouse.clientX;\n        y = mouse.clientY;\n      }\n\n      var a = Math.abs(startCoordinates.current.x - x);\n      var b = Math.abs(startCoordinates.current.y - y);\n      var distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\n      var dragDistance = delay;\n\n      if (distance >= dragDistance) {\n        startDrag(e);\n        endDragDelay();\n      }\n    }\n  };\n\n  var endDragDelay = function endDragDelay() {\n    document.removeEventListener(\"mouseup\", endDragDelay);\n    document.removeEventListener(\"mousemove\", checkDragDelay);\n    startCoordinates.current = null;\n  };\n\n  var startDragDelay = function startDragDelay(e) {\n    if (onDragDelayStart) {\n      onDragDelayStart(e);\n    }\n\n    e.stopPropagation();\n    var x, y;\n\n    if (\"ontouchstart\" in window && e.touches) {\n      var touch = e.touches[0];\n      x = touch.clientX;\n      y = touch.clientY;\n    } else {\n      e.preventDefault();\n      var mouse = e;\n      x = mouse.clientX;\n      y = mouse.clientY;\n    }\n\n    startCoordinates.current = {\n      x: x,\n      y: y\n    };\n    document.addEventListener(\"mouseup\", endDragDelay);\n    document.addEventListener(\"mousemove\", checkDragDelay);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread$d({\n    onMouseDown: function onMouseDown(e) {\n      if (!disabled) {\n        startDragDelay(e);\n      }\n\n      if (_onMouseDown) {\n        _onMouseDown(e);\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      if (!disabled) {\n        startDragDelay(e);\n      }\n\n      if (_onTouchStart) {\n        _onTouchStart(e);\n      }\n    },\n    onDragStart: function onDragStart(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    ref: function ref(_ref2) {\n      wrapper.current = _ref2;\n\n      if (innerRef) {\n        innerRef.current = _ref2;\n      }\n    }\n  }, rest), children);\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\nfunction arrayMap$2(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nvar _arrayMap = arrayMap$2;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\nvar isArray$a = Array.isArray;\n\nvar isArray_1 = isArray$a;\n\nvar isArray$9 = isArray_1,\n    isSymbol$3 = isSymbol_1;\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey$3(value, object) {\n  if (isArray$9(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol$3(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nvar _isKey = isKey$3;\n\nvar baseGetTag$3 = _baseGetTag,\n    isObject$2 = isObject_1;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag$1 = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction$2(value) {\n  if (!isObject$2(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag$3(value);\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction$2;\n\nvar root$6 = _root;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData$1 = root$6['__core-js_shared__'];\n\nvar _coreJsData = coreJsData$1;\n\nvar coreJsData = _coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked$1(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked$1;\n\n/** Used for built-in method references. */\n\nvar funcProto$1 = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource$2(func) {\n  if (func != null) {\n    try {\n      return funcToString$1.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource$2;\n\nvar isFunction$1 = isFunction_1,\n    isMasked = _isMasked,\n    isObject$1 = isObject_1,\n    toSource$1 = _toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto$9 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$7 = objectProto$9.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty$7).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative$1(value) {\n  if (!isObject$1(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction$1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource$1(value));\n}\n\nvar _baseIsNative = baseIsNative$1;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\nfunction getValue$1(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue$1;\n\nvar baseIsNative = _baseIsNative,\n    getValue = _getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative$6(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative$6;\n\nvar getNative$5 = _getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate$4 = getNative$5(Object, 'create');\n\nvar _nativeCreate = nativeCreate$4;\n\nvar nativeCreate$3 = _nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear$1() {\n  this.__data__ = nativeCreate$3 ? nativeCreate$3(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear$1;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction hashDelete$1(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete$1;\n\nvar nativeCreate$2 = _nativeCreate;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$8 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$6 = objectProto$8.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet$1(key) {\n  var data = this.__data__;\n  if (nativeCreate$2) {\n    var result = data[key];\n    return result === HASH_UNDEFINED$2 ? undefined : result;\n  }\n  return hasOwnProperty$6.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet$1;\n\nvar nativeCreate$1 = _nativeCreate;\n\n/** Used for built-in method references. */\nvar objectProto$7 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas$1(key) {\n  var data = this.__data__;\n  return nativeCreate$1 ? (data[key] !== undefined) : hasOwnProperty$5.call(data, key);\n}\n\nvar _hashHas = hashHas$1;\n\nvar nativeCreate = _nativeCreate;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet$1(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet$1;\n\nvar hashClear = _hashClear,\n    hashDelete = _hashDelete,\n    hashGet = _hashGet,\n    hashHas = _hashHas,\n    hashSet = _hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash$1(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash$1.prototype.clear = hashClear;\nHash$1.prototype['delete'] = hashDelete;\nHash$1.prototype.get = hashGet;\nHash$1.prototype.has = hashHas;\nHash$1.prototype.set = hashSet;\n\nvar _Hash = Hash$1;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\nfunction listCacheClear$1() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear$1;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\nfunction eq$2(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq$2;\n\nvar eq$1 = eq_1;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf$4(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq$1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf$4;\n\nvar assocIndexOf$3 = _assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete$1(key) {\n  var data = this.__data__,\n      index = assocIndexOf$3(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete$1;\n\nvar assocIndexOf$2 = _assocIndexOf;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet$1(key) {\n  var data = this.__data__,\n      index = assocIndexOf$2(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet$1;\n\nvar assocIndexOf$1 = _assocIndexOf;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas$1(key) {\n  return assocIndexOf$1(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas$1;\n\nvar assocIndexOf = _assocIndexOf;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet$1(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet$1;\n\nvar listCacheClear = _listCacheClear,\n    listCacheDelete = _listCacheDelete,\n    listCacheGet = _listCacheGet,\n    listCacheHas = _listCacheHas,\n    listCacheSet = _listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache$4(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache$4.prototype.clear = listCacheClear;\nListCache$4.prototype['delete'] = listCacheDelete;\nListCache$4.prototype.get = listCacheGet;\nListCache$4.prototype.has = listCacheHas;\nListCache$4.prototype.set = listCacheSet;\n\nvar _ListCache = ListCache$4;\n\nvar getNative$4 = _getNative,\n    root$5 = _root;\n\n/* Built-in method references that are verified to be native. */\nvar Map$4 = getNative$4(root$5, 'Map');\n\nvar _Map = Map$4;\n\nvar Hash = _Hash,\n    ListCache$3 = _ListCache,\n    Map$3 = _Map;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear$1() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map$3 || ListCache$3),\n    'string': new Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear$1;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\nfunction isKeyable$1(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable$1;\n\nvar isKeyable = _isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData$4(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData$4;\n\nvar getMapData$3 = _getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete$1(key) {\n  var result = getMapData$3(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete$1;\n\nvar getMapData$2 = _getMapData;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet$1(key) {\n  return getMapData$2(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet$1;\n\nvar getMapData$1 = _getMapData;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas$1(key) {\n  return getMapData$1(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas$1;\n\nvar getMapData = _getMapData;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet$1(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet$1;\n\nvar mapCacheClear = _mapCacheClear,\n    mapCacheDelete = _mapCacheDelete,\n    mapCacheGet = _mapCacheGet,\n    mapCacheHas = _mapCacheHas,\n    mapCacheSet = _mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache$3(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache$3.prototype.clear = mapCacheClear;\nMapCache$3.prototype['delete'] = mapCacheDelete;\nMapCache$3.prototype.get = mapCacheGet;\nMapCache$3.prototype.has = mapCacheHas;\nMapCache$3.prototype.set = mapCacheSet;\n\nvar _MapCache = MapCache$3;\n\nvar MapCache$2 = _MapCache;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize$1(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize$1.Cache || MapCache$2);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize$1.Cache = MapCache$2;\n\nvar memoize_1 = memoize$1;\n\nvar memoize = memoize_1;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped$1(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nvar _memoizeCapped = memoizeCapped$1;\n\nvar memoizeCapped = _memoizeCapped;\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath$1 = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nvar _stringToPath = stringToPath$1;\n\nvar Symbol$2 = _Symbol,\n    arrayMap$1 = _arrayMap,\n    isArray$8 = isArray_1,\n    isSymbol$2 = isSymbol_1;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto$1 = Symbol$2 ? Symbol$2.prototype : undefined,\n    symbolToString = symbolProto$1 ? symbolProto$1.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString$1(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray$8(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap$1(value, baseToString$1) + '';\n  }\n  if (isSymbol$2(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\nvar _baseToString = baseToString$1;\n\nvar baseToString = _baseToString;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString$1(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nvar toString_1 = toString$1;\n\nvar isArray$7 = isArray_1,\n    isKey$2 = _isKey,\n    stringToPath = _stringToPath,\n    toString = toString_1;\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath$2(value, object) {\n  if (isArray$7(value)) {\n    return value;\n  }\n  return isKey$2(value, object) ? [value] : stringToPath(toString(value));\n}\n\nvar _castPath = castPath$2;\n\nvar isSymbol$1 = isSymbol_1;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey$4(value) {\n  if (typeof value == 'string' || isSymbol$1(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nvar _toKey = toKey$4;\n\nvar castPath$1 = _castPath,\n    toKey$3 = _toKey;\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet$3(object, path) {\n  path = castPath$1(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey$3(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nvar _baseGet = baseGet$3;\n\nvar ListCache$2 = _ListCache;\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear$1() {\n  this.__data__ = new ListCache$2;\n  this.size = 0;\n}\n\nvar _stackClear = stackClear$1;\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nfunction stackDelete$1(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nvar _stackDelete = stackDelete$1;\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nfunction stackGet$1(key) {\n  return this.__data__.get(key);\n}\n\nvar _stackGet = stackGet$1;\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction stackHas$1(key) {\n  return this.__data__.has(key);\n}\n\nvar _stackHas = stackHas$1;\n\nvar ListCache$1 = _ListCache,\n    Map$2 = _Map,\n    MapCache$1 = _MapCache;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet$1(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache$1) {\n    var pairs = data.__data__;\n    if (!Map$2 || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache$1(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nvar _stackSet = stackSet$1;\n\nvar ListCache = _ListCache,\n    stackClear = _stackClear,\n    stackDelete = _stackDelete,\n    stackGet = _stackGet,\n    stackHas = _stackHas,\n    stackSet = _stackSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack$2(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack$2.prototype.clear = stackClear;\nStack$2.prototype['delete'] = stackDelete;\nStack$2.prototype.get = stackGet;\nStack$2.prototype.has = stackHas;\nStack$2.prototype.set = stackSet;\n\nvar _Stack = Stack$2;\n\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd$1(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd$1;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\n\nfunction setCacheHas$1(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas$1;\n\nvar MapCache = _MapCache,\n    setCacheAdd = _setCacheAdd,\n    setCacheHas = _setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache$1(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache$1.prototype.add = SetCache$1.prototype.push = setCacheAdd;\nSetCache$1.prototype.has = setCacheHas;\n\nvar _SetCache = SetCache$1;\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\n\nfunction arraySome$1(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arraySome = arraySome$1;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nfunction cacheHas$1(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas$1;\n\nvar SetCache = _SetCache,\n    arraySome = _arraySome,\n    cacheHas = _cacheHas;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$5 = 1,\n    COMPARE_UNORDERED_FLAG$3 = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays$2(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$5,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG$3) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalArrays = equalArrays$2;\n\nvar root$4 = _root;\n\n/** Built-in value references. */\nvar Uint8Array$1 = root$4.Uint8Array;\n\nvar _Uint8Array = Uint8Array$1;\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\n\nfunction mapToArray$1(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nvar _mapToArray = mapToArray$1;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\n\nfunction setToArray$1(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray$1;\n\nvar Symbol$1 = _Symbol,\n    Uint8Array = _Uint8Array,\n    eq = eq_1,\n    equalArrays$1 = _equalArrays,\n    mapToArray = _mapToArray,\n    setToArray = _setToArray;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$4 = 1,\n    COMPARE_UNORDERED_FLAG$2 = 2;\n\n/** `Object#toString` result references. */\nvar boolTag$1 = '[object Boolean]',\n    dateTag$1 = '[object Date]',\n    errorTag$1 = '[object Error]',\n    mapTag$2 = '[object Map]',\n    numberTag$1 = '[object Number]',\n    regexpTag$1 = '[object RegExp]',\n    setTag$2 = '[object Set]',\n    stringTag$1 = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n    dataViewTag$2 = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag$1(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag$2:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag$1:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag$1:\n    case dateTag$1:\n    case numberTag$1:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag$1:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag$1:\n    case stringTag$1:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag$2:\n      var convert = mapToArray;\n\n    case setTag$2:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$4;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG$2;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays$1(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nvar _equalByTag = equalByTag$1;\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\nfunction arrayPush$1(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nvar _arrayPush = arrayPush$1;\n\nvar arrayPush = _arrayPush,\n    isArray$6 = isArray_1;\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys$1(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray$6(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nvar _baseGetAllKeys = baseGetAllKeys$1;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\nfunction arrayFilter$1(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nvar _arrayFilter = arrayFilter$1;\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\nfunction stubArray$1() {\n  return [];\n}\n\nvar stubArray_1 = stubArray$1;\n\nvar arrayFilter = _arrayFilter,\n    stubArray = stubArray_1;\n\n/** Used for built-in method references. */\nvar objectProto$6 = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols$1 = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable$1.call(object, symbol);\n  });\n};\n\nvar _getSymbols = getSymbols$1;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\nfunction baseTimes$1(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nvar _baseTimes = baseTimes$1;\n\nvar baseGetTag$2 = _baseGetTag,\n    isObjectLike$3 = isObjectLike_1;\n\n/** `Object#toString` result references. */\nvar argsTag$2 = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments$1(value) {\n  return isObjectLike$3(value) && baseGetTag$2(value) == argsTag$2;\n}\n\nvar _baseIsArguments = baseIsArguments$1;\n\nvar baseIsArguments = _baseIsArguments,\n    isObjectLike$2 = isObjectLike_1;\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$5.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments$2 = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike$2(value) && hasOwnProperty$4.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nvar isArguments_1 = isArguments$2;\n\nvar isBuffer$2 = {exports: {}};\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\n\nfunction stubFalse() {\n  return false;\n}\n\nvar stubFalse_1 = stubFalse;\n\n(function (module, exports) {\nvar root = _root,\n    stubFalse = stubFalse_1;\n\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n}(isBuffer$2, isBuffer$2.exports));\n\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex$2(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nvar _isIndex = isIndex$2;\n\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength$3(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nvar isLength_1 = isLength$3;\n\nvar baseGetTag$1 = _baseGetTag,\n    isLength$2 = isLength_1,\n    isObjectLike$1 = isObjectLike_1;\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]',\n    arrayTag$1 = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag$1 = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag$2 = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag$1 = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag$1 = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag$1 = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag$1] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag$1] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag$1] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag$2] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag$1] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag$1] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray$1(value) {\n  return isObjectLike$1(value) &&\n    isLength$2(value.length) && !!typedArrayTags[baseGetTag$1(value)];\n}\n\nvar _baseIsTypedArray = baseIsTypedArray$1;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\nfunction baseUnary$2(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nvar _baseUnary = baseUnary$2;\n\nvar _nodeUtil = {exports: {}};\n\n(function (module, exports) {\nvar freeGlobal = _freeGlobal;\n\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n}(_nodeUtil, _nodeUtil.exports));\n\nvar baseIsTypedArray = _baseIsTypedArray,\n    baseUnary$1 = _baseUnary,\n    nodeUtil = _nodeUtil.exports;\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray$2 = nodeIsTypedArray ? baseUnary$1(nodeIsTypedArray) : baseIsTypedArray;\n\nvar isTypedArray_1 = isTypedArray$2;\n\nvar baseTimes = _baseTimes,\n    isArguments$1 = isArguments_1,\n    isArray$5 = isArray_1,\n    isBuffer$1 = isBuffer$2.exports,\n    isIndex$1 = _isIndex,\n    isTypedArray$1 = isTypedArray_1;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys$1(value, inherited) {\n  var isArr = isArray$5(value),\n      isArg = !isArr && isArguments$1(value),\n      isBuff = !isArr && !isArg && isBuffer$1(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray$1(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$3.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex$1(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _arrayLikeKeys = arrayLikeKeys$1;\n\n/** Used for built-in method references. */\n\nvar objectProto$3 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype$1(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$3;\n\n  return value === proto;\n}\n\nvar _isPrototype = isPrototype$1;\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\nfunction overArg$1(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nvar _overArg = overArg$1;\n\nvar overArg = _overArg;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys$1 = overArg(Object.keys, Object);\n\nvar _nativeKeys = nativeKeys$1;\n\nvar isPrototype = _isPrototype,\n    nativeKeys = _nativeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys$1(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$2.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeys = baseKeys$1;\n\nvar isFunction = isFunction_1,\n    isLength$1 = isLength_1;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike$3(value) {\n  return value != null && isLength$1(value.length) && !isFunction(value);\n}\n\nvar isArrayLike_1 = isArrayLike$3;\n\nvar arrayLikeKeys = _arrayLikeKeys,\n    baseKeys = _baseKeys,\n    isArrayLike$2 = isArrayLike_1;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys$3(object) {\n  return isArrayLike$2(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nvar keys_1 = keys$3;\n\nvar baseGetAllKeys = _baseGetAllKeys,\n    getSymbols = _getSymbols,\n    keys$2 = keys_1;\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys$1(object) {\n  return baseGetAllKeys(object, keys$2, getSymbols);\n}\n\nvar _getAllKeys = getAllKeys$1;\n\nvar getAllKeys = _getAllKeys;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$3 = 1;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects$1(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$3,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty$1.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalObjects = equalObjects$1;\n\nvar getNative$3 = _getNative,\n    root$3 = _root;\n\n/* Built-in method references that are verified to be native. */\nvar DataView$1 = getNative$3(root$3, 'DataView');\n\nvar _DataView = DataView$1;\n\nvar getNative$2 = _getNative,\n    root$2 = _root;\n\n/* Built-in method references that are verified to be native. */\nvar Promise$2 = getNative$2(root$2, 'Promise');\n\nvar _Promise = Promise$2;\n\nvar getNative$1 = _getNative,\n    root$1 = _root;\n\n/* Built-in method references that are verified to be native. */\nvar Set$1 = getNative$1(root$1, 'Set');\n\nvar _Set = Set$1;\n\nvar getNative = _getNative,\n    root = _root;\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap$1 = getNative(root, 'WeakMap');\n\nvar _WeakMap = WeakMap$1;\n\nvar DataView = _DataView,\n    Map$1 = _Map,\n    Promise$1 = _Promise,\n    Set = _Set,\n    WeakMap = _WeakMap,\n    baseGetTag = _baseGetTag,\n    toSource = _toSource;\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag$1 = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map$1),\n    promiseCtorString = toSource(Promise$1),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag$1 = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag$1(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map$1 && getTag$1(new Map$1) != mapTag) ||\n    (Promise$1 && getTag$1(Promise$1.resolve()) != promiseTag) ||\n    (Set && getTag$1(new Set) != setTag) ||\n    (WeakMap && getTag$1(new WeakMap) != weakMapTag)) {\n  getTag$1 = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag$1 ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nvar _getTag = getTag$1;\n\nvar Stack$1 = _Stack,\n    equalArrays = _equalArrays,\n    equalByTag = _equalByTag,\n    equalObjects = _equalObjects,\n    getTag = _getTag,\n    isArray$4 = isArray_1,\n    isBuffer = isBuffer$2.exports,\n    isTypedArray = isTypedArray_1;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$2 = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep$1(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray$4(object),\n      othIsArr = isArray$4(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack$1);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$2)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack$1);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack$1);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nvar _baseIsEqualDeep = baseIsEqualDeep$1;\n\nvar baseIsEqualDeep = _baseIsEqualDeep,\n    isObjectLike = isObjectLike_1;\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual$2(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual$2, stack);\n}\n\nvar _baseIsEqual = baseIsEqual$2;\n\nvar Stack = _Stack,\n    baseIsEqual$1 = _baseIsEqual;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n    COMPARE_UNORDERED_FLAG$1 = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch$1(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual$1(srcValue, objValue, COMPARE_PARTIAL_FLAG$1 | COMPARE_UNORDERED_FLAG$1, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nvar _baseIsMatch = baseIsMatch$1;\n\nvar isObject = isObject_1;\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable$2(value) {\n  return value === value && !isObject(value);\n}\n\nvar _isStrictComparable = isStrictComparable$2;\n\nvar isStrictComparable$1 = _isStrictComparable,\n    keys$1 = keys_1;\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData$1(object) {\n  var result = keys$1(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable$1(value)];\n  }\n  return result;\n}\n\nvar _getMatchData = getMatchData$1;\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\n\nfunction matchesStrictComparable$2(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nvar _matchesStrictComparable = matchesStrictComparable$2;\n\nvar baseIsMatch = _baseIsMatch,\n    getMatchData = _getMatchData,\n    matchesStrictComparable$1 = _matchesStrictComparable;\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches$1(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable$1(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nvar _baseMatches = baseMatches$1;\n\nvar baseGet$2 = _baseGet;\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get$1(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet$2(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nvar get_1 = get$1;\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\n\nfunction baseHasIn$1(object, key) {\n  return object != null && key in Object(object);\n}\n\nvar _baseHasIn = baseHasIn$1;\n\nvar castPath = _castPath,\n    isArguments = isArguments_1,\n    isArray$3 = isArray_1,\n    isIndex = _isIndex,\n    isLength = isLength_1,\n    toKey$2 = _toKey;\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath$1(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey$2(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray$3(object) || isArguments(object));\n}\n\nvar _hasPath = hasPath$1;\n\nvar baseHasIn = _baseHasIn,\n    hasPath = _hasPath;\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn$1(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nvar hasIn_1 = hasIn$1;\n\nvar baseIsEqual = _baseIsEqual,\n    get = get_1,\n    hasIn = hasIn_1,\n    isKey$1 = _isKey,\n    isStrictComparable = _isStrictComparable,\n    matchesStrictComparable = _matchesStrictComparable,\n    toKey$1 = _toKey;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty$1(path, srcValue) {\n  if (isKey$1(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey$1(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nvar _baseMatchesProperty = baseMatchesProperty$1;\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\n\nfunction identity$2(value) {\n  return value;\n}\n\nvar identity_1 = identity$2;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\n\nfunction baseProperty$1(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nvar _baseProperty = baseProperty$1;\n\nvar baseGet$1 = _baseGet;\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep$1(path) {\n  return function(object) {\n    return baseGet$1(object, path);\n  };\n}\n\nvar _basePropertyDeep = basePropertyDeep$1;\n\nvar baseProperty = _baseProperty,\n    basePropertyDeep = _basePropertyDeep,\n    isKey = _isKey,\n    toKey = _toKey;\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property$1(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nvar property_1 = property$1;\n\nvar baseMatches = _baseMatches,\n    baseMatchesProperty = _baseMatchesProperty,\n    identity$1 = identity_1,\n    isArray$2 = isArray_1,\n    property = property_1;\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee$1(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity$1;\n  }\n  if (typeof value == 'object') {\n    return isArray$2(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nvar _baseIteratee = baseIteratee$1;\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\n\nfunction createBaseFor$1(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nvar _createBaseFor = createBaseFor$1;\n\nvar createBaseFor = _createBaseFor;\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor$1 = createBaseFor();\n\nvar _baseFor = baseFor$1;\n\nvar baseFor = _baseFor,\n    keys = keys_1;\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn$1(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nvar _baseForOwn = baseForOwn$1;\n\nvar isArrayLike$1 = isArrayLike_1;\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach$1(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike$1(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nvar _createBaseEach = createBaseEach$1;\n\nvar baseForOwn = _baseForOwn,\n    createBaseEach = _createBaseEach;\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach$1 = createBaseEach(baseForOwn);\n\nvar _baseEach = baseEach$1;\n\nvar baseEach = _baseEach,\n    isArrayLike = isArrayLike_1;\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap$1(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nvar _baseMap = baseMap$1;\n\n/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\n\nfunction baseSortBy$1(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nvar _baseSortBy = baseSortBy$1;\n\nvar isSymbol = isSymbol_1;\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending$1(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nvar _compareAscending = compareAscending$1;\n\nvar compareAscending = _compareAscending;\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple$1(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nvar _compareMultiple = compareMultiple$1;\n\nvar arrayMap = _arrayMap,\n    baseGet = _baseGet,\n    baseIteratee = _baseIteratee,\n    baseMap = _baseMap,\n    baseSortBy = _baseSortBy,\n    baseUnary = _baseUnary,\n    compareMultiple = _compareMultiple,\n    identity = identity_1,\n    isArray$1 = isArray_1;\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy$1(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray$1(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nvar _baseOrderBy = baseOrderBy$1;\n\nvar baseOrderBy = _baseOrderBy,\n    isArray = isArray_1;\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nvar orderBy_1 = orderBy;\n\nvar STAGE_ID = '__node_editor_stage__';\nvar DRAG_CONNECTION_ID = '__node_editor_drag_connection__';\nvar CONNECTIONS_ID = '__node_editor_connections__';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nvar css$b = \".Connection_svg__-fKLY{\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  pointer-events: none;\\n  z-index: 0;\\n  overflow: visible !important;\\n}\\n\";\nvar styles$b = {\"svg\":\"Connection_svg__-fKLY\"};\nstyleInject(css$b);\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nfunction constant(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x(p) {\n  return p[0];\n}\n\nfunction y(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x$1 = x,\n      y$1 = y,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), line) : x$1;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), line) : y$1;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction curveBasis(context) {\n  return new Basis(context);\n}\n\nvar getPort = function getPort(nodeId, portName) {\n  var transputType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"input\";\n  return document.querySelector(\"[data-node-id=\\\"\".concat(nodeId, \"\\\"] [data-port-name=\\\"\").concat(portName, \"\\\"][data-port-transput-type=\\\"\").concat(transputType, \"\\\"]\"));\n};\n\nvar getPortRect = function getPortRect(nodeId, portName, transputType, cache) {\n  var calculatedTransputType = transputType !== null && transputType !== void 0 ? transputType : \"input\";\n\n  if (cache && cache.current) {\n    var portCacheName = nodeId + portName + calculatedTransputType;\n    var cachedPort = cache.current.ports[portCacheName];\n\n    if (cachedPort) {\n      return cachedPort.getBoundingClientRect();\n    } else {\n      var port = getPort(nodeId, portName, calculatedTransputType);\n\n      if (port) {\n        cache.current.ports[portCacheName] = port;\n      }\n\n      return port && port.getBoundingClientRect();\n    }\n  } else {\n    var _port = getPort(nodeId, portName, calculatedTransputType);\n\n    return _port && _port.getBoundingClientRect();\n  }\n};\nvar calculateCurve = function calculateCurve(from, to) {\n  var _line$curve;\n\n  var length = to.x - from.x;\n  var thirdLength = length / 3;\n  var curve = (_line$curve = line().curve(curveBasis)([[from.x, from.y], [from.x + thirdLength, from.y], [from.x + thirdLength * 2, to.y], [to.x, to.y]])) !== null && _line$curve !== void 0 ? _line$curve : \"\";\n  return curve;\n};\nvar deleteConnection = function deleteConnection(_ref3) {\n  var _line$parentElement;\n\n  var id = _ref3.id;\n  var line = document.querySelector(\"[data-connection-id=\\\"\".concat(id, \"\\\"]\"));\n  line === null || line === void 0 ? void 0 : (_line$parentElement = line.parentElement) === null || _line$parentElement === void 0 ? void 0 : _line$parentElement.remove();\n};\nvar deleteConnectionsByNodeId = function deleteConnectionsByNodeId(nodeId) {\n  var lines = Array.from(document.querySelectorAll(\"[data-output-node-id=\\\"\".concat(nodeId, \"\\\"], [data-input-node-id=\\\"\").concat(nodeId, \"\\\"]\")));\n\n  for (var _i = 0, _lines = lines; _i < _lines.length; _i++) {\n    var _line$parentElement2;\n\n    var _line = _lines[_i];\n    _line === null || _line === void 0 ? void 0 : (_line$parentElement2 = _line.parentElement) === null || _line$parentElement2 === void 0 ? void 0 : _line$parentElement2.remove();\n  }\n};\nvar updateConnection = function updateConnection(_ref4) {\n  var line = _ref4.line,\n      from = _ref4.from,\n      to = _ref4.to;\n  line.setAttribute(\"d\", calculateCurve(from, to));\n};\nvar createSVG = function createSVG(_ref5) {\n  var from = _ref5.from,\n      to = _ref5.to,\n      stage = _ref5.stage,\n      id = _ref5.id,\n      outputNodeId = _ref5.outputNodeId,\n      outputPortName = _ref5.outputPortName,\n      inputNodeId = _ref5.inputNodeId,\n      inputPortName = _ref5.inputPortName;\n  var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"class\", styles$b.svg);\n  var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  var curve = calculateCurve(from, to);\n  path.setAttribute(\"d\", curve);\n  path.setAttribute(\"stroke\", \"rgb(185, 186, 189)\");\n  path.setAttribute(\"stroke-width\", \"3\");\n  path.setAttribute(\"stroke-linecap\", \"round\");\n  path.setAttribute(\"fill\", \"none\");\n  path.setAttribute(\"data-connection-id\", id);\n  path.setAttribute(\"data-output-node-id\", outputNodeId);\n  path.setAttribute(\"data-output-port-name\", outputPortName);\n  path.setAttribute(\"data-input-node-id\", inputNodeId);\n  path.setAttribute(\"data-input-port-name\", inputPortName);\n  svg.appendChild(path);\n  stage.appendChild(svg);\n  return svg;\n};\nvar getStageRef = function getStageRef(editorId) {\n  return document.getElementById(\"\".concat(CONNECTIONS_ID).concat(editorId));\n};\nvar createConnections = function createConnections(nodes, _ref6, editorId) {\n  var scale = _ref6.scale;\n  var stageRef = getStageRef(editorId);\n\n  if (stageRef) {\n    var stage = stageRef.getBoundingClientRect();\n    var stageHalfWidth = stage.width / 2;\n    var stageHalfHeight = stage.height / 2;\n\n    var byScale = function byScale(value) {\n      return 1 / scale * value;\n    };\n\n    Object.values(nodes).forEach(function (node) {\n      if (node.connections && node.connections.inputs) {\n        Object.entries(node.connections.inputs).forEach(function (_ref7, k) {\n          var _ref8 = _slicedToArray(_ref7, 2),\n              inputName = _ref8[0],\n              outputs = _ref8[1];\n\n          outputs.forEach(function (output) {\n            var fromPort = getPortRect(output.nodeId, output.portName, \"output\");\n            var toPort = getPortRect(node.id, inputName, \"input\");\n            var portHalf = fromPort ? fromPort.width / 2 : 0;\n\n            if (fromPort && toPort) {\n              var id = output.nodeId + output.portName + node.id + inputName;\n              var existingLine = document.querySelector(\"[data-connection-id=\\\"\".concat(id, \"\\\"]\"));\n\n              if (existingLine) {\n                updateConnection({\n                  line: existingLine,\n                  from: {\n                    x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                    y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                  },\n                  to: {\n                    x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                  }\n                });\n              } else {\n                createSVG({\n                  id: id,\n                  outputNodeId: output.nodeId,\n                  outputPortName: output.portName,\n                  inputNodeId: node.id,\n                  inputPortName: inputName,\n                  from: {\n                    x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                    y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                  },\n                  to: {\n                    x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                  },\n                  stage: stageRef\n                });\n              }\n            }\n          });\n        });\n      }\n    });\n  }\n};\n\nvar checkForCircularNodes = function checkForCircularNodes(nodes, startNodeId) {\n  var isCircular = false;\n\n  var walk = function walk(nodeId) {\n    var outputs = Object.values(nodes[nodeId].connections.outputs);\n\n    for (var i = 0; i < outputs.length; i++) {\n      if (isCircular) {\n        break;\n      }\n\n      var outputConnections = outputs[i];\n\n      for (var k = 0; k < outputConnections.length; k++) {\n        var connectedTo = outputConnections[k];\n\n        if (connectedTo.nodeId === startNodeId) {\n          isCircular = true;\n          break;\n        } else {\n          walk(connectedTo.nodeId);\n        }\n      }\n    }\n  };\n\n  walk(startNodeId);\n  return isCircular;\n};\n\nfunction ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$c(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar ToastActionTypes;\n\n(function (ToastActionTypes) {\n  ToastActionTypes[\"ADD_TOAST\"] = \"ADD_TOAST\";\n  ToastActionTypes[\"REMOVE_TOAST\"] = \"REMOVE_TOAST\";\n  ToastActionTypes[\"SET_HEIGHT\"] = \"SET_HEIGHT\";\n  ToastActionTypes[\"SET_EXITING\"] = \"SET_EXITING\";\n})(ToastActionTypes || (ToastActionTypes = {}));\n\nvar toastsReducer = (function () {\n  var toasts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ToastActionTypes.ADD_TOAST:\n      return [{\n        id: nanoid(5),\n        title: action.title,\n        message: action.message,\n        type: action.toastType || 'info',\n        duration: action.duration || 10000,\n        height: 0,\n        exiting: false\n      }].concat(_toConsumableArray(toasts));\n\n    case ToastActionTypes.SET_HEIGHT:\n      {\n        var index = toasts.findIndex(function (t) {\n          return t.id === action.id;\n        });\n        return [].concat(_toConsumableArray(toasts.slice(0, index)), [_objectSpread$c(_objectSpread$c({}, toasts[index]), {}, {\n          height: action.height\n        })], _toConsumableArray(toasts.slice(index + 1)));\n      }\n\n    case ToastActionTypes.SET_EXITING:\n      {\n        var _index = toasts.findIndex(function (t) {\n          return t.id === action.id;\n        });\n\n        return [].concat(_toConsumableArray(toasts.slice(0, _index)), [_objectSpread$c(_objectSpread$c({}, toasts[_index]), {}, {\n          exiting: true\n        })], _toConsumableArray(toasts.slice(_index + 1)));\n      }\n\n    case ToastActionTypes.REMOVE_TOAST:\n      {\n        var _index2 = toasts.findIndex(function (t) {\n          return t.id === action.id;\n        });\n\n        return [].concat(_toConsumableArray(toasts.slice(0, _index2)), _toConsumableArray(toasts.slice(_index2 + 1)));\n      }\n\n    default:\n      return toasts;\n  }\n});\n\nvar _excluded$2 = [\"id\", \"defaultNode\"];\n\nfunction _toPropertyKey$2(arg) { var key = _toPrimitive$2(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive$2(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$b(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar addConnection = function addConnection(nodes, input, output, portTypes) {\n  var _objectSpread4;\n\n  var newNodes = _objectSpread$b(_objectSpread$b({}, nodes), {}, (_objectSpread4 = {}, _defineProperty(_objectSpread4, input.nodeId, _objectSpread$b(_objectSpread$b({}, nodes[input.nodeId]), {}, {\n    connections: _objectSpread$b(_objectSpread$b({}, nodes[input.nodeId].connections), {}, {\n      inputs: _objectSpread$b(_objectSpread$b({}, nodes[input.nodeId].connections.inputs), {}, _defineProperty({}, input.portName, [].concat(_toConsumableArray(nodes[input.nodeId].connections.inputs[input.portName] || []), [{\n        nodeId: output.nodeId,\n        portName: output.portName\n      }])))\n    })\n  })), _defineProperty(_objectSpread4, output.nodeId, _objectSpread$b(_objectSpread$b({}, nodes[output.nodeId]), {}, {\n    connections: _objectSpread$b(_objectSpread$b({}, nodes[output.nodeId].connections), {}, {\n      outputs: _objectSpread$b(_objectSpread$b({}, nodes[output.nodeId].connections.outputs), {}, _defineProperty({}, output.portName, [].concat(_toConsumableArray(nodes[output.nodeId].connections.outputs[output.portName] || []), [{\n        nodeId: input.nodeId,\n        portName: input.portName\n      }])))\n    })\n  })), _objectSpread4));\n\n  return newNodes;\n};\n\nvar removeConnection = function removeConnection(nodes, input, output) {\n  var _objectSpread6;\n\n  var inputNode = nodes[input.nodeId];\n\n  var _inputNode$connection = inputNode.connections.inputs,\n      _input$portName = input.portName;\n      _inputNode$connection[_input$portName];\n      var newInputNodeConnectionsInputs = _objectWithoutProperties(_inputNode$connection, [_input$portName].map(_toPropertyKey$2));\n\n  var newInputNode = _objectSpread$b(_objectSpread$b({}, inputNode), {}, {\n    connections: _objectSpread$b(_objectSpread$b({}, inputNode.connections), {}, {\n      inputs: newInputNodeConnectionsInputs\n    })\n  });\n\n  var outputNode = nodes[output.nodeId];\n  var filteredOutputNodes = outputNode.connections.outputs[output.portName].filter(function (cnx) {\n    return cnx.nodeId === input.nodeId ? cnx.portName !== input.portName : true;\n  });\n\n  var newOutputNode = _objectSpread$b(_objectSpread$b({}, outputNode), {}, {\n    connections: _objectSpread$b(_objectSpread$b({}, outputNode.connections), {}, {\n      outputs: _objectSpread$b(_objectSpread$b({}, outputNode.connections.outputs), {}, _defineProperty({}, output.portName, filteredOutputNodes))\n    })\n  });\n\n  return _objectSpread$b(_objectSpread$b({}, nodes), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, input.nodeId, newInputNode), _defineProperty(_objectSpread6, output.nodeId, newOutputNode), _objectSpread6));\n};\n\nvar getFilteredTransputs = function getFilteredTransputs(transputs, nodeId) {\n  return Object.entries(transputs).reduce(function (obj, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        portName = _ref2[0],\n        transput = _ref2[1];\n\n    var newTransputs = transput.filter(function (t) {\n      return t.nodeId !== nodeId;\n    });\n\n    if (newTransputs.length) {\n      obj[portName] = newTransputs;\n    }\n\n    return obj;\n  }, {});\n};\n\nvar removeConnections = function removeConnections(connections, nodeId) {\n  return {\n    inputs: getFilteredTransputs(connections.inputs, nodeId),\n    outputs: getFilteredTransputs(connections.outputs, nodeId)\n  };\n};\n\nvar removeNode = function removeNode(startNodes, nodeId) {\n  startNodes[nodeId];\n      var nodes = _objectWithoutProperties(startNodes, [nodeId].map(_toPropertyKey$2));\n\n  nodes = Object.values(nodes).reduce(function (obj, node) {\n    obj[node.id] = _objectSpread$b(_objectSpread$b({}, node), {}, {\n      connections: removeConnections(node.connections, nodeId)\n    });\n    return obj;\n  }, {});\n  deleteConnectionsByNodeId(nodeId);\n  return nodes;\n};\n\nvar reconcileNodes = function reconcileNodes(initialNodes, nodeTypes, portTypes, context) {\n  var nodes = _objectSpread$b({}, initialNodes); // Delete extraneous nodes\n\n\n  var nodesToDelete = Object.values(nodes).map(function (node) {\n    return !nodeTypes[node.type] ? node.id : undefined;\n  }).filter(function (x) {\n    return !!x;\n  });\n  nodesToDelete.forEach(function (nodeId) {\n    nodes = nodesReducer(nodes, {\n      type: NodesActionType.REMOVE_NODE,\n      nodeId: nodeId\n    }, {\n      nodeTypes: nodeTypes,\n      portTypes: portTypes,\n      context: context\n    });\n  }); // Reconcile input data for each node\n\n  var reconciledNodes = Object.values(nodes).reduce(function (nodesObj, node) {\n    var nodeType = nodeTypes[node.type];\n    var defaultInputData = getDefaultData({\n      node: node,\n      nodeType: nodeType,\n      portTypes: portTypes,\n      context: context\n    });\n    var currentInputData = Object.entries(node.inputData).reduce(function (dataObj, _ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          data = _ref4[1];\n\n      if (defaultInputData[key] !== undefined) {\n        dataObj[key] = data;\n      }\n\n      return dataObj;\n    }, {});\n\n    var newInputData = _objectSpread$b(_objectSpread$b({}, defaultInputData), currentInputData);\n\n    nodesObj[node.id] = _objectSpread$b(_objectSpread$b({}, node), {}, {\n      inputData: newInputData\n    });\n    return nodesObj;\n  }, {}); // Reconcile node attributes for each node\n\n  reconciledNodes = Object.values(reconciledNodes).reduce(function (nodesObj, node) {\n    var newNode = _objectSpread$b({}, node);\n\n    var nodeType = nodeTypes[node.type];\n\n    if (nodeType.root !== node.root) {\n      if (nodeType.root && !node.root) {\n        newNode.root = nodeType.root;\n      } else if (!nodeType.root && node.root) {\n        delete newNode.root;\n      }\n    }\n\n    nodesObj[node.id] = newNode;\n    return nodesObj;\n  }, {});\n  return reconciledNodes;\n};\n\nvar getInitialNodes = function getInitialNodes() {\n  var initialNodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaultNodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var nodeTypes = arguments.length > 2 ? arguments[2] : undefined;\n  var portTypes = arguments.length > 3 ? arguments[3] : undefined;\n  var context = arguments.length > 4 ? arguments[4] : undefined;\n  var reconciledNodes = reconcileNodes(initialNodes, nodeTypes, portTypes, context);\n  return _objectSpread$b(_objectSpread$b({}, reconciledNodes), defaultNodes.reduce(function (nodes, dNode, i) {\n    var nodeNotAdded = !Object.values(initialNodes).find(function (n) {\n      return n.type === dNode.type;\n    });\n\n    if (nodeNotAdded) {\n      nodes = nodesReducer(nodes, {\n        type: NodesActionType.ADD_NODE,\n        id: \"default-\".concat(i),\n        defaultNode: true,\n        x: dNode.x || 0,\n        y: dNode.y || 0,\n        nodeType: dNode.type\n      }, {\n        nodeTypes: nodeTypes,\n        portTypes: portTypes,\n        context: context\n      });\n    }\n\n    return nodes;\n  }, {}));\n};\n\nvar getDefaultData = function getDefaultData(_ref5) {\n  var node = _ref5.node,\n      nodeType = _ref5.nodeType,\n      portTypes = _ref5.portTypes,\n      context = _ref5.context;\n  var inputs = Array.isArray(nodeType.inputs) ? nodeType.inputs : nodeType.inputs(node.inputData, node.connections, context);\n  return inputs.reduce(function (obj, input) {\n    var inputType = portTypes[input.type];\n    obj[input.name || inputType.name] = (input.controls || inputType.controls || []).reduce(function (obj2, control) {\n      obj2[control.name] = control.defaultValue;\n      return obj2;\n    }, {});\n    return obj;\n  }, {});\n};\n\nvar NodesActionType;\n\n(function (NodesActionType) {\n  NodesActionType[\"ADD_CONNECTION\"] = \"ADD_CONNECTION\";\n  NodesActionType[\"REMOVE_CONNECTION\"] = \"REMOVE_CONNECTION\";\n  NodesActionType[\"DESTROY_TRANSPUT\"] = \"DESTROY_TRANSPUT\";\n  NodesActionType[\"ADD_NODE\"] = \"ADD_NODE\";\n  NodesActionType[\"REMOVE_NODE\"] = \"REMOVE_NODE\";\n  NodesActionType[\"HYDRATE_DEFAULT_NODES\"] = \"HYDRATE_DEFAULT_NODES\";\n  NodesActionType[\"SET_PORT_DATA\"] = \"SET_PORT_DATA\";\n  NodesActionType[\"SET_NODE_COORDINATES\"] = \"SET_NODE_COORDINATES\";\n})(NodesActionType || (NodesActionType = {}));\n\nvar nodesReducer = function nodesReducer(nodes, action, _ref6, dispatchToasts) {\n  var nodeTypes = _ref6.nodeTypes,\n      portTypes = _ref6.portTypes,\n      cache = _ref6.cache,\n      circularBehavior = _ref6.circularBehavior,\n      context = _ref6.context;\n\n  switch (action.type) {\n    case NodesActionType.ADD_CONNECTION:\n      {\n        var input = action.input,\n            output = action.output;\n        var inputIsNotConnected = !nodes[input.nodeId].connections.inputs[input.portName];\n\n        if (inputIsNotConnected) {\n          var allowCircular = circularBehavior === \"warn\" || circularBehavior === \"allow\";\n          var newNodes = addConnection(nodes, input, output);\n          var isCircular = checkForCircularNodes(newNodes, output.nodeId);\n\n          if (isCircular && !allowCircular) {\n            dispatchToasts === null || dispatchToasts === void 0 ? void 0 : dispatchToasts({\n              type: ToastActionTypes.ADD_TOAST,\n              title: \"Unable to connect\",\n              message: \"Connecting these nodes would result in an infinite loop.\",\n              toastType: \"warning\",\n              duration: 5000\n            });\n            return nodes;\n          } else {\n            if (isCircular && circularBehavior === \"warn\") {\n              dispatchToasts === null || dispatchToasts === void 0 ? void 0 : dispatchToasts({\n                type: ToastActionTypes.ADD_TOAST,\n                title: \"Circular Connection Detected\",\n                message: \"Connecting these nodes has created an infinite loop.\",\n                toastType: \"warning\",\n                duration: 5000\n              });\n            }\n\n            return newNodes;\n          }\n        } else return nodes;\n      }\n\n    case NodesActionType.REMOVE_CONNECTION:\n      {\n        var _cache$current;\n\n        var _input = action.input,\n            _output = action.output;\n        var id = _output.nodeId + _output.portName + _input.nodeId + _input.portName;\n        cache === null || cache === void 0 ? true : (_cache$current = cache.current) === null || _cache$current === void 0 ? true : delete _cache$current.connections[id];\n        deleteConnection({\n          id: id\n        });\n        return removeConnection(nodes, _input, _output);\n      }\n\n    case NodesActionType.DESTROY_TRANSPUT:\n      {\n        var _cache$current2;\n\n        var transput = action.transput,\n            transputType = action.transputType;\n        var portId = transput.nodeId + transput.portName + transputType;\n        cache === null || cache === void 0 ? true : (_cache$current2 = cache.current) === null || _cache$current2 === void 0 ? true : delete _cache$current2.ports[portId];\n        var cnxType = transputType === \"input\" ? \"inputs\" : \"outputs\";\n        var connections = nodes[transput.nodeId].connections[cnxType][transput.portName];\n        if (!connections || !connections.length) return nodes;\n        return connections.reduce(function (nodes, cnx) {\n          var _cache$current3;\n\n          var _ref7 = transputType === \"input\" ? [transput, cnx] : [cnx, transput],\n              _ref8 = _slicedToArray(_ref7, 2),\n              input = _ref8[0],\n              output = _ref8[1];\n\n          var id = output.nodeId + output.portName + input.nodeId + input.portName;\n          cache === null || cache === void 0 ? true : (_cache$current3 = cache.current) === null || _cache$current3 === void 0 ? true : delete _cache$current3.connections[id];\n          deleteConnection({\n            id: id\n          });\n          return removeConnection(nodes, input, output);\n        }, nodes);\n      }\n\n    case NodesActionType.ADD_NODE:\n      {\n        var x = action.x,\n            y = action.y,\n            nodeType = action.nodeType,\n            _id = action.id,\n            defaultNode = action.defaultNode;\n\n        var newNodeId = _id || nanoid(10);\n\n        var newNode = {\n          id: newNodeId,\n          x: x,\n          y: y,\n          type: nodeType,\n          width: nodeTypes[nodeType].initialWidth || 200,\n          connections: {\n            inputs: {},\n            outputs: {}\n          },\n          inputData: {}\n        };\n        newNode.inputData = getDefaultData({\n          node: newNode,\n          nodeType: nodeTypes[nodeType],\n          portTypes: portTypes,\n          context: context\n        });\n\n        if (defaultNode) {\n          newNode.defaultNode = true;\n        }\n\n        if (nodeTypes[nodeType].root) {\n          newNode.root = true;\n        }\n\n        return _objectSpread$b(_objectSpread$b({}, nodes), {}, _defineProperty({}, newNodeId, newNode));\n      }\n\n    case NodesActionType.REMOVE_NODE:\n      {\n        var nodeId = action.nodeId;\n        return removeNode(nodes, nodeId);\n      }\n\n    case NodesActionType.HYDRATE_DEFAULT_NODES:\n      {\n        var _newNodes = _objectSpread$b({}, nodes);\n\n        for (var key in _newNodes) {\n          if (_newNodes[key].defaultNode) {\n            var _newNodeId = nanoid(10);\n\n            var _newNodes$key = _newNodes[key];\n                _newNodes$key.id;\n                _newNodes$key.defaultNode;\n                var node = _objectWithoutProperties(_newNodes$key, _excluded$2);\n\n            _newNodes[_newNodeId] = _objectSpread$b(_objectSpread$b({}, node), {}, {\n              id: _newNodeId\n            });\n            delete _newNodes[key];\n          }\n        }\n\n        return _newNodes;\n      }\n\n    case NodesActionType.SET_PORT_DATA:\n      {\n        var _nodeId = action.nodeId,\n            portName = action.portName,\n            controlName = action.controlName,\n            data = action.data,\n            setValue = action.setValue;\n\n        var newData = _objectSpread$b(_objectSpread$b({}, nodes[_nodeId].inputData), {}, _defineProperty({}, portName, _objectSpread$b(_objectSpread$b({}, nodes[_nodeId].inputData[portName]), {}, _defineProperty({}, controlName, data))));\n\n        if (setValue) {\n          newData = setValue(newData, nodes[_nodeId].inputData);\n        }\n\n        return _objectSpread$b(_objectSpread$b({}, nodes), {}, _defineProperty({}, _nodeId, _objectSpread$b(_objectSpread$b({}, nodes[_nodeId]), {}, {\n          inputData: newData\n        })));\n      }\n\n    case NodesActionType.SET_NODE_COORDINATES:\n      {\n        var _x = action.x,\n            _y = action.y,\n            _nodeId2 = action.nodeId;\n        return _objectSpread$b(_objectSpread$b({}, nodes), {}, _defineProperty({}, _nodeId2, _objectSpread$b(_objectSpread$b({}, nodes[_nodeId2]), {}, {\n          x: _x,\n          y: _y\n        })));\n      }\n\n    default:\n      return nodes;\n  }\n};\n\nvar connectNodesReducer = function connectNodesReducer(reducer, environment, dispatchToasts) {\n  return function (state, action) {\n    return reducer(state, action, environment, dispatchToasts);\n  };\n};\n\nvar _excluded$1 = [\"isNew\"];\n\nfunction _toPropertyKey$1(arg) { var key = _toPrimitive$1(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive$1(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CommentActionTypes;\n\n(function (CommentActionTypes) {\n  CommentActionTypes[\"ADD_COMMENT\"] = \"ADD_COMMENT\";\n  CommentActionTypes[\"REMOVE_COMMENT_NEW\"] = \"REMOVE_COMMENT_NEW\";\n  CommentActionTypes[\"SET_COMMENT_COORDINATES\"] = \"SET_COMMENT_COORDINATES\";\n  CommentActionTypes[\"SET_COMMENT_DIMENSIONS\"] = \"SET_COMMENT_DIMENSIONS\";\n  CommentActionTypes[\"SET_COMMENT_TEXT\"] = \"SET_COMMENT_TEXT\";\n  CommentActionTypes[\"SET_COMMENT_COLOR\"] = \"SET_COMMENT_COLOR\";\n  CommentActionTypes[\"DELETE_COMMENT\"] = \"DELETE_COMMENT\";\n})(CommentActionTypes || (CommentActionTypes = {}));\n\nvar setComment = function setComment(comments, id, merge) {\n  return _objectSpread$a(_objectSpread$a({}, comments), {}, _defineProperty({}, id, _objectSpread$a(_objectSpread$a({}, comments[id]), merge)));\n};\n\nvar commentsReducer = function commentsReducer() {\n  var comments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CommentActionTypes.ADD_COMMENT:\n      {\n        var _comment = {\n          id: nanoid(10),\n          text: \"\",\n          x: action.x,\n          y: action.y,\n          width: 200,\n          height: 30,\n          color: \"blue\",\n          isNew: true\n        };\n        return _objectSpread$a(_objectSpread$a({}, comments), {}, _defineProperty({}, _comment.id, _comment));\n      }\n\n    case CommentActionTypes.REMOVE_COMMENT_NEW:\n      var _comments$action$id = comments[action.id];\n          _comments$action$id.isNew;\n          var comment = _objectWithoutProperties(_comments$action$id, _excluded$1);\n\n      return _objectSpread$a(_objectSpread$a({}, comments), {}, _defineProperty({}, action.id, comment));\n\n    case CommentActionTypes.SET_COMMENT_COORDINATES:\n      {\n        return setComment(comments, action.id, {\n          x: action.x,\n          y: action.y\n        });\n      }\n\n    case CommentActionTypes.SET_COMMENT_DIMENSIONS:\n      {\n        return setComment(comments, action.id, {\n          width: action.width,\n          height: action.height\n        });\n      }\n\n    case CommentActionTypes.SET_COMMENT_TEXT:\n      {\n        return setComment(comments, action.id, {\n          text: action.text\n        });\n      }\n\n    case CommentActionTypes.SET_COMMENT_COLOR:\n      {\n        return setComment(comments, action.id, {\n          color: action.color\n        });\n      }\n\n    case CommentActionTypes.DELETE_COMMENT:\n      {\n        var _action$id = action.id;\n            comments[_action$id];\n            var newComments = _objectWithoutProperties(comments, [_action$id].map(_toPropertyKey$1));\n\n        return newComments;\n      }\n\n    default:\n      return comments;\n  }\n};\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar StageActionType;\n\n(function (StageActionType) {\n  StageActionType[\"SET_SCALE\"] = \"SET_SCALE\";\n  StageActionType[\"SET_TRANSLATE\"] = \"SET_TRANSLATE\";\n  StageActionType[\"SET_TRANSLATE_SCALE\"] = \"SET_TRANSLATE_SCALE\";\n})(StageActionType || (StageActionType = {}));\n\nvar stageReducer = (function (state, incomingAction) {\n  var action = typeof incomingAction === \"function\" ? incomingAction(state) : incomingAction;\n\n  switch (action.type) {\n    case StageActionType.SET_SCALE:\n      return _objectSpread$9(_objectSpread$9({}, state), {}, {\n        scale: action.scale\n      });\n\n    case StageActionType.SET_TRANSLATE:\n      return _objectSpread$9(_objectSpread$9({}, state), {}, {\n        translate: action.translate\n      });\n\n    case StageActionType.SET_TRANSLATE_SCALE:\n      return _objectSpread$9(_objectSpread$9({}, state), {}, {\n        translate: action.translate,\n        scale: action.scale\n      });\n\n    default:\n      return state;\n  }\n});\n\nvar Stage = function Stage(_ref) {\n  var scale = _ref.scale,\n      translate = _ref.translate,\n      editorId = _ref.editorId,\n      dispatchStageState = _ref.dispatchStageState,\n      children = _ref.children,\n      outerStageChildren = _ref.outerStageChildren,\n      numNodes = _ref.numNodes,\n      stageRef = _ref.stageRef,\n      spaceToPan = _ref.spaceToPan,\n      dispatchComments = _ref.dispatchComments,\n      disableComments = _ref.disableComments,\n      disablePan = _ref.disablePan,\n      disableZoom = _ref.disableZoom;\n  var nodeTypes = React.useContext(NodeTypesContext);\n  var dispatchNodes = React.useContext(NodeDispatchContext);\n  var wrapper = React.useRef(null);\n  var translateWrapper = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      menuOpen = _React$useState2[0],\n      setMenuOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      menuCoordinates = _React$useState4[0],\n      setMenuCoordinates = _React$useState4[1];\n\n  var dragData = React.useRef({\n    x: 0,\n    y: 0\n  });\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      spaceIsPressed = _React$useState6[0],\n      setSpaceIsPressed = _React$useState6[1];\n\n  var setStageRect = React.useCallback(function () {\n    if (wrapper.current) {\n      stageRef.current = wrapper.current.getBoundingClientRect();\n    }\n  }, []);\n  React.useEffect(function () {\n    if (wrapper.current) {\n      stageRef.current = wrapper.current.getBoundingClientRect();\n    }\n\n    window.addEventListener(\"resize\", setStageRect);\n    return function () {\n      window.removeEventListener(\"resize\", setStageRect);\n    };\n  }, [stageRef, setStageRect]);\n  var handleWheel = React.useCallback(function (e) {\n    var _wrapper$current;\n\n    var wheelTarget = e.target;\n\n    if (wheelTarget.nodeName === \"TEXTAREA\" || wheelTarget.dataset.comment) {\n      if (wheelTarget.clientHeight < wheelTarget.scrollHeight) return;\n    }\n\n    e.preventDefault();\n    if (numNodes === 0) return;\n    var wrapperRect = (_wrapper$current = wrapper.current) === null || _wrapper$current === void 0 ? void 0 : _wrapper$current.getBoundingClientRect();\n\n    if (wrapperRect) {\n      dispatchStageState(function (stageState) {\n        var currentScale = stageState.scale,\n            currentTranslate = stageState.translate;\n        var delta = e.deltaY;\n        var newScale = clamp_1(currentScale - clamp_1(delta, -10, 10) * 0.005, 0.1, 7);\n\n        var byOldScale = function byOldScale(no) {\n          return no * (1 / currentScale);\n        };\n\n        var byNewScale = function byNewScale(no) {\n          return no * (1 / newScale);\n        };\n\n        var xOld = byOldScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);\n        var yOld = byOldScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);\n        var xNew = byNewScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);\n        var yNew = byNewScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);\n        var xDistance = xOld - xNew;\n        var yDistance = yOld - yNew;\n        return {\n          type: StageActionType.SET_TRANSLATE_SCALE,\n          scale: newScale,\n          translate: {\n            x: currentTranslate.x + xDistance * newScale,\n            y: currentTranslate.y + yDistance * newScale\n          }\n        };\n      });\n    }\n  }, [dispatchStageState, numNodes]);\n\n  var handleDragDelayStart = function handleDragDelayStart() {\n    var _wrapper$current2;\n\n    (_wrapper$current2 = wrapper.current) === null || _wrapper$current2 === void 0 ? void 0 : _wrapper$current2.focus();\n  };\n\n  var handleDragStart = function handleDragStart(event) {\n    var e = event;\n    e.preventDefault();\n    dragData.current = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  };\n\n  var handleMouseDrag = function handleMouseDrag(coords, e) {\n    var xDistance = dragData.current.x - e.clientX;\n    var yDistance = dragData.current.y - e.clientY;\n    var xDelta = translate.x + xDistance;\n    var yDelta = translate.y + yDistance;\n\n    if (wrapper.current) {\n      wrapper.current.style.backgroundPosition = \"\".concat(-xDelta, \"px \").concat(-yDelta, \"px\");\n    }\n\n    if (translateWrapper.current) {\n      translateWrapper.current.style.transform = \"translate(\".concat(-(translate.x + xDistance), \"px, \").concat(-(translate.y + yDistance), \"px)\");\n    }\n  };\n\n  var handleDragEnd = function handleDragEnd(e) {\n    var xDistance = dragData.current.x - e.clientX;\n    var yDistance = dragData.current.y - e.clientY;\n    dragData.current.x = e.clientX;\n    dragData.current.y = e.clientY;\n    dispatchStageState(function (_ref2) {\n      var tran = _ref2.translate;\n      return {\n        type: StageActionType.SET_TRANSLATE,\n        translate: {\n          x: tran.x + xDistance,\n          y: tran.y + yDistance\n        }\n      };\n    });\n  };\n\n  var handleContextMenu = function handleContextMenu(e) {\n    e.preventDefault();\n    setMenuCoordinates({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setMenuOpen(true);\n    return false;\n  };\n\n  var closeContextMenu = function closeContextMenu() {\n    setMenuOpen(false);\n  };\n\n  var byScale = function byScale(value) {\n    return 1 / scale * value;\n  };\n\n  var addNode = function addNode(_ref3) {\n    var _wrapper$current3;\n\n    var node = _ref3.node,\n        internalType = _ref3.internalType;\n    var wrapperRect = (_wrapper$current3 = wrapper.current) === null || _wrapper$current3 === void 0 ? void 0 : _wrapper$current3.getBoundingClientRect();\n\n    if (wrapperRect) {\n      var x = byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) + byScale(translate.x);\n      var y = byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) + byScale(translate.y);\n\n      if (internalType === \"comment\") {\n        dispatchComments({\n          type: CommentActionTypes.ADD_COMMENT,\n          x: x,\n          y: y\n        });\n      } else {\n        dispatchNodes === null || dispatchNodes === void 0 ? void 0 : dispatchNodes({\n          type: NodesActionType.ADD_NODE,\n          x: x,\n          y: y,\n          nodeType: (node === null || node === void 0 ? void 0 : node.type) || \"\"\n        });\n      }\n    }\n  };\n\n  var handleDocumentKeyUp = function handleDocumentKeyUp(e) {\n    if (e.which === 32) {\n      setSpaceIsPressed(false);\n      document.removeEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (e.which === 32 && document.activeElement === wrapper.current) {\n      e.preventDefault();\n      e.stopPropagation();\n      setSpaceIsPressed(true);\n      document.addEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  var handleMouseEnter = function handleMouseEnter() {\n    var _wrapper$current4;\n\n    if (!((_wrapper$current4 = wrapper.current) !== null && _wrapper$current4 !== void 0 && _wrapper$current4.contains(document.activeElement))) {\n      var _wrapper$current5;\n\n      (_wrapper$current5 = wrapper.current) === null || _wrapper$current5 === void 0 ? void 0 : _wrapper$current5.focus({\n        preventScroll: true\n      });\n    }\n  };\n\n  React.useEffect(function () {\n    if (!disableZoom) {\n      var stageWrapper = wrapper.current;\n      stageWrapper === null || stageWrapper === void 0 ? void 0 : stageWrapper.addEventListener(\"wheel\", handleWheel);\n      return function () {\n        stageWrapper === null || stageWrapper === void 0 ? void 0 : stageWrapper.removeEventListener(\"wheel\", handleWheel);\n      };\n    }\n  }, [handleWheel, disableZoom]);\n  var menuOptions = React.useMemo(function () {\n    var options = orderBy_1(Object.values(nodeTypes || {}).filter(function (node) {\n      return node.addable !== false;\n    }).map(function (node) {\n      return {\n        value: node.type,\n        label: node.label,\n        description: node.description,\n        sortIndex: node.sortIndex,\n        node: node\n      };\n    }), [\"sortIndex\", \"label\"]);\n\n    if (!disableComments) {\n      options.push({\n        value: \"comment\",\n        label: \"Comment\",\n        description: \"A comment for documenting nodes\",\n        internalType: \"comment\"\n      });\n    }\n\n    return options;\n  }, [nodeTypes, disableComments]);\n  return /*#__PURE__*/React.createElement(Draggable, {\n    \"data-flume-component\": \"stage\",\n    id: \"\".concat(STAGE_ID).concat(editorId),\n    className: styles$d.wrapper,\n    innerRef: wrapper,\n    onContextMenu: handleContextMenu,\n    onMouseEnter: handleMouseEnter,\n    onDragDelayStart: handleDragDelayStart,\n    onDragStart: handleDragStart,\n    onDrag: handleMouseDrag,\n    onDragEnd: handleDragEnd,\n    onKeyDown: handleKeyDown,\n    tabIndex: -1,\n    stageState: {\n      scale: scale,\n      translate: translate\n    },\n    style: {\n      cursor: spaceIsPressed && spaceToPan ? \"grab\" : \"\"\n    },\n    disabled: disablePan || spaceToPan && !spaceIsPressed,\n    \"data-flume-stage\": true\n  }, menuOpen ? /*#__PURE__*/React.createElement(Portal$1, null, /*#__PURE__*/React.createElement(ContextMenu, {\n    x: menuCoordinates.x,\n    y: menuCoordinates.y,\n    options: menuOptions,\n    onRequestClose: closeContextMenu,\n    onOptionSelected: addNode,\n    label: \"Add Node\"\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: translateWrapper,\n    className: styles$d.transformWrapper,\n    style: {\n      transform: \"translate(\".concat(-translate.x, \"px, \").concat(-translate.y, \"px)\")\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$d.scaleWrapper,\n    style: {\n      transform: \"scale(\".concat(scale, \")\")\n    }\n  }, children)), outerStageChildren);\n};\n\nvar css$a = \".Node_wrapper__3SmT7 {\\n  background: rgba(114, 120, 124, 0.9);\\n  border-radius: 5px;\\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.4);\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  user-select: none;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: 1;\\n  cursor: default;\\n}\\n.Node_label__3MmhF {\\n  font-size: 13px;\\n  text-transform: uppercase;\\n  padding: 5px;\\n  background: #53585a;\\n  border-radius: 5px 5px 0px 0px;\\n  margin: 0px;\\n  margin-bottom: 3px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\\n}\\n\";\nvar styles$a = {\"wrapper\":\"Node_wrapper__3SmT7\",\"label\":\"Node_label__3MmhF\"};\nstyleInject(css$a);\n\nvar css$9 = \".IoPorts_wrapper__3d2hh{\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: auto;\\n  width: 100%;\\n  padding: 5px;\\n}\\n.IoPorts_inputs__2etkb{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n  width: 100%;\\n  margin-bottom: 10px;\\n}\\n.IoPorts_inputs__2etkb:last-child{\\n    margin-bottom: 0px;\\n  }\\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\\n        margin-top: 5px;\\n      }\\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\\n        margin-bottom: 5px;\\n      }\\n.IoPorts_outputs__3JGh-{\\n  display: flex;\\n  flex-direction: column;\\n  margin-left: auto;\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n  width: 100%;\\n}\\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\\n        margin-bottom: 5px;\\n      }\\n.IoPorts_outputs__3JGh-:first-child{\\n    margin-top: 5px;\\n  }\\n.IoPorts_transput__1wbHA{\\n  display: flex;\\n  align-items: center;\\n  margin-top: 6px;\\n  margin-bottom: 6px;\\n}\\n.IoPorts_transput__1wbHA:first-child{\\n    margin-top: 0px;\\n  }\\n.IoPorts_transput__1wbHA[data-controlless=\\\"true\\\"]{\\n    margin-top: 6px;\\n    margin-bottom: 6px;\\n  }\\n.IoPorts_transput__1wbHA[data-controlless=\\\"true\\\"]:first-child{\\n      margin-top: 0px;\\n    }\\n.IoPorts_transput__1wbHA[data-controlless=\\\"false\\\"]{\\n    margin-top: 2px;\\n    margin-bottom: 2px;\\n  }\\n.IoPorts_controls__1dKFt{\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n}\\n.IoPorts_portLabel__qOE7y{\\n  font-size: 13px;\\n  font-weight: 400;\\n}\\n.IoPorts_port__1_a6J{\\n  width: 12px;\\n  height: 12px;\\n  background: linear-gradient(to bottom, #acb1b4, #919699);\\n  border-radius: 100%;\\n  margin-right: 5px;\\n  margin-left: -11px;\\n  flex: 0 0 auto;\\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\\n}\\n.IoPorts_port__1_a6J:last-child{\\n    margin-right: -11px;\\n    margin-left: 5px;\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"red\\\"]{\\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"purple\\\"]{\\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"blue\\\"]{\\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"green\\\"]{\\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"yellow\\\"]{\\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"orange\\\"]{\\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\\n  }\\n.IoPorts_port__1_a6J[data-port-color=\\\"pink\\\"]{\\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\\n  }\\n\";\nvar styles$9 = {\"wrapper\":\"IoPorts_wrapper__3d2hh\",\"inputs\":\"IoPorts_inputs__2etkb\",\"transput\":\"IoPorts_transput__1wbHA\",\"portLabel\":\"IoPorts_portLabel__qOE7y\",\"port\":\"IoPorts_port__1_a6J\",\"outputs\":\"IoPorts_outputs__3JGh-\",\"controls\":\"IoPorts_controls__1dKFt\"};\nstyleInject(css$9);\n\nvar css$8 = \".Control_wrapper__VZIiC {\\n  width: 100%;\\n  padding-right: 3px;\\n  padding-top: 3px;\\n  padding-bottom: 5px;\\n}\\n.Control_label__1OX-Q {\\n  font-size: 14px;\\n}\\n.Control_controlLabel__3ga2- {\\n  font-size: 13px;\\n  display: inline-block;\\n  margin-left: 2px;\\n}\\n\";\nvar styles$8 = {\"wrapper\":\"Control_wrapper__VZIiC\",\"label\":\"Control_label__1OX-Q\",\"controlLabel\":\"Control_controlLabel__3ga2-\"};\nstyleInject(css$8);\n\nvar css$7 = \".Checkbox_wrapper__aSqyY{\\n  display: flex;\\n  align-items: center;\\n}\\n.Checkbox_checkbox__Qv5gn{\\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\\n  border: 1px solid #3c3e40;\\n  border-radius: 4px;\\n  margin-right: 8px;\\n}\\n.Checkbox_label__2RxP-{\\n  padding-top: 2px;\\n  font-size: 13px;\\n}\\n\";\nvar styles$7 = {\"wrapper\":\"Checkbox_wrapper__aSqyY\",\"checkbox\":\"Checkbox_checkbox__Qv5gn\",\"label\":\"Checkbox_label__2RxP-\"};\nstyleInject(css$7);\n\nvar Checkbox = function Checkbox(_ref) {\n  var label = _ref.label,\n      data = _ref.data,\n      _onChange = _ref.onChange;\n  var id = React.useRef(nanoid(10));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$7.wrapper\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-flume-component\": \"checkbox\",\n    className: styles$7.checkbox,\n    type: \"checkbox\",\n    id: id.current,\n    checked: data,\n    onChange: function onChange(e) {\n      return _onChange(e.target.checked);\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    \"data-flume-component\": \"checkbox-label\",\n    className: styles$7.label,\n    htmlFor: id.current\n  }, label));\n};\n\nvar css$6 = \".TextInput_wrapper__tefOZ {\\n  background: none;\\n  border: none;\\n}\\n.TextInput_input__1QHwS {\\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\\n  width: 100%;\\n  border: 1px solid #3c3e40;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  padding: 5px;\\n  resize: vertical;\\n  outline: none;\\n}\\n.TextInput_input__1QHwS::placeholder {\\n    color: rgb(47, 49, 50);\\n  }\\n.TextInput_input__1QHwS:focus {\\n    background: linear-gradient(to bottom, #7c8286, #99a0a4);\\n  }\\n\";\nvar styles$6 = {\"wrapper\":\"TextInput_wrapper__tefOZ\",\"input\":\"TextInput_input__1QHwS\"};\nstyleInject(css$6);\n\nvar TextInput = function TextInput(_ref) {\n  var placeholder = _ref.placeholder,\n      updateNodeConnections = _ref.updateNodeConnections,\n      _onChange = _ref.onChange,\n      data = _ref.data,\n      step = _ref.step,\n      type = _ref.type;\n  var numberInput = React.useRef(null);\n  var recalculateStageRect = React.useContext(RecalculateStageRectContext);\n\n  var handleDragEnd = function handleDragEnd() {\n    document.removeEventListener(\"mousemove\", handleMouseMove);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    e.stopPropagation();\n    updateNodeConnections();\n  };\n\n  var handlePossibleResize = function handlePossibleResize(e) {\n    e.stopPropagation();\n    recalculateStageRect === null || recalculateStageRect === void 0 ? void 0 : recalculateStageRect();\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    document.addEventListener(\"mouseup\", handleDragEnd);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$6.wrapper,\n    \"data-flume-component\": \"text-input\"\n  }, type === \"number\" ? /*#__PURE__*/React.createElement(\"input\", {\n    \"data-flume-component\": \"text-input-number\",\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === 69) {\n        e.preventDefault();\n        return false;\n      }\n    },\n    onChange: function onChange(e) {\n      var inputValue = e.target.value.replace(/e/g, \"\");\n\n      if (!!inputValue) {\n        var value = parseFloat(inputValue);\n\n        if (Number.isNaN(value)) {\n          _onChange(0);\n        } else {\n          _onChange(value);\n\n          if (numberInput.current) {\n            numberInput.current.value = value.toString();\n          }\n        }\n      }\n    },\n    onBlur: function onBlur(e) {\n      if (!e.target.value) {\n        _onChange(0);\n\n        if (numberInput.current) {\n          numberInput.current.value = \"0\";\n        }\n      }\n    },\n    step: step || \"1\",\n    onMouseDown: handlePossibleResize,\n    type: type || \"text\",\n    placeholder: placeholder,\n    className: styles$6.input,\n    defaultValue: data,\n    onDragStart: function onDragStart(e) {\n      return e.stopPropagation();\n    },\n    ref: numberInput\n  }) : /*#__PURE__*/React.createElement(\"textarea\", {\n    \"data-flume-component\": \"text-input-textarea\",\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    onMouseDown: handlePossibleResize,\n    placeholder: placeholder,\n    className: styles$6.input,\n    value: data,\n    onDragStart: function onDragStart(e) {\n      return e.stopPropagation();\n    }\n  }));\n};\n\nvar css$5 = \".Select_wrapper__eAPoQ {\\n  font-size: 14px;\\n  padding: 3px 6px;\\n  border-radius: 4px;\\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\\n  width: 100%;\\n  border: 1px solid #3c3e40;\\n  padding-right: 15px;\\n  position: relative;\\n}\\n  .Select_wrapper__eAPoQ::after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    background: none;\\n    right: 5px;\\n    top: 8px;\\n    width: 0;\\n    height: 0;\\n    border-style: solid;\\n    border-width: 6px 5px 0 5px;\\n    border-color: #191b1c transparent transparent transparent;\\n  }\\n  .Select_wrapper__eAPoQ:hover {\\n    background: linear-gradient(to bottom, #7c8387, #969da1);\\n  }\\n.Select_chipWrapper__3hK2u {\\n  font-size: 14px;\\n  padding: 3px 6px;\\n  border-radius: 4px;\\n  background: linear-gradient(to top, #63676a, #787d80);\\n  border: 1px solid #3c3e40;\\n  margin: 2px;\\n  position: relative;\\n}\\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK {\\n  opacity: 1;\\n}\\n.Select_chipsWrapper__4Alw8 {\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 6px;\\n}\\n.Select_deleteButton__1FnLK {\\n  position: absolute;\\n  right: 0px;\\n  top: 0px;\\n  height: 100%;\\n  width: 22px;\\n  padding: 0px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: linear-gradient(to top, #5b5f62, #6f7477);\\n  border-radius: 3px;\\n  border: none;\\n  font-weight: bold;\\n  opacity: 0;\\n}\\n.Select_deleteButton__1FnLK:focus {\\n  opacity: 1;\\n}\\n.Select_deleteButton__1FnLK:hover {\\n  background: linear-gradient(to top, #64696c, #797f82);\\n}\\n.Select_selectedWrapper__SUs4D {\\n  display: flex;\\n  flex-direction: column;\\n  border-radius: 4px;\\n  background: linear-gradient(to top, #5b5f62, #6f7477);\\n  width: 100%;\\n  border: 1px solid #3c3e40;\\n  font-size: 14px;\\n  padding: 3px 6px;\\n  padding-right: 15px;\\n  position: relative;\\n}\\n.Select_selectedWrapper__SUs4D::after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    background: none;\\n    right: 5px;\\n    top: calc(50% - 4px);\\n    width: 0;\\n    height: 0;\\n    border-style: solid;\\n    border-width: 6px 5px 0 5px;\\n    border-color: #191b1c transparent transparent transparent;\\n  }\\n.Select_selectedWrapper__SUs4D label {\\n    margin: 0px;\\n  }\\n.Select_selectedWrapper__SUs4D p {\\n    margin: 0px;\\n    margin-top: 5px;\\n    font-size: 12px;\\n    font-style: italic;\\n    color: rgb(50, 50, 50);\\n  }\\n\";\nvar styles$5 = {\"wrapper\":\"Select_wrapper__eAPoQ\",\"chipWrapper\":\"Select_chipWrapper__3hK2u\",\"deleteButton\":\"Select_deleteButton__1FnLK\",\"chipsWrapper\":\"Select_chipsWrapper__4Alw8\",\"selectedWrapper\":\"Select_selectedWrapper__SUs4D\"};\nstyleInject(css$5);\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar MAX_LABEL_LENGTH = 50;\n\nvar Select = function Select(_ref) {\n  var _ref$options = _ref.options,\n      options = _ref$options === void 0 ? [] : _ref$options,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? \"[Select an option]\" : _ref$placeholder,\n      onChange = _ref.onChange,\n      data = _ref.data,\n      _ref$allowMultiple = _ref.allowMultiple,\n      allowMultiple = _ref$allowMultiple === void 0 ? false : _ref$allowMultiple;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      drawerOpen = _React$useState2[0],\n      setDrawerOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      drawerCoordinates = _React$useState4[0],\n      setDrawerCoordinates = _React$useState4[1];\n\n  var wrapper = React.useRef(null);\n\n  var closeDrawer = function closeDrawer() {\n    setDrawerOpen(false);\n  };\n\n  var openDrawer = function openDrawer() {\n    if (!drawerOpen) {\n      var _wrapper$current;\n\n      var wrapperRect = (_wrapper$current = wrapper.current) === null || _wrapper$current === void 0 ? void 0 : _wrapper$current.getBoundingClientRect();\n\n      if (wrapperRect) {\n        setDrawerCoordinates({\n          x: wrapperRect.x,\n          y: wrapperRect.y + wrapperRect.height\n        });\n        setDrawerOpen(true);\n      }\n    }\n  };\n\n  var handleOptionSelected = function handleOptionSelected(option) {\n    if (allowMultiple && Array.isArray(data)) {\n      onChange([].concat(_toConsumableArray(data), [option.value]));\n    } else {\n      onChange(option.value);\n    }\n  };\n\n  var handleOptionDeleted = function handleOptionDeleted(optionIndex) {\n    onChange([].concat(_toConsumableArray(data.slice(0, optionIndex)), _toConsumableArray(data.slice(optionIndex + 1))));\n  };\n\n  var getFilteredOptions = function getFilteredOptions() {\n    return allowMultiple ? options.filter(function (opt) {\n      return !data.includes(opt.value);\n    }) : options;\n  };\n\n  var selectedOption = React.useMemo(function () {\n    var option = options.find(function (o) {\n      return o.value === data;\n    });\n\n    if (option) {\n      return _objectSpread$8(_objectSpread$8({}, option), {}, {\n        label: option.label.length > MAX_LABEL_LENGTH ? option.label.slice(0, MAX_LABEL_LENGTH) + \"...\" : option.label\n      });\n    }\n  }, [options, data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, allowMultiple && typeof data !== \"string\" ? data.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$5.chipsWrapper\n  }, data.map(function (val, i) {\n    var optLabel = (options.find(function (opt) {\n      return opt.value === val;\n    }) || {}).label || \"\";\n    return /*#__PURE__*/React.createElement(OptionChip, {\n      onRequestDelete: function onRequestDelete() {\n        return handleOptionDeleted(i);\n      },\n      key: val\n    }, optLabel);\n  })) : null : data ? /*#__PURE__*/React.createElement(SelectedOption, {\n    wrapperRef: wrapper,\n    option: selectedOption,\n    onClick: openDrawer\n  }) : null, (allowMultiple || !data) && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$5.wrapper,\n    ref: wrapper,\n    onClick: openDrawer\n  }, placeholder), drawerOpen && /*#__PURE__*/React.createElement(Portal$1, null, /*#__PURE__*/React.createElement(ContextMenu, {\n    x: drawerCoordinates.x,\n    y: drawerCoordinates.y,\n    emptyText: \"There are no options\",\n    options: getFilteredOptions(),\n    onOptionSelected: handleOptionSelected,\n    onRequestClose: closeDrawer\n  })));\n};\n\nvar SelectedOption = function SelectedOption(_ref2) {\n  var _ref2$option = _ref2.option;\n  _ref2$option = _ref2$option === void 0 ? {\n    label: \"\",\n    description: \"\",\n    value: \"\"\n  } : _ref2$option;\n  var label = _ref2$option.label,\n      description = _ref2$option.description,\n      wrapperRef = _ref2.wrapperRef,\n      onClick = _ref2.onClick;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$5.selectedWrapper,\n    onClick: onClick,\n    ref: wrapperRef,\n    \"data-flume-component\": \"select\"\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    \"data-flume-component\": \"select-label\"\n  }, label), description ? /*#__PURE__*/React.createElement(\"p\", {\n    \"data-flume-component\": \"select-desc\"\n  }, description) : null);\n};\n\nvar OptionChip = function OptionChip(_ref3) {\n  var children = _ref3.children,\n      onRequestDelete = _ref3.onRequestDelete;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$5.chipWrapper\n  }, children, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles$5.deleteButton,\n    onMouseDown: function onMouseDown(e) {\n      e.stopPropagation();\n    },\n    onClick: onRequestDelete\n  }, \"\\u2715\"));\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Control = function Control(props) {\n  var type = props.type,\n      name = props.name,\n      nodeId = props.nodeId,\n      portName = props.portName,\n      label = props.label,\n      inputLabel = props.inputLabel,\n      data = props.data,\n      allData = props.allData,\n      inputData = props.inputData,\n      triggerRecalculation = props.triggerRecalculation,\n      updateNodeConnections = props.updateNodeConnections,\n      setValue = props.setValue,\n      defaultValue = props.defaultValue,\n      isMonoControl = props.isMonoControl;\n  var nodesDispatch = React.useContext(NodeDispatchContext);\n  var executionContext = React.useContext(ContextContext);\n  var calculatedLabel = isMonoControl ? inputLabel : label;\n\n  var onChange = function onChange(data) {\n    if (nodesDispatch) {\n      nodesDispatch({\n        type: NodesActionType.SET_PORT_DATA,\n        data: data,\n        nodeId: nodeId,\n        portName: portName,\n        controlName: name,\n        setValue: setValue\n      });\n    }\n\n    triggerRecalculation();\n  };\n\n  var getControlByType = function getControlByType(type) {\n    var commonProps = {\n      triggerRecalculation: triggerRecalculation,\n      updateNodeConnections: updateNodeConnections,\n      onChange: onChange,\n      data: data\n    };\n\n    switch (type) {\n      case \"select\":\n        {\n          var options = props.options,\n              getOptions = props.getOptions,\n              placeholder = props.placeholder;\n          return /*#__PURE__*/React.createElement(Select, _objectSpread$7(_objectSpread$7({}, commonProps), {}, {\n            options: getOptions ? getOptions(inputData, executionContext) : options,\n            placeholder: placeholder\n          }));\n        }\n\n      case \"text\":\n        {\n          var _placeholder = props.placeholder;\n          return /*#__PURE__*/React.createElement(TextInput, _objectSpread$7(_objectSpread$7({}, commonProps), {}, {\n            placeholder: _placeholder\n          }));\n        }\n\n      case \"number\":\n        {\n          var step = props.step,\n              _placeholder2 = props.placeholder;\n          return /*#__PURE__*/React.createElement(TextInput, _objectSpread$7(_objectSpread$7({}, commonProps), {}, {\n            step: step,\n            type: \"number\",\n            placeholder: _placeholder2\n          }));\n        }\n\n      case \"checkbox\":\n        return /*#__PURE__*/React.createElement(Checkbox, _objectSpread$7(_objectSpread$7({}, commonProps), {}, {\n          label: calculatedLabel\n        }));\n\n      case \"multiselect\":\n        {\n          var _options = props.options,\n              _getOptions = props.getOptions,\n              _placeholder3 = props.placeholder;\n          return /*#__PURE__*/React.createElement(Select, _objectSpread$7(_objectSpread$7({\n            allowMultiple: true\n          }, commonProps), {}, {\n            options: _getOptions ? _getOptions(inputData, executionContext) : _options,\n            placeholder: _placeholder3\n          }));\n        }\n\n      case \"custom\":\n        {\n          var _render;\n\n          var render = props.render;\n          return (_render = render === null || render === void 0 ? void 0 : render(data, onChange, executionContext, triggerRecalculation, {\n            label: label,\n            name: name,\n            portName: portName,\n            inputLabel: inputLabel,\n            defaultValue: defaultValue\n          }, allData)) !== null && _render !== void 0 ? _render : null;\n        }\n\n      default:\n        return /*#__PURE__*/React.createElement(\"div\", null, \"Control\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$8.wrapper,\n    \"data-flume-component\": \"control\"\n  }, calculatedLabel && type !== \"checkbox\" && type !== \"custom\" && /*#__PURE__*/React.createElement(\"label\", {\n    \"data-flume-component\": \"control-label\",\n    className: styles$8.controlLabel\n  }, calculatedLabel), getControlByType(type));\n};\n\nvar Connection = function Connection(_ref) {\n  var from = _ref.from,\n      to = _ref.to,\n      id = _ref.id,\n      lineRef = _ref.lineRef,\n      outputNodeId = _ref.outputNodeId,\n      outputPortName = _ref.outputPortName,\n      inputNodeId = _ref.inputNodeId,\n      inputPortName = _ref.inputPortName;\n  var curve = calculateCurve(from, to);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: styles$b.svg,\n    \"data-flume-component\": \"connection-svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    \"data-connection-id\": id,\n    \"data-output-node-id\": outputNodeId,\n    \"data-output-port-name\": outputPortName,\n    \"data-input-node-id\": inputNodeId,\n    \"data-input-port-name\": inputPortName,\n    \"data-flume-component\": \"connection-path\",\n    stroke: \"rgb(185, 186, 189)\",\n    fill: \"none\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    d: curve,\n    ref: lineRef\n  }));\n};\n\nvar usePrevious = function usePrevious(value) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = value;\n  }, [ref.current]);\n  return ref.current;\n};\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction useTransputs(transputsFn, transputType, nodeId, inputData, connections) {\n  var nodesDispatch = React.useContext(NodeDispatchContext);\n  var executionContext = React.useContext(ContextContext);\n  var transputs = React.useMemo(function () {\n    if (Array.isArray(transputsFn)) return transputsFn;\n    return transputsFn(inputData, connections, executionContext);\n  }, [transputsFn, inputData, connections, executionContext]);\n  var prevTransputs = usePrevious(transputs);\n  React.useEffect(function () {\n    if (!prevTransputs || Array.isArray(transputsFn)) return;\n\n    var _iterator = _createForOfIteratorHelper(prevTransputs),\n        _step;\n\n    try {\n      var _loop = function _loop() {\n        var transput = _step.value;\n        var current = transputs.find(function (_ref) {\n          var name = _ref.name;\n          return transput.name === name;\n        });\n\n        if (!current) {\n          nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch({\n            type: NodesActionType.DESTROY_TRANSPUT,\n            transputType: transputType,\n            transput: {\n              nodeId: nodeId,\n              portName: \"\" + transput.name\n            }\n          });\n        }\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }, [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]);\n  return transputs;\n}\n\nvar IoPorts = function IoPorts(_ref2) {\n  var nodeId = _ref2.nodeId,\n      _ref2$inputs = _ref2.inputs,\n      inputs = _ref2$inputs === void 0 ? [] : _ref2$inputs,\n      _ref2$outputs = _ref2.outputs,\n      outputs = _ref2$outputs === void 0 ? [] : _ref2$outputs,\n      connections = _ref2.connections,\n      inputData = _ref2.inputData,\n      updateNodeConnections = _ref2.updateNodeConnections;\n  var inputTypes = React.useContext(PortTypesContext);\n  var triggerRecalculation = React.useContext(ConnectionRecalculateContext);\n  var resolvedInputs = useTransputs(inputs, \"input\", nodeId, inputData, connections);\n  var resolvedOutputs = useTransputs(outputs, \"output\", nodeId, inputData, connections);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$9.wrapper,\n    \"data-flume-component\": \"ports\"\n  }, resolvedInputs.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$9.inputs,\n    \"data-flume-component\": \"ports-inputs\"\n  }, resolvedInputs.map(function (input) {\n    return /*#__PURE__*/React.createElement(Input, _objectSpread$6(_objectSpread$6({}, input), {}, {\n      data: inputData[input.name] || {},\n      isConnected: !!connections.inputs[input.name],\n      triggerRecalculation: triggerRecalculation !== null && triggerRecalculation !== void 0 ? triggerRecalculation : function () {},\n      updateNodeConnections: updateNodeConnections,\n      inputTypes: inputTypes !== null && inputTypes !== void 0 ? inputTypes : {},\n      nodeId: nodeId,\n      inputData: inputData,\n      key: input.name\n    }));\n  })) : null, !!resolvedOutputs.length && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$9.outputs,\n    \"data-flume-component\": \"ports-outputs\"\n  }, resolvedOutputs.map(function (output) {\n    return /*#__PURE__*/React.createElement(Output, _objectSpread$6(_objectSpread$6({}, output), {}, {\n      triggerRecalculation: triggerRecalculation,\n      inputTypes: inputTypes,\n      nodeId: nodeId,\n      key: output.name\n    }));\n  })));\n};\n\nvar Input = function Input(_ref3) {\n  var type = _ref3.type,\n      label = _ref3.label,\n      name = _ref3.name,\n      nodeId = _ref3.nodeId,\n      data = _ref3.data,\n      localControls = _ref3.controls,\n      inputTypes = _ref3.inputTypes,\n      noControls = _ref3.noControls,\n      triggerRecalculation = _ref3.triggerRecalculation,\n      updateNodeConnections = _ref3.updateNodeConnections,\n      isConnected = _ref3.isConnected,\n      inputData = _ref3.inputData,\n      hidePort = _ref3.hidePort;\n\n  var _ref4 = inputTypes[type] || {},\n      defaultLabel = _ref4.label,\n      color = _ref4.color,\n      _ref4$controls = _ref4.controls,\n      defaultControls = _ref4$controls === void 0 ? [] : _ref4$controls;\n\n  var prevConnected = usePrevious(isConnected);\n  var controls = localControls || defaultControls;\n  React.useEffect(function () {\n    if (isConnected !== prevConnected) {\n      triggerRecalculation();\n    }\n  }, [isConnected, prevConnected, triggerRecalculation]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"port-input\",\n    className: styles$9.transput,\n    \"data-controlless\": isConnected || noControls || !controls.length,\n    onDragStart: function onDragStart(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }, !hidePort ? /*#__PURE__*/React.createElement(Port, {\n    type: type,\n    color: color,\n    name: name,\n    nodeId: nodeId,\n    isInput: true,\n    triggerRecalculation: triggerRecalculation\n  }) : null, (!controls.length || noControls || isConnected) && /*#__PURE__*/React.createElement(\"label\", {\n    \"data-flume-component\": \"port-label\",\n    className: styles$9.portLabel\n  }, label || defaultLabel), !noControls && !isConnected ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$9.controls\n  }, controls.map(function (control) {\n    return /*#__PURE__*/React.createElement(Control, _objectSpread$6(_objectSpread$6({}, control), {}, {\n      nodeId: nodeId,\n      portName: name,\n      triggerRecalculation: triggerRecalculation,\n      updateNodeConnections: updateNodeConnections,\n      inputLabel: label,\n      data: data[control.name],\n      allData: data,\n      key: control.name,\n      inputData: inputData,\n      isMonoControl: controls.length === 1\n    }));\n  })) : null);\n};\n\nvar Output = function Output(_ref5) {\n  var label = _ref5.label,\n      name = _ref5.name,\n      nodeId = _ref5.nodeId,\n      type = _ref5.type,\n      inputTypes = _ref5.inputTypes,\n      triggerRecalculation = _ref5.triggerRecalculation;\n\n  var _ref6 = inputTypes[type] || {},\n      defaultLabel = _ref6.label,\n      color = _ref6.color;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"port-output\",\n    className: styles$9.transput,\n    \"data-controlless\": true,\n    onDragStart: function onDragStart(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    \"data-flume-component\": \"port-label\",\n    className: styles$9.portLabel\n  }, label || defaultLabel), /*#__PURE__*/React.createElement(Port, {\n    type: type,\n    name: name,\n    color: color,\n    nodeId: nodeId,\n    triggerRecalculation: triggerRecalculation\n  }));\n};\n\nvar Port = function Port(_ref7) {\n  var _ref7$color = _ref7.color,\n      color = _ref7$color === void 0 ? \"grey\" : _ref7$color,\n      _ref7$name = _ref7.name,\n      name = _ref7$name === void 0 ? \"\" : _ref7$name,\n      type = _ref7.type,\n      isInput = _ref7.isInput,\n      nodeId = _ref7.nodeId,\n      triggerRecalculation = _ref7.triggerRecalculation;\n  var nodesDispatch = React.useContext(NodeDispatchContext);\n  var stageState = React.useContext(StageContext) || {\n    scale: 1,\n    translate: {\n      x: 0,\n      y: 0\n    }\n  };\n  var editorId = React.useContext(EditorIdContext);\n  var stageId = \"\".concat(STAGE_ID).concat(editorId);\n  var inputTypes = React.useContext(PortTypesContext) || {};\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isDragging = _React$useState2[0],\n      setIsDragging = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dragStartCoordinates = _React$useState4[0],\n      setDragStartCoordinates = _React$useState4[1];\n\n  var dragStartCoordinatesCache = React.useRef(dragStartCoordinates);\n  var port = React.useRef(null);\n  var line = React.useRef(null);\n  var lineInToPort = React.useRef(null);\n\n  var byScale = function byScale(value) {\n    var _stageState$scale;\n\n    return 1 / ((_stageState$scale = stageState === null || stageState === void 0 ? void 0 : stageState.scale) !== null && _stageState$scale !== void 0 ? _stageState$scale : 1) * value;\n  };\n\n  var handleDrag = function handleDrag(e) {\n    var _document$getElementB, _document$getElementB2;\n\n    var _ref8 = (_document$getElementB = (_document$getElementB2 = document.getElementById(stageId)) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.getBoundingClientRect()) !== null && _document$getElementB !== void 0 ? _document$getElementB : {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n        x = _ref8.x,\n        y = _ref8.y,\n        width = _ref8.width,\n        height = _ref8.height;\n\n    if (isInput) {\n      var _stageState$translate, _stageState$translate2, _stageState$translate3, _stageState$translate4, _lineInToPort$current;\n\n      var to = {\n        x: byScale(e.clientX - x - width / 2) + byScale((_stageState$translate = stageState === null || stageState === void 0 ? void 0 : (_stageState$translate2 = stageState.translate) === null || _stageState$translate2 === void 0 ? void 0 : _stageState$translate2.x) !== null && _stageState$translate !== void 0 ? _stageState$translate : 1),\n        y: byScale(e.clientY - y - height / 2) + byScale((_stageState$translate3 = stageState === null || stageState === void 0 ? void 0 : (_stageState$translate4 = stageState.translate) === null || _stageState$translate4 === void 0 ? void 0 : _stageState$translate4.y) !== null && _stageState$translate3 !== void 0 ? _stageState$translate3 : 1)\n      };\n      (_lineInToPort$current = lineInToPort.current) === null || _lineInToPort$current === void 0 ? void 0 : _lineInToPort$current.setAttribute(\"d\", calculateCurve(dragStartCoordinatesCache.current, to));\n    } else {\n      var _stageState$translate5, _stageState$translate6, _stageState$translate7, _stageState$translate8, _line$current;\n\n      var _to = {\n        x: byScale(e.clientX - x - width / 2) + byScale((_stageState$translate5 = stageState === null || stageState === void 0 ? void 0 : (_stageState$translate6 = stageState.translate) === null || _stageState$translate6 === void 0 ? void 0 : _stageState$translate6.x) !== null && _stageState$translate5 !== void 0 ? _stageState$translate5 : 1),\n        y: byScale(e.clientY - y - height / 2) + byScale((_stageState$translate7 = stageState === null || stageState === void 0 ? void 0 : (_stageState$translate8 = stageState.translate) === null || _stageState$translate8 === void 0 ? void 0 : _stageState$translate8.y) !== null && _stageState$translate7 !== void 0 ? _stageState$translate7 : 1)\n      };\n      (_line$current = line.current) === null || _line$current === void 0 ? void 0 : _line$current.setAttribute(\"d\", calculateCurve(dragStartCoordinatesCache.current, _to));\n    }\n  };\n\n  var handleDragEnd = function handleDragEnd(e) {\n    var droppedOnPort = !!e.target.dataset.portName;\n\n    if (isInput) {\n      var _lineInToPort$current2, _lineInToPort$current3;\n\n      var _ref9 = (_lineInToPort$current2 = (_lineInToPort$current3 = lineInToPort.current) === null || _lineInToPort$current3 === void 0 ? void 0 : _lineInToPort$current3.dataset) !== null && _lineInToPort$current2 !== void 0 ? _lineInToPort$current2 : {},\n          _ref9$inputNodeId = _ref9.inputNodeId,\n          inputNodeId = _ref9$inputNodeId === void 0 ? \"\" : _ref9$inputNodeId,\n          _ref9$inputPortName = _ref9.inputPortName,\n          inputPortName = _ref9$inputPortName === void 0 ? \"\" : _ref9$inputPortName,\n          _ref9$outputNodeId = _ref9.outputNodeId,\n          outputNodeId = _ref9$outputNodeId === void 0 ? \"\" : _ref9$outputNodeId,\n          _ref9$outputPortName = _ref9.outputPortName,\n          outputPortName = _ref9$outputPortName === void 0 ? \"\" : _ref9$outputPortName;\n\n      nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch({\n        type: NodesActionType.REMOVE_CONNECTION,\n        input: {\n          nodeId: inputNodeId,\n          portName: inputPortName\n        },\n        output: {\n          nodeId: outputNodeId,\n          portName: outputPortName\n        }\n      });\n\n      if (droppedOnPort) {\n        var _e$target$dataset = e.target.dataset,\n            connectToPortName = _e$target$dataset.portName,\n            connectToNodeId = _e$target$dataset.nodeId,\n            connectToPortType = _e$target$dataset.portType,\n            connectToTransputType = _e$target$dataset.portTransputType;\n        var isNotSameNode = outputNodeId !== connectToNodeId;\n\n        if (isNotSameNode && connectToTransputType !== \"output\") {\n          var inputWillAcceptConnection = inputTypes[connectToPortType].acceptTypes.includes(type);\n\n          if (inputWillAcceptConnection) {\n            nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch({\n              type: NodesActionType.ADD_CONNECTION,\n              input: {\n                nodeId: connectToNodeId,\n                portName: connectToPortName\n              },\n              output: {\n                nodeId: outputNodeId,\n                portName: outputPortName\n              }\n            });\n          }\n        }\n      }\n    } else {\n      if (droppedOnPort) {\n        var _e$target$dataset2 = e.target.dataset,\n            _inputPortName = _e$target$dataset2.portName,\n            _inputNodeId = _e$target$dataset2.nodeId,\n            inputNodeType = _e$target$dataset2.portType,\n            inputTransputType = _e$target$dataset2.portTransputType;\n\n        var _isNotSameNode = _inputNodeId !== nodeId;\n\n        if (_isNotSameNode && inputTransputType !== \"output\") {\n          var _inputWillAcceptConnection = inputTypes[inputNodeType].acceptTypes.includes(type);\n\n          if (_inputWillAcceptConnection) {\n            nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch({\n              type: NodesActionType.ADD_CONNECTION,\n              output: {\n                nodeId: nodeId,\n                portName: name\n              },\n              input: {\n                nodeId: _inputNodeId,\n                portName: _inputPortName\n              }\n            });\n            triggerRecalculation();\n          }\n        }\n      }\n    }\n\n    setIsDragging(false);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n    document.removeEventListener(\"mousemove\", handleDrag);\n  };\n\n  var handleDragStart = function handleDragStart(e) {\n    var _port$current, _document$getElementB3;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    var _ref10 = ((_port$current = port.current) === null || _port$current === void 0 ? void 0 : _port$current.getBoundingClientRect()) || {},\n        _ref10$x = _ref10.x,\n        startPortX = _ref10$x === void 0 ? 0 : _ref10$x,\n        _ref10$y = _ref10.y,\n        startPortY = _ref10$y === void 0 ? 0 : _ref10$y,\n        _ref10$width = _ref10.width,\n        startPortWidth = _ref10$width === void 0 ? 0 : _ref10$width;\n        _ref10.height;\n\n    var _ref11 = ((_document$getElementB3 = document.getElementById(stageId)) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.getBoundingClientRect()) || {},\n        _ref11$x = _ref11.x,\n        stageX = _ref11$x === void 0 ? 0 : _ref11$x,\n        _ref11$y = _ref11.y,\n        stageY = _ref11$y === void 0 ? 0 : _ref11$y,\n        _ref11$width = _ref11.width,\n        stageWidth = _ref11$width === void 0 ? 0 : _ref11$width,\n        _ref11$height = _ref11.height,\n        stageHeight = _ref11$height === void 0 ? 0 : _ref11$height;\n\n    if (isInput) {\n      lineInToPort.current = document.querySelector(\"[data-input-node-id=\\\"\".concat(nodeId, \"\\\"][data-input-port-name=\\\"\").concat(name, \"\\\"]\"));\n      var portIsConnected = !!lineInToPort.current;\n\n      if (portIsConnected && lineInToPort.current && lineInToPort.current.parentElement) {\n        lineInToPort.current.parentElement.style.zIndex = \"9999\";\n\n        var _ref12 = getPortRect(lineInToPort.current.dataset.outputNodeId || \"\", lineInToPort.current.dataset.outputPortName || \"\", \"output\") || {},\n            _ref12$x = _ref12.x,\n            outputPortX = _ref12$x === void 0 ? 0 : _ref12$x,\n            _ref12$y = _ref12.y,\n            outputPortY = _ref12$y === void 0 ? 0 : _ref12$y,\n            _ref12$width = _ref12.width,\n            outputPortWidth = _ref12$width === void 0 ? 0 : _ref12$width;\n            _ref12.height;\n\n        var coordinates = {\n          x: byScale(outputPortX - stageX + outputPortWidth / 2 - stageWidth / 2) + byScale(stageState.translate.x),\n          y: byScale(outputPortY - stageY + outputPortWidth / 2 - stageHeight / 2) + byScale(stageState.translate.y)\n        };\n        setDragStartCoordinates(coordinates);\n        dragStartCoordinatesCache.current = coordinates;\n        setIsDragging(true);\n        document.addEventListener(\"mouseup\", handleDragEnd);\n        document.addEventListener(\"mousemove\", handleDrag);\n      }\n    } else {\n      var _coordinates = {\n        x: byScale(startPortX - stageX + startPortWidth / 2 - stageWidth / 2) + byScale(stageState.translate.x),\n        y: byScale(startPortY - stageY + startPortWidth / 2 - stageHeight / 2) + byScale(stageState.translate.y)\n      };\n      setDragStartCoordinates(_coordinates);\n      dragStartCoordinatesCache.current = _coordinates;\n      setIsDragging(true);\n      document.addEventListener(\"mouseup\", handleDragEnd);\n      document.addEventListener(\"mousemove\", handleDrag);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      zIndex: 999\n    },\n    onMouseDown: handleDragStart,\n    className: styles$9.port,\n    \"data-port-color\": color,\n    \"data-port-name\": name,\n    \"data-port-type\": type,\n    \"data-port-transput-type\": isInput ? \"input\" : \"output\",\n    \"data-node-id\": nodeId,\n    \"data-flume-component\": \"port-handle\",\n    onDragStart: function onDragStart(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    ref: port\n  }), isDragging && !isInput ? /*#__PURE__*/React.createElement(Portal$1, {\n    node: document.getElementById(\"\".concat(DRAG_CONNECTION_ID).concat(editorId))\n  }, /*#__PURE__*/React.createElement(Connection, {\n    from: dragStartCoordinates,\n    to: dragStartCoordinates,\n    lineRef: line\n  })) : null);\n};\n\nvar _excluded = [\"children\", \"className\"];\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Node = function Node(_ref) {\n  var _React$useContext, _React$useContext2, _React$useContext3;\n\n  var id = _ref.id,\n      width = _ref.width,\n      x = _ref.x,\n      y = _ref.y,\n      stageRect = _ref.stageRect,\n      connections = _ref.connections,\n      type = _ref.type,\n      inputData = _ref.inputData,\n      root = _ref.root,\n      onDragStart = _ref.onDragStart,\n      renderNodeHeader = _ref.renderNodeHeader;\n  var cache = (_React$useContext = React.useContext(CacheContext)) !== null && _React$useContext !== void 0 ? _React$useContext : undefined;\n  var nodeTypes = (_React$useContext2 = React.useContext(NodeTypesContext)) !== null && _React$useContext2 !== void 0 ? _React$useContext2 : {};\n  var nodesDispatch = React.useContext(NodeDispatchContext);\n  var stageState = (_React$useContext3 = React.useContext(StageContext)) !== null && _React$useContext3 !== void 0 ? _React$useContext3 : {\n    scale: 0,\n    translate: {\n      x: 0,\n      y: 0\n    }\n  };\n  var currentNodeType = nodeTypes[type];\n  var label = currentNodeType.label,\n      deletable = currentNodeType.deletable,\n      _currentNodeType$inpu = currentNodeType.inputs,\n      inputs = _currentNodeType$inpu === void 0 ? [] : _currentNodeType$inpu,\n      _currentNodeType$outp = currentNodeType.outputs,\n      outputs = _currentNodeType$outp === void 0 ? [] : _currentNodeType$outp;\n  var nodeWrapper = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      menuOpen = _React$useState2[0],\n      setMenuOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      menuCoordinates = _React$useState4[0],\n      setMenuCoordinates = _React$useState4[1];\n\n  var byScale = function byScale(value) {\n    return 1 / stageState.scale * value;\n  };\n\n  var updateConnectionsByTransput = function updateConnectionsByTransput() {\n    var transput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var isOutput = arguments.length > 1 ? arguments[1] : undefined;\n    Object.entries(transput).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          portName = _ref3[0],\n          outputs = _ref3[1];\n\n      outputs.forEach(function (output) {\n        var _fromRect$width, _cache$current, _toRect$x, _stageRect$current$x, _stageRect$current, _stageRect$current$wi, _stageRect$current2, _toRect$y, _stageRect$current$y, _stageRect$current3, _stageRect$current$he, _stageRect$current4, _fromRect$x, _stageRect$current$x2, _stageRect$current5, _stageRect$current$wi2, _stageRect$current6, _fromRect$y, _stageRect$current$y2, _stageRect$current7, _stageRect$current$he2, _stageRect$current8, _cnx;\n\n        var toRect = getPortRect(id, portName, isOutput ? \"output\" : \"input\", cache);\n        var fromRect = getPortRect(output.nodeId, output.portName, isOutput ? \"input\" : \"output\", cache);\n        var portHalf = ((_fromRect$width = fromRect === null || fromRect === void 0 ? void 0 : fromRect.width) !== null && _fromRect$width !== void 0 ? _fromRect$width : 0) / 2;\n        var combined;\n\n        if (isOutput) {\n          combined = id + portName + output.nodeId + output.portName;\n        } else {\n          combined = output.nodeId + output.portName + id + portName;\n        }\n\n        var cnx;\n        var cachedConnection = cache === null || cache === void 0 ? void 0 : (_cache$current = cache.current) === null || _cache$current === void 0 ? void 0 : _cache$current.connections[combined];\n\n        if (cachedConnection) {\n          cnx = cachedConnection;\n        } else {\n          cnx = document.querySelector(\"[data-connection-id=\\\"\".concat(combined, \"\\\"]\"));\n\n          if (cnx && cache && cache.current) {\n            cache.current.connections[combined] = cnx;\n          }\n        }\n\n        var from = {\n          x: byScale(((_toRect$x = toRect === null || toRect === void 0 ? void 0 : toRect.x) !== null && _toRect$x !== void 0 ? _toRect$x : 0) - ((_stageRect$current$x = (_stageRect$current = stageRect.current) === null || _stageRect$current === void 0 ? void 0 : _stageRect$current.x) !== null && _stageRect$current$x !== void 0 ? _stageRect$current$x : 0) + portHalf - ((_stageRect$current$wi = (_stageRect$current2 = stageRect.current) === null || _stageRect$current2 === void 0 ? void 0 : _stageRect$current2.width) !== null && _stageRect$current$wi !== void 0 ? _stageRect$current$wi : 0) / 2) + byScale(stageState.translate.x),\n          y: byScale(((_toRect$y = toRect === null || toRect === void 0 ? void 0 : toRect.y) !== null && _toRect$y !== void 0 ? _toRect$y : 0) - ((_stageRect$current$y = (_stageRect$current3 = stageRect.current) === null || _stageRect$current3 === void 0 ? void 0 : _stageRect$current3.y) !== null && _stageRect$current$y !== void 0 ? _stageRect$current$y : 0) + portHalf - ((_stageRect$current$he = (_stageRect$current4 = stageRect.current) === null || _stageRect$current4 === void 0 ? void 0 : _stageRect$current4.height) !== null && _stageRect$current$he !== void 0 ? _stageRect$current$he : 0) / 2) + byScale(stageState.translate.y)\n        };\n        var to = {\n          x: byScale(((_fromRect$x = fromRect === null || fromRect === void 0 ? void 0 : fromRect.x) !== null && _fromRect$x !== void 0 ? _fromRect$x : 0) - ((_stageRect$current$x2 = (_stageRect$current5 = stageRect.current) === null || _stageRect$current5 === void 0 ? void 0 : _stageRect$current5.x) !== null && _stageRect$current$x2 !== void 0 ? _stageRect$current$x2 : 0) + portHalf - ((_stageRect$current$wi2 = (_stageRect$current6 = stageRect.current) === null || _stageRect$current6 === void 0 ? void 0 : _stageRect$current6.width) !== null && _stageRect$current$wi2 !== void 0 ? _stageRect$current$wi2 : 0) / 2) + byScale(stageState.translate.x),\n          y: byScale(((_fromRect$y = fromRect === null || fromRect === void 0 ? void 0 : fromRect.y) !== null && _fromRect$y !== void 0 ? _fromRect$y : 0) - ((_stageRect$current$y2 = (_stageRect$current7 = stageRect.current) === null || _stageRect$current7 === void 0 ? void 0 : _stageRect$current7.y) !== null && _stageRect$current$y2 !== void 0 ? _stageRect$current$y2 : 0) + portHalf - ((_stageRect$current$he2 = (_stageRect$current8 = stageRect.current) === null || _stageRect$current8 === void 0 ? void 0 : _stageRect$current8.height) !== null && _stageRect$current$he2 !== void 0 ? _stageRect$current$he2 : 0) / 2) + byScale(stageState.translate.y)\n        };\n        (_cnx = cnx) === null || _cnx === void 0 ? void 0 : _cnx.setAttribute(\"d\", calculateCurve(from, to));\n      });\n    });\n  };\n\n  var updateNodeConnections = function updateNodeConnections() {\n    if (connections) {\n      updateConnectionsByTransput(connections.inputs);\n      updateConnectionsByTransput(connections.outputs, true);\n    }\n  };\n\n  var stopDrag = function stopDrag(e, coordinates) {\n    nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch(_objectSpread$5(_objectSpread$5({\n      type: NodesActionType.SET_NODE_COORDINATES\n    }, coordinates), {}, {\n      nodeId: id\n    }));\n  };\n\n  var handleDrag = function handleDrag(_ref4) {\n    var x = _ref4.x,\n        y = _ref4.y;\n\n    if (nodeWrapper.current) {\n      nodeWrapper.current.style.transform = \"translate(\".concat(x, \"px,\").concat(y, \"px)\");\n      updateNodeConnections();\n    }\n  };\n\n  var startDrag = function startDrag() {\n    onDragStart();\n  };\n\n  var handleContextMenu = function handleContextMenu(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setMenuOpen(true);\n    return false;\n  };\n\n  var closeContextMenu = function closeContextMenu() {\n    setMenuOpen(false);\n  };\n\n  var deleteNode = function deleteNode() {\n    nodesDispatch === null || nodesDispatch === void 0 ? void 0 : nodesDispatch({\n      type: NodesActionType.REMOVE_NODE,\n      nodeId: id\n    });\n  };\n\n  var handleMenuOption = function handleMenuOption(_ref5) {\n    var value = _ref5.value;\n\n    switch (value) {\n      case \"deleteNode\":\n        deleteNode();\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Draggable, {\n    className: styles$a.wrapper,\n    style: {\n      width: width,\n      transform: \"translate(\".concat(x, \"px, \").concat(y, \"px)\")\n    },\n    onDragStart: startDrag,\n    onDrag: handleDrag,\n    onDragEnd: stopDrag,\n    innerRef: nodeWrapper,\n    \"data-node-id\": id,\n    \"data-flume-component\": \"node\",\n    \"data-flume-node-type\": currentNodeType.type,\n    \"data-flume-component-is-root\": !!root,\n    onContextMenu: handleContextMenu,\n    stageState: stageState,\n    stageRect: stageRect\n  }, renderNodeHeader ? renderNodeHeader(NodeHeader, currentNodeType, {\n    openMenu: handleContextMenu,\n    closeMenu: closeContextMenu,\n    deleteNode: deleteNode\n  }) : /*#__PURE__*/React.createElement(NodeHeader, null, label), /*#__PURE__*/React.createElement(IoPorts, {\n    nodeId: id,\n    inputs: inputs,\n    outputs: outputs,\n    connections: connections,\n    updateNodeConnections: updateNodeConnections,\n    inputData: inputData\n  }), menuOpen ? /*#__PURE__*/React.createElement(Portal$1, null, /*#__PURE__*/React.createElement(ContextMenu, {\n    x: menuCoordinates.x,\n    y: menuCoordinates.y,\n    options: _toConsumableArray(deletable !== false ? [{\n      label: \"Delete Node\",\n      value: \"deleteNode\",\n      description: \"Deletes a node and all of its connections.\"\n    }] : []),\n    onRequestClose: closeContextMenu,\n    onOptionSelected: handleMenuOption,\n    hideFilter: true,\n    label: \"Node Options\",\n    emptyText: \"This node has no options.\"\n  })) : null);\n};\n\nvar NodeHeader = function NodeHeader(_ref6) {\n  var children = _ref6.children,\n      _ref6$className = _ref6.className,\n      className = _ref6$className === void 0 ? \"\" : _ref6$className,\n      props = _objectWithoutProperties(_ref6, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"h2\", _objectSpread$5(_objectSpread$5({}, props), {}, {\n    className: styles$a.label + (className ? \" \".concat(className) : \"\"),\n    \"data-flume-component\": \"node-header\"\n  }), children);\n};\n\nvar css$4 = \".Comment_wrapper__1Pnbd {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  padding: 5px;\\n  background: rgba(147, 154, 158, 0.7);\\n  border-radius: 5px;\\n  border-bottom-right-radius: 2px;\\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\\n  min-width: 80px;\\n  font-size: 14px;\\n  display: flex;\\n  text-shadow: 0px 1px rgba(255,255,255,.1);\\n  border: 1px solid rgba(168, 176, 181, 0.7);\\n  user-select: none;\\n}\\n  .Comment_wrapper__1Pnbd[data-color=\\\"red\\\"]{\\n    background: rgba(213, 84, 103, 0.65);\\n    border-color: rgba(227, 85, 119, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"purple\\\"]{\\n    background: rgba(153, 83, 196, 0.65);\\n    border-color: rgba(156, 85, 227, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"blue\\\"]{\\n    background: rgba(76, 142, 203, 0.65);\\n    border-color: rgba(85, 159, 227, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"green\\\"]{\\n    background: rgba(70, 200, 130, 0.65);\\n    border-color: rgba(85, 227, 150, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"yellow\\\"]{\\n    background: rgba(200, 167, 63, 0.65);\\n    border-color: rgba(227, 213, 85, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"orange\\\"]{\\n    background: rgba(215, 123, 64, 0.65);\\n    border-color: rgba(227, 149, 85, 0.65);\\n  }\\n  .Comment_wrapper__1Pnbd[data-color=\\\"pink\\\"]{\\n    background: rgba(255, 102, 208, 0.65);\\n    border-color: rgba(242, 131, 228, 0.65);\\n  }\\n.Comment_text__Ie2nX{\\n  width: 100%;\\n  height: 100%;\\n  overflow: auto;\\n  white-space: pre-wrap;\\n  cursor: default;\\n}\\n.Comment_resizeThumb__20KWn {\\n  width: 10px;\\n  height: 10px;\\n  border-radius: 4px 0px 4px 0px;\\n  position: absolute;\\n  right: 0px;\\n  bottom: 0px;\\n  overflow: hidden;\\n  cursor: nwse-resize;\\n}\\n.Comment_resizeThumb__20KWn::before,\\n  .Comment_resizeThumb__20KWn::after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    right: 0px;\\n    top: 0px;\\n    width: 250%;\\n    height: 0px;\\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\\n    transform-origin: center right;\\n    transform: rotate(-45deg) scale(0.5);\\n  }\\n.Comment_resizeThumb__20KWn::after {\\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\\n  }\\n.Comment_textarea__2Rze3 {\\n  resize: none;\\n  width: calc(100% + 2px);\\n  height: calc(100% + 2px);\\n  border-radius: 3px;\\n  background: rgba(255,255,255,.1);\\n  border: none;\\n  outline: none;\\n  margin: -2px;\\n  margin-top: -1px;\\n  padding-top: 0px;\\n  font-size: 14px;\\n}\\n.Comment_textarea__2Rze3::placeholder{\\n    color: rgba(0,0,0,.5);\\n  }\\n\";\nvar styles$4 = {\"wrapper\":\"Comment_wrapper__1Pnbd\",\"text\":\"Comment_text__Ie2nX\",\"resizeThumb\":\"Comment_resizeThumb__20KWn\",\"textarea\":\"Comment_textarea__2Rze3\"};\nstyleInject(css$4);\n\nvar css$3 = \".ColorPicker_wrapper__1M1j2{\\n  position: fixed;\\n  z-index: 9999;\\n  background: rgba(29, 32, 34, 0.95);\\n  border-radius: 5px;\\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\\n  border: 1px solid rgba(0,0,0,.4);\\n  color: #fff;\\n  display: flex;\\n  width: 102px;\\n  flex-wrap: wrap;\\n  padding: 2px;\\n}\\n@supports (backdrop-filter: blur(6px)){\\n  .ColorPicker_wrapper__1M1j2{\\n    backdrop-filter: blur(6px);\\n    background: rgba(29, 32, 34, 0.8);\\n  }\\n}\\n.ColorPicker_colorButtonWrapper__1ijdj{\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 2px;\\n}\\n.ColorPicker_colorButton__1Qcuq{\\n  border-radius: 3px;\\n  border: none;\\n  width: 20px;\\n  height: 20px;\\n  background: rgba(204, 204, 204, 1);\\n}\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"red\\\"]{\\n    background: rgba(210, 101, 111, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"purple\\\"]{\\n    background: rgba(159, 101, 210, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"blue\\\"]{\\n    background: rgba(101, 151, 210, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"green\\\"]{\\n    background: rgba(101, 210, 168, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"orange\\\"]{\\n    background: rgba(210, 137, 101, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"yellow\\\"]{\\n    background: rgba(210, 196, 101, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq[data-color=\\\"pink\\\"]{\\n    background: rgba(241, 124, 226, 1)\\n  }\\n.ColorPicker_colorButton__1Qcuq:hover{\\n    opacity: .8;\\n  }\\n\";\nvar styles$3 = {\"wrapper\":\"ColorPicker_wrapper__1M1j2\",\"colorButtonWrapper\":\"ColorPicker_colorButtonWrapper__1ijdj\",\"colorButton\":\"ColorPicker_colorButton__1Qcuq\"};\nstyleInject(css$3);\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar define = function define(value, defaultValue) {\n  return value !== undefined ? value : defaultValue;\n};\n\nvar buildDefaultConfig = function buildDefaultConfig(defaultConfig, config) {\n  var _ref, _config$label, _ref2, _config$name, _config$defaultValue;\n\n  return {\n    label: (_ref = (_config$label = config.label) !== null && _config$label !== void 0 ? _config$label : defaultConfig.label) !== null && _ref !== void 0 ? _ref : \"\",\n    name: (_ref2 = (_config$name = config.name) !== null && _config$name !== void 0 ? _config$name : defaultConfig.name) !== null && _ref2 !== void 0 ? _ref2 : \"\",\n    defaultValue: (_config$defaultValue = config.defaultValue) !== null && _config$defaultValue !== void 0 ? _config$defaultValue : defaultConfig.defaultValue\n  };\n};\n\nvar buildTextControl = function buildTextControl(config) {\n  var defaultConfig = buildDefaultConfig({\n    name: \"text\",\n    defaultValue: \"\"\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"text\"\n  });\n};\n\nvar buildSelectControl = function buildSelectControl(config) {\n  var _config$options;\n\n  var defaultConfig = buildDefaultConfig({\n    name: \"select\",\n    defaultValue: \"\"\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"select\",\n    options: (_config$options = config.options) !== null && _config$options !== void 0 ? _config$options : [],\n    getOptions: config.getOptions,\n    placeholder: config.placeholder\n  });\n};\n\nvar buildNumberControl = function buildNumberControl(config) {\n  var defaultConfig = buildDefaultConfig({\n    name: \"number\",\n    defaultValue: 0\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"number\",\n    step: config.step\n  });\n};\n\nvar buildCheckboxControl = function buildCheckboxControl(config) {\n  var defaultConfig = buildDefaultConfig({\n    name: \"checkbox\",\n    defaultValue: false\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"checkbox\"\n  });\n};\n\nvar buildMultiselectControl = function buildMultiselectControl(config) {\n  var _config$options2;\n\n  var defaultConfig = buildDefaultConfig({\n    name: \"multiselect\",\n    defaultValue: []\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"multiselect\",\n    options: (_config$options2 = config.options) !== null && _config$options2 !== void 0 ? _config$options2 : [],\n    getOptions: config.getOptions,\n    placeholder: config.placeholder\n  });\n};\n\nvar buildCustomControl = function buildCustomControl(config) {\n  var _config$render;\n\n  var defaultConfig = buildDefaultConfig({\n    name: \"custom\",\n    defaultValue: undefined\n  }, config);\n  return _objectSpread$4(_objectSpread$4({}, defaultConfig), {}, {\n    type: \"custom\",\n    render: (_config$render = config.render) !== null && _config$render !== void 0 ? _config$render : function () {\n      return null;\n    }\n  });\n};\n\nvar Controls = {\n  text: buildTextControl,\n  select: buildSelectControl,\n  number: buildNumberControl,\n  checkbox: buildCheckboxControl,\n  multiselect: buildMultiselectControl,\n  custom: buildCustomControl\n};\nvar Colors = {\n  yellow: \"yellow\",\n  orange: \"orange\",\n  red: \"red\",\n  pink: \"pink\",\n  purple: \"purple\",\n  blue: \"blue\",\n  green: \"green\",\n  grey: \"grey\"\n};\nvar getPortBuilders = function getPortBuilders(ports) {\n  return Object.values(ports).reduce(function (obj, port) {\n    obj[port.type] = function () {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return {\n        type: port.type,\n        name: config.name || port.name,\n        label: config.label || port.label,\n        noControls: define(config.noControls, false),\n        color: config.color || port.color,\n        hidePort: define(config.hidePort, port.hidePort),\n        controls: define(config.controls, port.controls)\n      };\n    };\n\n    return obj;\n  }, {});\n};\nvar FlumeConfig = /*#__PURE__*/function () {\n  function FlumeConfig(config) {\n    _classCallCheck(this, FlumeConfig);\n\n    if (config) {\n      this.nodeTypes = _objectSpread$4({}, config.nodeTypes);\n      this.portTypes = _objectSpread$4({}, config.portTypes);\n    } else {\n      this.nodeTypes = {};\n      this.portTypes = {};\n    }\n  }\n\n  _createClass(FlumeConfig, [{\n    key: \"addRootNodeType\",\n    value: function addRootNodeType(config) {\n      this.addNodeType(_objectSpread$4(_objectSpread$4({}, config), {}, {\n        root: true,\n        addable: false,\n        deletable: false\n      }));\n      return this;\n    }\n  }, {\n    key: \"addNodeType\",\n    value: function addNodeType(config) {\n      if (_typeof(config) !== \"object\" && config !== null) {\n        throw new Error(\"You must provide a configuration object when calling addNodeType.\");\n      }\n\n      if (typeof config.type !== \"string\") {\n        throw new Error(\"Required key, \\\"type\\\" must be a string when calling addNodeType.\");\n      }\n\n      if (typeof config.initialWidth !== \"undefined\" && typeof config.initialWidth !== \"number\") {\n        throw new Error(\"Optional key, \\\"initialWidth\\\" must be a number when calling addNodeType.\");\n      }\n\n      if (this.nodeTypes[config.type] !== undefined) {\n        throw new Error(\"A node with type \\\"\".concat(config.type, \"\\\" has already been declared.\"));\n      }\n\n      var node = {\n        type: config.type,\n        label: define(config.label, \"\"),\n        description: define(config.description, \"\"),\n        addable: define(config.addable, true),\n        deletable: define(config.deletable, true)\n      };\n\n      if (config.initialWidth) {\n        node.initialWidth = config.initialWidth;\n      }\n\n      if (config.sortIndex !== undefined) {\n        node.sortIndex = config.sortIndex;\n      }\n\n      if (typeof config.inputs === \"function\") {\n        var inputs = config.inputs(getPortBuilders(this.portTypes));\n\n        if (!Array.isArray(inputs) && typeof config.inputs !== \"function\") {\n          throw new Error(\"When providing a function to the \\\"inputs\\\" key, you must return either an array or a function.\");\n        }\n\n        node.inputs = inputs;\n      } else if (config.inputs === undefined) {\n        node.inputs = [];\n      } else if (!Array.isArray(config.inputs)) {\n        throw new Error(\"Optional key, \\\"inputs\\\" must be an array.\");\n      } else {\n        node.inputs = config.inputs;\n      }\n\n      if (typeof config.outputs === \"function\") {\n        var outputs = config.outputs(getPortBuilders(this.portTypes));\n\n        if (!Array.isArray(outputs) && typeof config.outputs !== \"function\") {\n          throw new Error(\"When providing a function to the \\\"outputs\\\" key, you must return either an array or a function.\");\n        }\n\n        node.outputs = outputs;\n      } else if (config.outputs === undefined) {\n        node.outputs = [];\n      } else if (config.outputs !== undefined && !Array.isArray(config.outputs)) {\n        throw new Error(\"Optional key, \\\"outputs\\\" must be an array.\");\n      } else {\n        node.outputs = config.outputs;\n      }\n\n      if (config.root !== undefined) {\n        if (typeof config.root !== \"boolean\") {\n          throw new Error(\"Optional key, \\\"root\\\" must be a boolean.\");\n        } else {\n          node.root = config.root;\n        }\n      }\n\n      this.nodeTypes[config.type] = node;\n      return this;\n    }\n  }, {\n    key: \"removeNodeType\",\n    value: function removeNodeType(type) {\n      if (!this.nodeTypes[type]) {\n        console.error(\"Non-existent node type \\\"\".concat(type, \"\\\" cannot be removed.\"));\n      } else {\n        var _this$nodeTypes = this.nodeTypes;\n            _this$nodeTypes[type];\n            var nodeTypes = _objectWithoutProperties(_this$nodeTypes, [type].map(_toPropertyKey));\n\n        this.nodeTypes = nodeTypes;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"addPortType\",\n    value: function addPortType(config) {\n      if (_typeof(config) !== \"object\" && config !== null) {\n        throw new Error(\"You must provide a configuration object when calling addPortType\");\n      }\n\n      if (typeof config.type !== \"string\") {\n        throw new Error(\"Required key, \\\"type\\\" must be a string when calling addPortType.\");\n      }\n\n      if (this.portTypes[config.type] !== undefined) {\n        throw new Error(\"A port with type \\\"\".concat(config.type, \"\\\" has already been declared.\"));\n      }\n\n      if (typeof config.name !== \"string\") {\n        throw new Error(\"Required key, \\\"name\\\" must be a string when calling addPortType.\");\n      }\n\n      var port = {\n        type: config.type,\n        name: config.name,\n        label: define(config.label, \"\"),\n        color: define(config.color, Colors.grey),\n        hidePort: define(config.hidePort, false)\n      };\n\n      if (config.acceptTypes === undefined) {\n        port.acceptTypes = [config.type];\n      } else if (!Array.isArray(config.acceptTypes)) {\n        throw new Error(\"Optional key, \\\"acceptTypes\\\" must be an array.\");\n      } else {\n        port.acceptTypes = config.acceptTypes;\n      }\n\n      if (config.controls === undefined) {\n        port.controls = [];\n      } else if (!Array.isArray(config.controls)) {\n        throw new Error(\"Optional key, \\\"controls\\\" must be an array.\");\n      } else {\n        port.controls = config.controls;\n      }\n\n      this.portTypes[config.type] = port;\n      return this;\n    }\n  }, {\n    key: \"removePortType\",\n    value: function removePortType(type) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$skipDynamicNode = _ref3.skipDynamicNodesCheck,\n          skipDynamicNodesCheck = _ref3$skipDynamicNode === void 0 ? false : _ref3$skipDynamicNode;\n\n      if (!this.portTypes[type]) {\n        console.error(\"Non-existent port type \\\"\".concat(type, \"\\\" cannot be removed.\"));\n      } else {\n        if (!skipDynamicNodesCheck) {\n          var dynamicNodes = Object.values(this.nodeTypes).filter(function (node) {\n            return typeof node.inputs === \"function\" || typeof node.outputs === \"function\";\n          });\n\n          if (dynamicNodes.length) {\n            console.warn(\"We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.\");\n          }\n        }\n\n        var affectedNodes = Object.values(this.nodeTypes).filter(function (node) {\n          return Array.isArray(node.inputs) && node.inputs.find(function (p) {\n            return p.type === type;\n          }) || Array.isArray(node.outputs) && node.outputs.find(function (p) {\n            return p.type === type;\n          });\n        });\n\n        if (affectedNodes.length) {\n          throw new Error(\"Cannot delete port type \\\"\".concat(type, \"\\\" without first deleting all node types using these ports: [\").concat(affectedNodes.map(function (n) {\n            return \"\".concat(n.type);\n          }).join(\", \"), \"]\"));\n        } else {\n          var _this$portTypes = this.portTypes;\n              _this$portTypes[type];\n              var portTypes = _objectWithoutProperties(_this$portTypes, [type].map(_toPropertyKey));\n\n          this.portTypes = portTypes;\n        }\n      }\n\n      return this;\n    }\n  }]);\n\n  return FlumeConfig;\n}();\n\nvar ColorPicker = (function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      onColorPicked = _ref.onColorPicked,\n      onRequestClose = _ref.onRequestClose;\n  var wrapper = React.useRef(null);\n  var testClickOutside = React.useCallback(function (e) {\n    console.log(\"testClickOutside\", e.type);\n\n    if (wrapper.current && !wrapper.current.contains(e.target)) {\n      onRequestClose();\n      document.removeEventListener(\"click\", testClickOutside);\n      document.removeEventListener(\"contextmenu\", testClickOutside);\n    }\n  }, [wrapper, onRequestClose]);\n  var testEscape = React.useCallback(function (e) {\n    if (e.key === \"Escape\") {\n      onRequestClose();\n      document.removeEventListener(\"keydown\", testEscape);\n    }\n  }, [onRequestClose]);\n  React.useEffect(function () {\n    setTimeout(function () {\n      document.addEventListener(\"keydown\", testEscape);\n      document.addEventListener(\"click\", testClickOutside);\n      document.addEventListener(\"contextmenu\", testClickOutside);\n    });\n    return function () {\n      document.removeEventListener(\"click\", testClickOutside);\n      document.removeEventListener(\"contextmenu\", testClickOutside);\n      document.removeEventListener(\"keydown\", testEscape);\n    };\n  }, [testClickOutside, testEscape]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"color-picker\",\n    ref: wrapper,\n    className: styles$3.wrapper,\n    style: {\n      left: x,\n      top: y\n    }\n  }, Object.values(Colors).map(function (colorString) {\n    var color = colorString;\n    return /*#__PURE__*/React.createElement(ColorButton, {\n      onSelected: function onSelected() {\n        onColorPicked(color);\n        onRequestClose();\n      },\n      color: color,\n      key: color\n    });\n  }));\n});\n\nvar ColorButton = function ColorButton(_ref2) {\n  var color = _ref2.color,\n      onSelected = _ref2.onSelected;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$3.colorButtonWrapper\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-flume-component\": \"color-button\",\n    className: styles$3.colorButton,\n    onClick: onSelected,\n    \"data-color\": color,\n    \"aria-label\": color\n  }));\n};\n\nvar Comment = (function (_ref) {\n  var dispatch = _ref.dispatch,\n      id = _ref.id,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      color = _ref.color,\n      text = _ref.text,\n      stageRect = _ref.stageRect,\n      onDragStart = _ref.onDragStart,\n      isNew = _ref.isNew;\n  var stageState = React.useContext(StageContext);\n  var wrapper = React.useRef(null);\n  var textarea = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isEditing = _React$useState2[0],\n      setIsEditing = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isPickingColor = _React$useState4[0],\n      setIsPickingColor = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      menuOpen = _React$useState6[0],\n      setMenuOpen = _React$useState6[1];\n\n  var _React$useState7 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      menuCoordinates = _React$useState8[0],\n      setMenuCoordinates = _React$useState8[1];\n\n  var _React$useState9 = React.useState({\n    x: 0,\n    y: 0\n  }),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      colorPickerCoordinates = _React$useState10[0],\n      setColorPickerCoordinates = _React$useState10[1];\n\n  var handleContextMenu = function handleContextMenu(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setMenuOpen(true);\n    return false;\n  };\n\n  var closeContextMenu = function closeContextMenu() {\n    return setMenuOpen(false);\n  };\n\n  var startDrag = function startDrag(e) {\n    onDragStart();\n  };\n\n  var handleDrag = function handleDrag(_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y;\n\n    if (wrapper.current) {\n      wrapper.current.style.transform = \"translate(\".concat(x, \"px,\").concat(y, \"px)\");\n    }\n  };\n\n  var handleDragEnd = function handleDragEnd(e, _ref3) {\n    var x = _ref3.x,\n        y = _ref3.y;\n    dispatch({\n      type: CommentActionTypes.SET_COMMENT_COORDINATES,\n      id: id,\n      x: x,\n      y: y\n    });\n  };\n\n  var handleResize = function handleResize(coordinates) {\n    var width = clamp_1(coordinates.x - x + 10, 80, 10000);\n    var height = clamp_1(coordinates.y - y + 10, 30, 10000);\n\n    if (wrapper.current) {\n      wrapper.current.style.width = \"\".concat(width, \"px\");\n      wrapper.current.style.height = \"\".concat(height, \"px\");\n    }\n  };\n\n  var handleResizeEnd = function handleResizeEnd(e, coordinates) {\n    var width = clamp_1(coordinates.x - x + 10, 80, 10000);\n    var height = clamp_1(coordinates.y - y + 10, 30, 10000);\n    dispatch({\n      type: CommentActionTypes.SET_COMMENT_DIMENSIONS,\n      id: id,\n      width: width,\n      height: height\n    });\n  };\n\n  var handleMenuOption = function handleMenuOption(option) {\n    switch (option.value) {\n      case \"edit\":\n        startTextEdit();\n        break;\n\n      case \"color\":\n        setColorPickerCoordinates(menuCoordinates);\n        setIsPickingColor(true);\n        console.log(menuCoordinates);\n        break;\n\n      case \"delete\":\n        dispatch({\n          type: CommentActionTypes.DELETE_COMMENT,\n          id: id\n        });\n        break;\n    }\n  };\n\n  var startTextEdit = function startTextEdit() {\n    setIsEditing(true);\n  };\n\n  var endTextEdit = function endTextEdit() {\n    setIsEditing(false);\n  };\n\n  var handleTextChange = function handleTextChange(e) {\n    dispatch({\n      type: CommentActionTypes.SET_COMMENT_TEXT,\n      id: id,\n      text: e.target.value\n    });\n  };\n\n  var handleColorPicked = function handleColorPicked(color) {\n    dispatch({\n      type: CommentActionTypes.SET_COMMENT_COLOR,\n      id: id,\n      color: color\n    });\n  };\n\n  var handleRequestClose = React.useCallback(function () {\n    return setIsPickingColor(false);\n  }, []);\n  React.useEffect(function () {\n    if (isNew) {\n      setIsEditing(true);\n      dispatch({\n        type: CommentActionTypes.REMOVE_COMMENT_NEW,\n        id: id\n      });\n    }\n  }, [isNew, dispatch, id]);\n  return /*#__PURE__*/React.createElement(Draggable, {\n    innerRef: wrapper,\n    className: styles$4.wrapper,\n    style: {\n      transform: \"translate(\".concat(x, \"px,\").concat(y, \"px)\"),\n      width: width,\n      height: height,\n      zIndex: isEditing ? 999 : \"\"\n    },\n    stageState: stageState,\n    stageRect: stageRect,\n    onDragStart: startDrag,\n    onDrag: handleDrag,\n    onDragEnd: handleDragEnd,\n    onContextMenu: handleContextMenu,\n    onDoubleClick: startTextEdit,\n    onWheel: function onWheel(e) {\n      return e.stopPropagation();\n    },\n    \"data-color\": color,\n    \"data-flume-component\": \"comment\"\n  }, isEditing ? /*#__PURE__*/React.createElement(\"textarea\", {\n    \"data-flume-component\": \"comment-textarea\",\n    className: styles$4.textarea,\n    onChange: handleTextChange,\n    onMouseDown: function onMouseDown(e) {\n      return e.stopPropagation();\n    },\n    onBlur: endTextEdit,\n    placeholder: \"Text of the comment...\",\n    autoFocus: true,\n    value: text,\n    ref: textarea\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"comment-text\",\n    \"data-comment\": true,\n    className: styles$4.text\n  }, text), /*#__PURE__*/React.createElement(Draggable, {\n    className: styles$4.resizeThumb,\n    stageState: stageState,\n    stageRect: stageRect,\n    onDrag: handleResize,\n    onDragEnd: handleResizeEnd,\n    \"data-flume-component\": \"comment-resize-handle\"\n  }), menuOpen ? /*#__PURE__*/React.createElement(Portal$1, null, /*#__PURE__*/React.createElement(ContextMenu, {\n    hideFilter: true,\n    label: \"Comment Options\",\n    x: menuCoordinates.x,\n    y: menuCoordinates.y,\n    options: [{\n      value: \"edit\",\n      label: \"Edit Comment\",\n      description: \"Edit the text of the comment\"\n    }, {\n      value: \"color\",\n      label: \"Change Color\",\n      description: \"Change the color of the comment\"\n    }, {\n      value: \"delete\",\n      label: \"Delete Comment\",\n      description: \"Delete the comment\"\n    }],\n    onRequestClose: closeContextMenu,\n    onOptionSelected: handleMenuOption\n  })) : null, isPickingColor ? /*#__PURE__*/React.createElement(Portal$1, null, /*#__PURE__*/React.createElement(ColorPicker, {\n    x: colorPickerCoordinates.x,\n    y: colorPickerCoordinates.y,\n    onRequestClose: handleRequestClose,\n    onColorPicked: handleColorPicked\n  })) : null);\n});\n\nvar css$2 = \".Toaster_toaster__1eC3T{\\n  position: absolute;\\n  left: 0px;\\n  bottom: 0px;\\n  width: 100%;\\n  height: 1px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding-bottom: 15px;\\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\\n  pointer-events: none;\\n}\\n.Toaster_toast__3YHVS{\\n  position: absolute;\\n  left: calc(50% - 200px);\\n  top: 0px;\\n  pointer-events: all;\\n  width: 400px;\\n  padding: 10px;\\n  padding-top: 7px;\\n  padding-right: 16px;\\n  border-radius: 6px;\\n  background: rgba(231, 231, 231, 1);\\n  border: 1px solid;\\n  margin-bottom: 5px;\\n  transition: transform 300ms;\\n  flex: 0 0 auto;\\n  animation: Toaster_fade-in__2526Y 150ms;\\n  user-select: none;\\n  font-size: 14px;\\n  display: flex;\\n  flex-direction: column;\\n  will-change: transform;\\n}\\n.Toaster_toast__3YHVS[data-type=\\\"danger\\\"]{\\n    background: rgb(255, 116, 137);\\n    border-color: rgb(254, 99, 136);\\n    color: rgb(66, 6, 20);\\n  }\\n.Toaster_toast__3YHVS[data-type=\\\"info\\\"]{\\n    background: rgb(76, 193, 250);\\n    border-color: rgb(103, 182, 255);\\n    color: rgb(5, 36, 64);\\n  }\\n.Toaster_toast__3YHVS[data-type=\\\"success\\\"]{\\n    background: rgb(81, 230, 150);\\n    border-color: rgb(85, 227, 150);\\n    color: rgb(7, 57, 30);\\n  }\\n.Toaster_toast__3YHVS[data-type=\\\"warning\\\"]{\\n    background: rgb(245, 208, 93);\\n    border-color: rgb(247, 235, 125);\\n    color: rgb(83, 75, 8);\\n  }\\n.Toaster_toast__3YHVS[data-exiting=true]{\\n    animation: Toaster_fade-out__2lM6E 150ms;\\n    animation-fill-mode: forwards;\\n  }\\n.Toaster_toast__3YHVS p{\\n  margin: 0px;\\n}\\n.Toaster_title__4InNr{\\n  font-size: 16px;\\n  font-weight: bold;\\n  margin-bottom: 5px;\\n}\\n.Toaster_timer__3dGzF{\\n  position: absolute;\\n  bottom: -1px;\\n  left: -1px;\\n  width: calc(100% + 2px);\\n  height: 3px;\\n  background: rgba(0,0,0,.4);\\n  transform-origin: left center;\\n  animation: Toaster_timer__3dGzF 1000ms linear;\\n  animation-fill-mode: forwards;\\n  z-index: 9;\\n}\\n.Toaster_exitButton__1S_Ks{\\n  position: absolute;\\n  right: 0px;\\n  top: 0px;\\n  width: 20px;\\n  height: 20px;\\n  padding: 0px;\\n  background: none;\\n  border: none;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 14px;\\n  color: inherit;\\n  opacity: .6;\\n}\\n.Toaster_exitButton__1S_Ks:hover{\\n  opacity: .9;\\n}\\n\\n@keyframes Toaster_fade-in__2526Y {\\n  from{\\n    opacity: 0;\\n  }\\n  to{\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes Toaster_fade-out__2lM6E {\\n  from{\\n    opacity: 1;\\n  }\\n  to{\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes Toaster_timer__3dGzF {\\n  from{\\n    transform: scaleX(1);\\n  }\\n  to{\\n    transform: scaleX(0);\\n  }\\n}\\n\";\nvar styles$2 = {\"toaster\":\"Toaster_toaster__1eC3T\",\"toast\":\"Toaster_toast__3YHVS\",\"fade-in\":\"Toaster_fade-in__2526Y\",\"fade-out\":\"Toaster_fade-out__2lM6E\",\"title\":\"Toaster_title__4InNr\",\"timer\":\"Toaster_timer__3dGzF\",\"exitButton\":\"Toaster_exitButton__1S_Ks\"};\nstyleInject(css$2);\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Toaster = function Toaster(_ref) {\n  var _ref$toasts = _ref.toasts,\n      toasts = _ref$toasts === void 0 ? [] : _ref$toasts,\n      dispatchToasts = _ref.dispatchToasts;\n  var setHeight = React.useCallback(function (id, height) {\n    dispatchToasts({\n      type: ToastActionTypes.SET_HEIGHT,\n      id: id,\n      height: height\n    });\n  }, [dispatchToasts]);\n  var startExit = React.useCallback(function (id) {\n    dispatchToasts({\n      type: ToastActionTypes.SET_EXITING,\n      id: id\n    });\n  }, [dispatchToasts]);\n  var removeToast = React.useCallback(function (id) {\n    dispatchToasts({\n      type: ToastActionTypes.REMOVE_TOAST,\n      id: id\n    });\n  }, [dispatchToasts]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$2.toaster\n  }, toasts.map(function (toast, i) {\n    return /*#__PURE__*/React.createElement(Toast, _objectSpread$3(_objectSpread$3({}, toast), {}, {\n      onHeightReceived: setHeight,\n      onExitRequested: startExit,\n      onRemoveRequested: removeToast,\n      y: toasts.slice(0, i + 1).reduce(function (y, t) {\n        return t.height + y + 5;\n      }, 0),\n      key: toast.id\n    }));\n  }));\n};\n\nvar Toast = function Toast(_ref2) {\n  var id = _ref2.id,\n      title = _ref2.title,\n      message = _ref2.message,\n      duration = _ref2.duration,\n      type = _ref2.type,\n      exiting = _ref2.exiting,\n      y = _ref2.y,\n      onHeightReceived = _ref2.onHeightReceived,\n      onExitRequested = _ref2.onExitRequested,\n      onRemoveRequested = _ref2.onRemoveRequested;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      paused = _React$useState2[0],\n      setPaused = _React$useState2[1];\n\n  var wrapper = React.useRef(null);\n  var timer = React.useRef();\n  var stopTimer = React.useCallback(function () {\n    setPaused(true);\n\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n  }, []);\n  var resumeTimer = React.useCallback(function () {\n    setPaused(false);\n    timer.current = setTimeout(function () {\n      return onExitRequested(id);\n    }, duration);\n  }, [id, duration, onExitRequested]);\n  React.useLayoutEffect(function () {\n    if (wrapper.current) {\n      var _wrapper$current$getB = wrapper.current.getBoundingClientRect(),\n          height = _wrapper$current$getB.height;\n\n      onHeightReceived(id, height);\n    }\n  }, [onHeightReceived, id]);\n  React.useEffect(function () {\n    resumeTimer();\n    return stopTimer;\n  }, [resumeTimer, stopTimer]);\n\n  var handleAnimationEnd = function handleAnimationEnd() {\n    if (exiting) {\n      onRemoveRequested(id);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-flume-component\": \"toast\",\n    ref: wrapper,\n    className: styles$2.toast,\n    \"data-type\": type,\n    style: {\n      transform: \"translateY(-\".concat(y, \"px)\")\n    },\n    \"data-exiting\": exiting,\n    onAnimationEnd: handleAnimationEnd,\n    onMouseEnter: stopTimer,\n    onMouseLeave: resumeTimer,\n    role: \"alert\"\n  }, title ? /*#__PURE__*/React.createElement(\"span\", {\n    \"data-flume-component\": \"toast-title\",\n    className: styles$2.title\n  }, title) : null, /*#__PURE__*/React.createElement(\"p\", {\n    \"data-flume-component\": \"toast-message\"\n  }, message), !paused && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$2.timer,\n    style: {\n      animationDuration: \"\".concat(duration, \"ms\")\n    },\n    onAnimationEnd: function onAnimationEnd(e) {\n      return e.stopPropagation();\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-flume-component\": \"toast-close\",\n    className: styles$2.exitButton,\n    onClick: function onClick() {\n      stopTimer();\n      onExitRequested(id);\n    }\n  }, \"\\u2715\"));\n};\n\nvar css$1 = \".Connections_svgWrapper__3mXcU{\\n  position: absolute;\\n  left: 0px;\\n  height: 0px;\\n}\\n\";\nvar styles$1 = {\"svgWrapper\":\"Connections_svgWrapper__3mXcU\"};\nstyleInject(css$1);\n\nvar Connections = function Connections(_ref) {\n  var editorId = _ref.editorId;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles$1.svgWrapper,\n    id: \"\".concat(CONNECTIONS_ID).concat(editorId)\n  });\n};\n\nvar FlumeCache = /*#__PURE__*/_createClass(function FlumeCache() {\n  _classCallCheck(this, FlumeCache);\n\n  this.ports = {};\n  this.connections = {};\n});\n\nvar css = \".styles_dragWrapper__1P7RD{\\n  z-index: 9999;\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n}\\n.styles_debugWrapper__2OSbY{\\n  display: flex;\\n  position: absolute;\\n  left: 10px;\\n  bottom: 10px;\\n  gap: 15px;\\n}\\n\";\nvar styles = {\"dragWrapper\":\"styles_dragWrapper__1P7RD\",\"debugWrapper\":\"styles_debugWrapper__2OSbY\"};\nstyleInject(css);\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar defaultContext = {};\nvar NodeEditor = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _useId;\n\n  var initialComments = _ref.comments,\n      initialNodes = _ref.nodes,\n      _ref$nodeTypes = _ref.nodeTypes,\n      nodeTypes = _ref$nodeTypes === void 0 ? {} : _ref$nodeTypes,\n      _ref$portTypes = _ref.portTypes,\n      portTypes = _ref$portTypes === void 0 ? {} : _ref$portTypes,\n      _ref$defaultNodes = _ref.defaultNodes,\n      defaultNodes = _ref$defaultNodes === void 0 ? [] : _ref$defaultNodes,\n      _ref$context = _ref.context,\n      context = _ref$context === void 0 ? defaultContext : _ref$context,\n      onChange = _ref.onChange,\n      onCommentsChange = _ref.onCommentsChange,\n      initialScale = _ref.initialScale,\n      _ref$spaceToPan = _ref.spaceToPan,\n      spaceToPan = _ref$spaceToPan === void 0 ? false : _ref$spaceToPan,\n      _ref$hideComments = _ref.hideComments,\n      hideComments = _ref$hideComments === void 0 ? false : _ref$hideComments,\n      _ref$disableComments = _ref.disableComments,\n      disableComments = _ref$disableComments === void 0 ? false : _ref$disableComments,\n      _ref$disableZoom = _ref.disableZoom,\n      disableZoom = _ref$disableZoom === void 0 ? false : _ref$disableZoom,\n      _ref$disablePan = _ref.disablePan,\n      disablePan = _ref$disablePan === void 0 ? false : _ref$disablePan,\n      circularBehavior = _ref.circularBehavior,\n      renderNodeHeader = _ref.renderNodeHeader,\n      debug = _ref.debug;\n  var editorId = (_useId = useId()) !== null && _useId !== void 0 ? _useId : \"\";\n  var cache = React.useRef(new FlumeCache());\n  var stage = React.useRef();\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sideEffectToasts = _React$useState2[0],\n      setSideEffectToasts = _React$useState2[1];\n\n  var _React$useReducer = React.useReducer(toastsReducer, []),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      toasts = _React$useReducer2[0],\n      dispatchToasts = _React$useReducer2[1];\n\n  var _React$useReducer3 = React.useReducer(connectNodesReducer(nodesReducer, {\n    nodeTypes: nodeTypes,\n    portTypes: portTypes,\n    cache: cache,\n    circularBehavior: circularBehavior,\n    context: context\n  }, setSideEffectToasts), {}, function () {\n    return getInitialNodes(initialNodes, defaultNodes, nodeTypes, portTypes, context);\n  }),\n      _React$useReducer4 = _slicedToArray(_React$useReducer3, 2),\n      nodes = _React$useReducer4[0],\n      dispatchNodes = _React$useReducer4[1];\n\n  var _React$useReducer5 = React.useReducer(commentsReducer, initialComments || {}),\n      _React$useReducer6 = _slicedToArray(_React$useReducer5, 2),\n      comments = _React$useReducer6[0],\n      dispatchComments = _React$useReducer6[1];\n\n  React.useEffect(function () {\n    dispatchNodes({\n      type: NodesActionType.HYDRATE_DEFAULT_NODES\n    });\n  }, []);\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      shouldRecalculateConnections = _React$useState4[0],\n      setShouldRecalculateConnections = _React$useState4[1];\n\n  var _React$useReducer7 = React.useReducer(stageReducer, {\n    scale: typeof initialScale === \"number\" ? clamp_1(initialScale, 0.1, 7) : 1,\n    translate: {\n      x: 0,\n      y: 0\n    }\n  }),\n      _React$useReducer8 = _slicedToArray(_React$useReducer7, 2),\n      stageState = _React$useReducer8[0],\n      dispatchStageState = _React$useReducer8[1];\n\n  var recalculateConnections = React.useCallback(function () {\n    createConnections(nodes, stageState, editorId);\n  }, [nodes, editorId, stageState]);\n  var recalculateStageRect = React.useCallback(function () {\n    var _document$getElementB;\n\n    stage.current = (_document$getElementB = document.getElementById(\"\".concat(STAGE_ID).concat(editorId))) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.getBoundingClientRect();\n  }, [editorId]);\n  React.useLayoutEffect(function () {\n    if (shouldRecalculateConnections) {\n      recalculateConnections();\n      setShouldRecalculateConnections(false);\n    }\n  }, [shouldRecalculateConnections, recalculateConnections]);\n  var triggerRecalculation = React.useCallback(function () {\n    setShouldRecalculateConnections(true);\n  }, []);\n  React.useImperativeHandle(ref, function () {\n    return {\n      getNodes: function getNodes() {\n        return nodes;\n      },\n      getComments: function getComments() {\n        return comments;\n      }\n    };\n  });\n  var previousNodes = usePrevious(nodes);\n  React.useEffect(function () {\n    if (previousNodes && onChange && nodes !== previousNodes) {\n      onChange(nodes);\n    }\n  }, [nodes, previousNodes, onChange]);\n  var previousComments = usePrevious(comments);\n  React.useEffect(function () {\n    if (previousComments && onCommentsChange && comments !== previousComments) {\n      onCommentsChange(comments);\n    }\n  }, [comments, previousComments, onCommentsChange]);\n  React.useEffect(function () {\n    if (sideEffectToasts) {\n      dispatchToasts(sideEffectToasts);\n      setSideEffectToasts(undefined);\n    }\n  }, [sideEffectToasts]);\n  return /*#__PURE__*/React.createElement(PortTypesContext.Provider, {\n    value: portTypes\n  }, /*#__PURE__*/React.createElement(NodeTypesContext.Provider, {\n    value: nodeTypes\n  }, /*#__PURE__*/React.createElement(NodeDispatchContext.Provider, {\n    value: dispatchNodes\n  }, /*#__PURE__*/React.createElement(ConnectionRecalculateContext.Provider, {\n    value: triggerRecalculation\n  }, /*#__PURE__*/React.createElement(ContextContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(StageContext.Provider, {\n    value: stageState\n  }, /*#__PURE__*/React.createElement(CacheContext.Provider, {\n    value: cache\n  }, /*#__PURE__*/React.createElement(EditorIdContext.Provider, {\n    value: editorId\n  }, /*#__PURE__*/React.createElement(RecalculateStageRectContext.Provider, {\n    value: recalculateStageRect\n  }, /*#__PURE__*/React.createElement(Stage, {\n    editorId: editorId,\n    scale: stageState.scale,\n    translate: stageState.translate,\n    spaceToPan: spaceToPan,\n    disablePan: disablePan,\n    disableZoom: disableZoom,\n    dispatchStageState: dispatchStageState,\n    dispatchComments: dispatchComments,\n    disableComments: disableComments || hideComments,\n    stageRef: stage,\n    numNodes: Object.keys(nodes).length,\n    outerStageChildren: /*#__PURE__*/React.createElement(React.Fragment, null, debug && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.debugWrapper\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.debugButton,\n      onClick: function onClick() {\n        return console.log(nodes);\n      }\n    }, \"Log Nodes\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.debugButton,\n      onClick: function onClick() {\n        return console.log(JSON.stringify(nodes));\n      }\n    }, \"Export Nodes\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.debugButton,\n      onClick: function onClick() {\n        return console.log(comments);\n      }\n    }, \"Log Comments\")), /*#__PURE__*/React.createElement(Toaster, {\n      toasts: toasts,\n      dispatchToasts: dispatchToasts\n    }))\n  }, !hideComments && Object.values(comments).map(function (comment) {\n    return /*#__PURE__*/React.createElement(Comment, _objectSpread$2(_objectSpread$2({}, comment), {}, {\n      stageRect: stage,\n      dispatch: dispatchComments,\n      onDragStart: recalculateStageRect,\n      key: comment.id\n    }));\n  }), Object.values(nodes).map(function (node) {\n    return /*#__PURE__*/React.createElement(Node, _objectSpread$2(_objectSpread$2({}, node), {}, {\n      stageRect: stage,\n      onDragStart: recalculateStageRect,\n      renderNodeHeader: renderNodeHeader,\n      key: node.id\n    }));\n  }), /*#__PURE__*/React.createElement(Connections, {\n    editorId: editorId\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dragWrapper,\n    id: \"\".concat(DRAG_CONNECTION_ID).concat(editorId)\n  })))))))))));\n});\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _isNativeReflectConstruct$1() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct$1()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar LoopError = /*#__PURE__*/function (_Error) {\n  _inherits(LoopError, _Error);\n\n  var _super = _createSuper(LoopError);\n\n  function LoopError(message, code) {\n    var _this;\n\n    _classCallCheck(this, LoopError);\n\n    _this = _super.call(this, message);\n    _this.code = code;\n    return _this;\n  }\n\n  return _createClass(LoopError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\n_defineProperty(LoopError, \"maxLoopsExceeded\", 1);\n\nvar RootEngine = /*#__PURE__*/function () {\n  function RootEngine(config, resolveInputControls, fireNodeFunction) {\n    var _this2 = this;\n\n    _classCallCheck(this, RootEngine);\n\n    _defineProperty(this, \"resetLoops\", function (maxLoops) {\n      _this2.maxLoops = maxLoops !== undefined ? maxLoops : 1000;\n      _this2.loops = 0;\n    });\n\n    _defineProperty(this, \"checkLoops\", function () {\n      if (_this2.maxLoops >= 0 && _this2.loops > _this2.maxLoops) {\n        throw new LoopError(\"Max loop count exceeded.\", LoopError.maxLoopsExceeded);\n      } else {\n        _this2.loops++;\n      }\n    });\n\n    _defineProperty(this, \"getRootNode\", function (nodes) {\n      var roots = Object.values(nodes).filter(function (n) {\n        return n.root;\n      });\n\n      if (roots.length > 1) {\n        throw new Error(\"The root engine must not be called with more than one root node.\");\n      }\n\n      return roots[0];\n    });\n\n    _defineProperty(this, \"reduceRootInputs\", function (inputs, callback) {\n      return Object.entries(inputs).reduce(function (obj, _ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            inputName = _ref2[0],\n            connections = _ref2[1];\n\n        var input = callback(inputName, connections);\n        obj[input.name] = input.value;\n        return obj;\n      }, {});\n    });\n\n    _defineProperty(this, \"resolveInputValues\", function (node, nodeType, nodes, context) {\n      var inputs = nodeType.inputs;\n\n      if (typeof inputs === \"function\") {\n        inputs = inputs(node.inputData, node.connections, context);\n      }\n\n      return inputs.reduce(function (obj, input) {\n        var inputConnections = node.connections.inputs[input.name] || [];\n\n        if (inputConnections.length > 0) {\n          obj[input.name] = _this2.getValueOfConnection(inputConnections[0], nodes, context);\n        } else {\n          obj[input.name] = _this2.resolveInputControls(input.type, node.inputData[input.name] || {}, context);\n        }\n\n        return obj;\n      }, {});\n    });\n\n    _defineProperty(this, \"getValueOfConnection\", function (connection, nodes, context) {\n      _this2.checkLoops();\n\n      var outputNode = nodes[connection.nodeId];\n      var outputNodeType = _this2.config.nodeTypes[outputNode.type];\n\n      var inputValues = _this2.resolveInputValues(outputNode, outputNodeType, nodes, context);\n\n      var outputResult = _this2.fireNodeFunction(outputNode, inputValues, outputNodeType, context)[connection.portName];\n\n      return outputResult;\n    });\n\n    this.config = config;\n    this.fireNodeFunction = fireNodeFunction;\n    this.resolveInputControls = resolveInputControls;\n    this.loops = 0;\n    this.maxLoops = 1000;\n  }\n\n  _createClass(RootEngine, [{\n    key: \"resolveRootNode\",\n    value: function resolveRootNode(nodes, rawOptions) {\n      var _this3 = this;\n\n      var options = rawOptions !== null && rawOptions !== void 0 ? rawOptions : {};\n      var rootNode = options.rootNodeId ? nodes[options.rootNodeId] : this.getRootNode(nodes);\n\n      if (rootNode) {\n        var inputs = this.config.nodeTypes[rootNode.type].inputs;\n\n        if (typeof inputs === \"function\") {\n          inputs = inputs(rootNode.inputData, rootNode.connections, options.context);\n        }\n\n        var controlValues = inputs.reduce(function (obj, input) {\n          obj[input.name] = _this3.resolveInputControls(input.type, rootNode.inputData[input.name] || {}, options.context);\n          return obj;\n        }, {});\n        var inputValues = this.reduceRootInputs(rootNode.connections.inputs, function (inputName, connections) {\n          _this3.resetLoops(options.maxLoops);\n\n          var value;\n\n          try {\n            value = _this3.getValueOfConnection(connections[0], nodes, options.context);\n          } catch (e) {\n            var err = e;\n\n            if (err.code === LoopError.maxLoopsExceeded) {\n              console.error(\"\".concat(err.message, \" Circular nodes detected in \").concat(inputName, \" port.\"));\n            } else {\n              console.error(e);\n            }\n          } finally {\n            return {\n              name: inputName,\n              value: value\n            };\n          }\n        });\n\n        if (options.onlyResolveConnected) {\n          return inputValues;\n        } else {\n          return _objectSpread$1(_objectSpread$1({}, controlValues), inputValues);\n        }\n      } else {\n        console.error(\"A root node was not found. The Root Engine requires that exactly one node be marked as the root node.\");\n        return {};\n      }\n    }\n  }]);\n\n  return RootEngine;\n}();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar useRootEngine = function useRootEngine(nodes, engine, context, options) {\n  return Object.keys(nodes).length ? engine.resolveRootNode(nodes, _objectSpread(_objectSpread({}, options), {}, {\n    context: context\n  })) : {};\n};\n\nexport { Colors, Controls, FlumeConfig, NodeEditor, RootEngine, useRootEngine };\n//# sourceMappingURL=index.es.js.map\n","import { Colors, Controls } from 'flume'\r\n\r\nconst generateControl = (itype) => {\r\n    return (props) => {\r\n        const {name, label, others} = props\r\n        return Controls.custom(\r\n            {\r\n                name: name,\r\n                label: label,\r\n                render: (data, onChange, context, redraw, portProps, inputData) => {\r\n                    return (\r\n                        <>\r\n                            <label data-flume-component=\"control-label\" className=\"Control_controlLabel__3ga2-\">{portProps.label}</label>\r\n                            <div className=\"TextInput_wrapper__tefOZ\" data-flume-component=\"text-input\">\r\n                                <input type={itype} data-flume-component={`text-input-$(itype)`} className=\"TextInput_input__1QHwS\" defaultValue={data} onChange={(e) => onChange(e.target.value)} {...others} />\r\n                            </div>\r\n                        </>\r\n                    )\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst objectControl = (props) => {\r\n    return Controls.custom(\r\n        {\r\n            name: props.name,\r\n            label: props.label,\r\n            render: (data, onChange, context, redraw, portProps, inputData) => {\r\n                return (\r\n                    <label data-flume-component=\"control-label\" className=\"Control_controlLabel__3ga2-\">{portProps.label}</label>\r\n                )\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nconst standardControls = {\r\n    number: Controls.number,\r\n    int: Controls.number,\r\n    float: Controls.number,\r\n    text: Controls.text,\r\n    str: Controls.text,\r\n    checkbox: Controls.checkbox,\r\n    bool: Controls.checkbox,\r\n    select: Controls.select,\r\n    multiselect: Controls.multiselect,\r\n    color: generateControl(\"color\"),\r\n    date: generateControl(\"date\"),\r\n    time: generateControl(\"time\"),\r\n    month: generateControl(\"month\"),\r\n    week: generateControl(\"week\"),\r\n    slider: generateControl(\"range\"),\r\n}\r\n\r\n/**\r\n * standardControls: Extra controls for Flume ports\r\n * standardControls are created to add to the regular controls exposed by flume\r\n * that can be added to a port. The plan is to add more and more controls here.\r\n */\r\nexport { standardControls }","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./nodeeditor.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./nodeeditor.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { Component } from 'react';\r\nimport * as R from 'ramda'\r\nimport { NodeEditor } from 'flume';\r\nimport { FlumeConfig, Colors, Controls } from 'flume'\r\nimport PropTypes, { string } from 'prop-types';\r\nimport { standardControls } from '../utils/Controls';\r\nimport \"./nodeeditor.css\"\r\n\r\n/**\r\n * Flowfunc: A node editor for dash\r\n * This component gives a flow based programming interface for dash users.\r\n * The developer can define the nodes using simple python functions and these\r\n * will be available as nodes which can be connected together to create a logic\r\n * at runtime.\r\n */\r\nexport default class Flowfunc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.nodeEditor = React.createRef();\r\n    this.container = React.createRef();\r\n    this.ukey = (new Date()).toISOString();\r\n    this.localSelectedNodes = new Set();\r\n    this.updateConfig();\r\n  }\r\n\r\n  updateConfig = () => {\r\n    // Function to convert the python based config data to a FlumeConfig object\r\n    const config = this.props.config;\r\n    this.flconfig = new FlumeConfig();\r\n    // Adding all standard ports first\r\n    for (const port of config.portTypes) {\r\n      const { color, controls, ...port_obj } = port;\r\n      if (!R.isNil(color) && !R.isEmpty(color)) {\r\n        port_obj.color = Colors[color];\r\n      }\r\n      if (!R.isNil(controls) && !R.isEmpty(controls)) {\r\n        port_obj.controls = controls.map(control => {\r\n          const { type, ...others } = control;\r\n          return standardControls[type]({\r\n            ...others\r\n          })\r\n        })\r\n      }\r\n      else {\r\n        port_obj.controls = [\r\n          Controls.custom({\r\n            name: port_obj.type,\r\n            label: port_obj.label,\r\n            defaultValue: null,\r\n            render: (data, onChange, context, redraw, portProps, inputData) => {\r\n              return <label data-flume-component=\"port-label\" className=\"IoPorts_portLabel__qOE7y\"> {portProps.inputLabel}</label>;\r\n            }\r\n          })\r\n        ];\r\n      }\r\n      try {\r\n        //The standard ports are already added and hence will cause an error here\r\n        this.flconfig.addPortType(port_obj);\r\n      } catch (e) {\r\n      }\r\n    }\r\n    for (const node of config.nodeTypes) {\r\n      const { inputs, outputs, label, category, ...node_obj } = node;\r\n      if (!R.isNil(inputs) && !R.isEmpty(inputs)) {\r\n        if (R.hasIn(\"source\", inputs)) {\r\n          var func = new Function(inputs.source);\r\n          node_obj.inputs = ports => (inputData, connections, context) => {\r\n            return func(ports, inputData, connections, context)\r\n          }\r\n        }\r\n        else if (R.hasIn(\"path\", inputs)) {\r\n          try{\r\n            node_obj.inputs = ports => (inputData, connections, context) => {\r\n              var func = window.dash_clientside.flowfunc[inputs.path];\r\n              return func(ports, inputData, connections, context)\r\n            }\r\n          }\r\n          catch (e){\r\n            console.log(\"Error in evaluating function from path\", e);\r\n          }\r\n        }\r\n        else {\r\n          node_obj.inputs = (ports) => inputs.map(input => {\r\n            const { type, controls, ...input_data } = input;\r\n            // console.log(input, type, controls, input_data);\r\n            return ports[type](input_data);\r\n          })\r\n        }\r\n      }\r\n      if (!R.isNil(outputs) && !R.isEmpty(outputs)) {\r\n        node_obj.outputs = (ports) => outputs.map(output => {\r\n          const { type, controls, ...output_data } = output;\r\n          return ports[type](output_data);\r\n        })\r\n      }\r\n      if (!R.isNil(category) && !R.isEmpty(category)) {\r\n        node_obj.label = `${category}: ${label}`;\r\n      } else {\r\n        node_obj.label = label;\r\n      }\r\n      this.flconfig.addNodeType(node_obj);\r\n    }\r\n    // console.log(this.flconfig);\r\n    if (!this.props.type_safety) {\r\n      // Use acceptTypes from the object port\r\n      const allPortTypes = this.flconfig.portTypes.object.acceptTypes;\r\n      for (const [type, obj] of Object.entries(this.flconfig.portTypes)) {\r\n        obj.acceptTypes = allPortTypes;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange = () => {\r\n    // Dash function which will raise the nodes properties\r\n    this.props.setProps({\r\n      editor_status: \"client\",\r\n      nodes: this.nodeEditor.current.getNodes(),\r\n      comments: this.nodeEditor.current.getComments(),\r\n    })\r\n    // console.log(this.props.comments);\r\n    // console.log(this.props.nodes);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.addEventListners(); // Adding on click event listners to nodes\r\n    // console.log(\"Adding listeners\")\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.config !== prevProps.config) {\r\n      this.updateConfig();\r\n    }\r\n    if (this.props.editor_status === \"server\") {\r\n      // console.log(\"Pushing new nodes\", this.props.nodes)\r\n      this.ukey = (Math.random() + 1).toString(36).substring(7);\r\n    }\r\n    this.setNodesStatus();\r\n  }\r\n\r\n  setNodeStatus = (id, status) => {\r\n    const nodeDiv = this.container.current.querySelector('[data-node-id=\"' + id + '\"]');\r\n    if (status) {\r\n      // Removing any existing classes\r\n      const classes = [\"started\", \"queued\", \"deferred\", \"finished\", \"canceled\", \"stopped\", \"scheduled\", \"failed\"];\r\n      nodeDiv.classList.remove(...classes);\r\n      nodeDiv.classList.add(status); // Status itself is added as the class\r\n    }\r\n  }\r\n\r\n  setNodesStatus = () => {\r\n    if (R.isNil(this.props.nodes_status) | R.isEmpty(this.props.nodes_status)) {\r\n      return\r\n    }\r\n    for (const [id, node] of Object.entries(this.props.nodes_status)) {\r\n      try {\r\n        this.setNodeStatus(id, node);\r\n      } catch (error) {\r\n        // console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  addEventListners = () => {\r\n    const comp = this;\r\n    const stage = this.container.current\r\n    var containerEventListenerAdded = stage.getAttribute(\"data-event-click\");\r\n    if (containerEventListenerAdded !== \"true\") {\r\n      stage.addEventListener('click', function (e) {\r\n        // console.log(\"Clicked\", e);\r\n        if (!e.ctrlKey) {\r\n          comp.localSelectedNodes = new Set();\r\n          for (const [id, node] of Object.entries(comp.props.nodes)) {\r\n            try {\r\n              const nodeDiv = stage.querySelector('[data-node-id = \"' + id + '\"]');\r\n              nodeDiv.classList.remove(\"active\")\r\n            } catch (error) {\r\n              // console.log(\"error\", error, node);\r\n            }\r\n          }\r\n        }\r\n        const nodeDiv = e.target.closest('[class^=Node_wrapper]')\r\n        if (nodeDiv) {\r\n          var nodeId = nodeDiv.getAttribute('data-node-id');\r\n          comp.localSelectedNodes.add(nodeId);\r\n          nodeDiv.classList.add(\"active\")\r\n        }\r\n        comp.props.setProps({ selected_nodes: [...comp.localSelectedNodes] });\r\n      })\r\n      stage.addEventListener('dblclick', function (e) {\r\n        const nodeDiv = e.target.closest('[class^=Node_wrapper]')\r\n        if (nodeDiv) {\r\n          var nodeId = nodeDiv.getAttribute('data-node-id');\r\n          comp.props.setProps({ double_clicked_node: nodeId });\r\n        }\r\n      })\r\n      stage.setAttribute(\"data-event-click\", \"true\");\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    // this.nodeEditor.current.setNodes(this.props.nodes);\r\n    const output = (\r\n      <div id={this.props.id} style={{ height: \"100%\", zIndex: -1 }} ref={this.container}>\r\n        <NodeEditor\r\n          ref={this.nodeEditor}\r\n          portTypes={this.flconfig.portTypes}\r\n          nodeTypes={this.flconfig.nodeTypes}\r\n          nodes={this.props.nodes}\r\n          defaultNodes={this.props.default_nodes}\r\n          context={this.props.context}\r\n          initialScale={this.props.initial_scale}\r\n          disableZoom={this.props.disable_zoom}\r\n          disablePan={this.props.disable_pan}\r\n          spaceToPan={this.props.space_to_pan}\r\n          onChange={this.handleChange}\r\n          onCommentsChange={this.handleChange}\r\n          key={this.ukey}\r\n        />\r\n      </div>\r\n    );\r\n    return output;\r\n  }\r\n}\r\n\r\nFlowfunc.defaultProps = {};\r\n\r\nFlowfunc.propTypes = {\r\n  /**\r\n   * The ID used to identify this component in Dash callbacks.\r\n   */\r\n  id: PropTypes.string,\r\n\r\n  /**\r\n   * The style of the container div\r\n   */\r\n  style: PropTypes.object,\r\n\r\n  /**\r\n   * The nodes of the node editor\r\n   */\r\n  nodes: PropTypes.object,\r\n\r\n  /**\r\n   * The status of each node on the editor\r\n   */\r\n  nodes_status: PropTypes.object,\r\n\r\n  /**\r\n   * A property denoting the status of the editor\r\n   * Following statuses are possible.\r\n   * [\"client\", \"server\"]\r\n   */\r\n  editor_status: PropTypes.string,\r\n\r\n  /**\r\n   * The nodes of the node editor\r\n   */\r\n  selected_nodes: PropTypes.array,\r\n  /**\r\n   * Node on which a double click event was registered\r\n   */\r\n  double_clicked_node: PropTypes.string,\r\n\r\n  /**\r\n   * Comments in the node editor\r\n   */\r\n  comments: PropTypes.object,\r\n  /**\r\n   * If any port can connect to any other port\r\n   */\r\n  type_safety: PropTypes.bool,\r\n\r\n  /**\r\n   * Default nodes present in the editor\r\n   * A list of nodes from the config\r\n   */\r\n  default_nodes: PropTypes.array,\r\n\r\n  /**\r\n   * Pass extra data to nodes\r\n   */\r\n  context: PropTypes.object,\r\n\r\n  /**\r\n   * Initial zoom level of the editor\r\n   */\r\n  initial_scale: PropTypes.number,\r\n\r\n  /**\r\n   * Disable zoom option\r\n   */\r\n  disable_zoom: PropTypes.bool,\r\n\r\n  /**\r\n   * Disable zoom option\r\n   */\r\n  disable_pan: PropTypes.bool,\r\n\r\n  /**\r\n   * Disable zoom option\r\n   */\r\n  space_to_pan: PropTypes.bool,\r\n\r\n\r\n  /**\r\n   * The available port types and node types\r\n   */\r\n  config: PropTypes.object,\r\n\r\n  /**\r\n   * Dash-assigned callback that should be called to report property changes\r\n   * to Dash, to make them available for callbacks.\r\n   */\r\n  setProps: PropTypes.func\r\n};\r\n"],"names":["module","exports","styleElement","nonce","setAttribute","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","push","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","cssWithMappingToString","toString","this","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","element","createElement","setAttributes","attributes","insert","___CSS_LOADER_EXPORT___","memo","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","insertStyleElement","styleTagTransform","apply","parentNode","removeStyleElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","url","getCurrentScript","script","currentScript","doc_scripts","getElementsByTagName","scripts","filter","s","async","text","textContent","slice","src","split","jsonpScriptSrc","__jsonpScriptSrc__","chunkId","isLocal","test","isLocalScript","srcFragments","fileFragments","nc","Array","isArray","val","_isPlaceholder","fn","f1","arguments","f2","b","_b","_a","x","iterator","_isArguments","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","hasArgsEnumBug","contains","idx","keys","nIdx","ks","checkArgsLength","Number","isInteger","_arrayFromIterator","iter","next","done","pred","len","is","_uniqContentEquals","aIterator","bIterator","stackA","stackB","eq","_equals","aItem","f","match","typeA","equals","constructor","String","valueOf","name","message","source","global","ignoreCase","multiline","sticky","unicode","size","entries","values","keysA","extendedStackA","extendedStackB","pad","Date","toISOString","empty","type","_isTypedArray","from","assign","isEmpty","ws","trim","_defineProperty","configurable","writable","_arrayLikeToArray$1","arr","arr2","_unsupportedIterableToArray$1","minLen","_slicedToArray","_arrayWithHoles","_s","_e","_arr","_n","_d","err","_iterableToArrayLimit","TypeError","_nonIterableRest","commonjsGlobal","self","useIsomorphicLayoutEffect","canUseDOM$1","serverHandoffComplete","genId","styleInject","ref","insertAt","insertBefore","styles$d","canUseDOM","_createClass$2","defineProperties","props","descriptor","Constructor","protoProps","staticProps","Portal$3","_React$Component","Portal","instance","_classCallCheck$2","ReferenceError","_possibleConstructorReturn$2","__proto__","getPrototypeOf","subClass","superClass","create","setPrototypeOf","_inherits$2","defaultNode","body","node","children","propTypes","isRequired","Portalv4","_createClass$1","Portal$2","_classCallCheck$1","_possibleConstructorReturn$1","_inherits$1","renderPortal","portal","LegacyPortal","Portal$1","styles$c","_baseClamp","number","lower","upper","reWhitespace","trimmedEndIndex","string","charAt","reTrimStart","_baseTrim","replace","isObject_1","_freeGlobal","freeGlobal","freeSelf","_root","_Symbol","Symbol$4","objectProto$b","hasOwnProperty$8","nativeObjectToString$1","symToStringTag$1","_getRawTag","isOwn","tag","unmasked","nativeObjectToString","getRawTag","objectToString","symToStringTag","_baseGetTag","isObjectLike_1","baseGetTag$4","isObjectLike$4","isSymbol_1","baseTrim","isObject$3","isSymbol$4","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","baseClamp","toNumber","other","isBinary","clamp_1","nanoid","Math","random","ContextMenu","_ref","y","_ref$options","onRequestClose","onOptionSelected","label","hideHeader","hideFilter","emptyText","menuWrapper","menuOptionsWrapper","filterInput","_React$useState2","setFilter","_React$useState4","menuWidth","setMenuWidth","_React$useState6","selectedIndex","setSelectedIndex","menuId","handleOptionSelected","option","testClickOutside","current","removeEventListener","capture","testEscape","keyCode","_menuWrapper$current$","_menuWrapper$current","_menuWrapper$current$2","focus","getBoundingClientRect","width","addEventListener","filteredOptions","lowerFilter","toLowerCase","opt","includes","_menuWrapper$current2","menuOption","getElementById","_menuOptionsWrapper$c","menuRect","optionRect","height","scrollIntoView","block","className","onMouseDown","stopPropagation","onKeyDown","which","preventDefault","left","top","tabIndex","role","placeholder","onChange","autoFocus","maxHeight","innerHeight","ContextOption","selected","onClick","onMouseEnter","description","_ref2","NodeTypesContext","PortTypesContext","NodeDispatchContext","ConnectionRecalculateContext","ContextContext","StageContext","CacheContext","RecalculateStageRectContext","EditorIdContext","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","_excluded$3","ownKeys$d","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","Draggable","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","_onMouseDown","_onTouchStart","onTouchStart","disabled","_ref$delay","delay","innerRef","rest","startCoordinates","offset","wrapper","byScale","scale","getScaledCoordinates","_offset$current$x","_offset$current","_offset$current$y","_offset$current2","_stageRect$current$le","_stageRect$current","_stageRect$current$wi","_stageRect$current2","_stageRect$current$to","_stageRect$current3","_stageRect$current$he","_stageRect$current4","offsetX","offsetY","clientX","translate","clientY","updateCoordinates","coordinates","stopDrag","checkDragDelay","touches","touch","mouse","abs","round","sqrt","pow","nodeRect","startDrag","endDragDelay","startDragDelay","forEach","getOwnPropertyDescriptors","_objectSpread$d","_arrayMap","array","iteratee","isArray_1","isArray$9","isSymbol$3","reIsDeepProp","reIsPlainProp","_isKey","baseGetTag$3","isObject$2","uid","isFunction_1","coreJsData","maskSrcKey","exec","IE_PROTO","_isMasked","func","funcToString$1","_toSource","isFunction$1","isMasked","isObject$1","toSource$1","reIsHostCtor","funcProto","objectProto$9","funcToString","hasOwnProperty$7","reIsNative","RegExp","baseIsNative","getValue","_getNative","_nativeCreate","nativeCreate$3","_hashClear","__data__","_hashDelete","has","nativeCreate$2","hasOwnProperty$6","_hashGet","nativeCreate$1","hasOwnProperty$5","nativeCreate","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash$1","clear","entry","set","_Hash","_listCacheClear","eq_1","eq$1","_assocIndexOf","assocIndexOf$3","assocIndexOf$2","assocIndexOf$1","assocIndexOf","listCacheClear","listCacheDelete","pop","listCacheGet","listCacheHas","listCacheSet","ListCache$4","_ListCache","_Map","Hash","ListCache$3","Map$3","_isKeyable","isKeyable","_getMapData","getMapData$3","getMapData$2","getMapData$1","getMapData","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache$3","_MapCache","MapCache$2","memoize$1","resolver","memoized","args","cache","Cache","memoize","rePropName","reEscapeChar","_stringToPath","memoizeCapped","charCodeAt","quote","subString","arrayMap$1","isArray$8","isSymbol$2","symbolProto$1","symbolToString","_baseToString","baseToString$1","baseToString","isArray$7","isKey$2","stringToPath","_castPath","isSymbol$1","_toKey","castPath$1","toKey$3","_baseGet","path","ListCache$2","ListCache$1","Map$2","MapCache$1","ListCache","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","LARGE_ARRAY_SIZE","Stack$2","_Stack","MapCache","setCacheAdd","setCacheHas","SetCache$1","add","SetCache","arraySome","predicate","cacheHas","_equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","equalArrays$1","mapToArray","setToArray","symbolProto","symbolValueOf","_equalByTag","byteLength","byteOffset","buffer","convert","stacked","arrayPush","isArray$6","_baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","resIndex","stubArray","propertyIsEnumerable$1","nativeGetSymbols","_getSymbols","symbol","_baseTimes","baseGetTag$2","isObjectLike$3","baseIsArguments","isObjectLike$2","objectProto$5","hasOwnProperty$4","isArguments_1","isBuffer$2","stubFalse_1","root","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","reIsUint","_isIndex","isLength_1","baseGetTag$1","isLength$2","isObjectLike$1","typedArrayTags","_baseIsTypedArray","_baseUnary","_nodeUtil","freeProcess","process","nodeUtil","types","require","binding","baseIsTypedArray","baseUnary$1","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseTimes","isArguments$1","isArray$5","isBuffer$1","isIndex$1","isTypedArray$1","hasOwnProperty$3","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","objectProto$3","_isPrototype","Ctor","nativeKeys$1","transform","arg","overArg","isPrototype","nativeKeys","hasOwnProperty$2","isFunction","isLength$1","isArrayLike_1","arrayLikeKeys","baseKeys","isArrayLike$2","keys_1","baseGetAllKeys","getSymbols","keys$2","getAllKeys","hasOwnProperty$1","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","DataView","Map$1","Promise$1","WeakMap","baseGetTag","toSource","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag$1","ArrayBuffer","resolve","ctorString","Stack$1","equalArrays","equalByTag","equalObjects","getTag","isArray$4","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","isObjectLike","_baseIsEqual","baseIsEqual$2","Stack","baseIsEqual$1","isObject","_isStrictComparable","isStrictComparable$1","keys$1","_matchesStrictComparable","srcValue","baseIsMatch","matchData","noCustomizer","COMPARE_PARTIAL_FLAG$1","getMatchData","matchesStrictComparable$1","baseGet$2","castPath","isArguments","isArray$3","isIndex","isLength","toKey$2","baseHasIn","hasPath","hasFunc","baseIsEqual","defaultValue","isKey$1","isStrictComparable","matchesStrictComparable","toKey$1","identity_1","baseGet$1","baseProperty","basePropertyDeep","isKey","toKey","baseMatches","baseMatchesProperty","COMPARE_PARTIAL_FLAG","identity$1","isArray$2","property","_baseIteratee","_createBaseFor","fromRight","iterable","baseFor","isArrayLike$1","baseEach","eachFunc","collection","createBaseEach","isArrayLike","isSymbol","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","arrayMap","baseGet","baseIteratee","baseMap","baseSortBy","comparer","sort","baseUnary","compareMultiple","orders","objCriteria","criteria","othCriteria","ordersLength","isArray$1","baseOrderBy","iteratees","orderBy_1","guard","STAGE_ID","DRAG_CONNECTION_ID","CONNECTIONS_ID","_typeof","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","styles$b","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","constant","Linear","context","_context","curveLinear","p","point","that","bezierCurveTo","Basis","curveBasis","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","ToastActionTypes","getPort","nodeId","portName","transputType","getPortRect","calculatedTransputType","portCacheName","cachedPort","ports","port","_port","calculateCurve","to","_line$curve","thirdLength","curve","x$1","y$1","defined","output","line","defined0","deleteConnection","_ref3","_line$parentElement","parentElement","createConnections","nodes","_ref6","editorId","stageRef","getStageRef","stage","stageHalfWidth","stageHalfHeight","connections","inputs","_ref7","_ref8","inputName","fromPort","toPort","portHalf","existingLine","_ref4","updateConnection","_ref5","outputNodeId","outputPortName","inputNodeId","inputPortName","svg","createElementNS","createSVG","ownKeys$c","_objectSpread$c","toastsReducer","toasts","action","ADD_TOAST","title","toastType","duration","exiting","SET_HEIGHT","findIndex","t","SET_EXITING","REMOVE_TOAST","_index2","_excluded$2","_toPropertyKey$2","input","hint","prim","toPrimitive","res","_toPrimitive$2","ownKeys$b","_objectSpread$b","NodesActionType","removeConnection","_objectSpread6","inputNode","_inputNode$connection","_input$portName","newInputNodeConnectionsInputs","newInputNode","outputNode","filteredOutputNodes","outputs","cnx","newOutputNode","getFilteredTransputs","transputs","reduce","newTransputs","removeConnections","removeNode","startNodes","_lines","querySelectorAll","_line$parentElement2","deleteConnectionsByNodeId","getInitialNodes","initialNodes","defaultNodes","nodeTypes","portTypes","reconciledNodes","nodesToDelete","nodesReducer","REMOVE_NODE","nodesObj","defaultInputData","getDefaultData","currentInputData","inputData","dataObj","newInputData","newNode","reconcileNodes","dNode","find","ADD_NODE","inputType","controls","obj2","control","CommentActionTypes","dispatchToasts","circularBehavior","ADD_CONNECTION","allowCircular","newNodes","_objectSpread4","addConnection","isCircular","startNodeId","walk","outputConnections","connectedTo","checkForCircularNodes","REMOVE_CONNECTION","_cache$current","_input","_output","DESTROY_TRANSPUT","_cache$current2","transput","portId","cnxType","_cache$current3","_id","newNodeId","initialWidth","HYDRATE_DEFAULT_NODES","_newNodes","_newNodeId","_newNodes$key","SET_PORT_DATA","_nodeId","controlName","setValue","newData","SET_NODE_COORDINATES","_x","_y","_nodeId2","_excluded$1","_toPropertyKey$1","_toPrimitive$1","ownKeys$a","_objectSpread$a","StageActionType","setComment","comments","merge","commentsReducer","ADD_COMMENT","_comment","color","isNew","REMOVE_COMMENT_NEW","_comments$action$id","comment","SET_COMMENT_COORDINATES","SET_COMMENT_DIMENSIONS","SET_COMMENT_TEXT","SET_COMMENT_COLOR","DELETE_COMMENT","_action$id","ownKeys$9","_objectSpread$9","stageReducer","state","incomingAction","SET_SCALE","SET_TRANSLATE","SET_TRANSLATE_SCALE","Stage","dispatchStageState","outerStageChildren","numNodes","spaceToPan","dispatchComments","disableComments","disablePan","disableZoom","dispatchNodes","translateWrapper","menuOpen","setMenuOpen","menuCoordinates","setMenuCoordinates","dragData","spaceIsPressed","setSpaceIsPressed","setStageRect","handleWheel","_wrapper$current","wheelTarget","nodeName","dataset","clientHeight","scrollHeight","wrapperRect","currentScale","currentTranslate","delta","deltaY","newScale","byOldScale","no","byNewScale","xOld","yOld","xDistance","yDistance","handleDocumentKeyUp","stageWrapper","menuOptions","addable","sortIndex","internalType","onContextMenu","_wrapper$current4","_wrapper$current5","activeElement","preventScroll","_wrapper$current2","event","coords","xDelta","yDelta","backgroundPosition","tran","cursor","_wrapper$current3","styles$a","styles$9","styles$8","styles$7","Checkbox","_onChange","checked","htmlFor","styles$6","TextInput","updateNodeConnections","step","numberInput","recalculateStageRect","handleDragEnd","handleMouseMove","handlePossibleResize","inputValue","parseFloat","isNaN","onBlur","styles$5","ownKeys$8","_objectSpread$8","Select","_ref$placeholder","_ref$allowMultiple","allowMultiple","drawerOpen","setDrawerOpen","drawerCoordinates","setDrawerCoordinates","openDrawer","selectedOption","optLabel","OptionChip","onRequestDelete","optionIndex","SelectedOption","wrapperRef","_ref2$option","ownKeys$7","_objectSpread$7","Control","inputLabel","allData","triggerRecalculation","isMonoControl","nodesDispatch","executionContext","calculatedLabel","commonProps","getOptions","_placeholder","_placeholder2","_options","_getOptions","_placeholder3","_render","render","getControlByType","Connection","lineRef","stroke","fill","strokeWidth","strokeLinecap","usePrevious","ownKeys$6","_objectSpread$6","_createForOfIteratorHelper","allowArrayLike","it","_arrayLikeToArray","_unsupportedIterableToArray","F","normalCompletion","didErr","_e2","useTransputs","transputsFn","prevTransputs","_step","_iterator","_loop","IoPorts","_ref2$inputs","_ref2$outputs","inputTypes","resolvedInputs","resolvedOutputs","Input","isConnected","Output","localControls","noControls","hidePort","defaultLabel","_ref4$controls","defaultControls","prevConnected","Port","isInput","_ref7$color","_ref7$name","stageId","isDragging","setIsDragging","dragStartCoordinates","setDragStartCoordinates","dragStartCoordinatesCache","lineInToPort","_stageState$scale","handleDrag","_document$getElementB","_document$getElementB2","_stageState$translate","_stageState$translate2","_stageState$translate3","_stageState$translate4","_lineInToPort$current","_stageState$translate5","_stageState$translate6","_stageState$translate7","_stageState$translate8","_line$current","_to","droppedOnPort","_lineInToPort$current2","_lineInToPort$current3","_ref9","_ref9$inputNodeId","_ref9$inputPortName","_ref9$outputNodeId","_ref9$outputPortName","_e$target$dataset","connectToPortName","connectToNodeId","connectToPortType","portType","connectToTransputType","portTransputType","acceptTypes","_e$target$dataset2","_inputPortName","_inputNodeId","inputNodeType","inputTransputType","zIndex","_port$current","_document$getElementB3","_ref10","_ref10$x","startPortX","_ref10$y","startPortY","_ref10$width","startPortWidth","_ref11","_ref11$x","stageX","_ref11$y","stageY","_ref11$width","stageWidth","_ref11$height","stageHeight","_ref12","_ref12$x","outputPortX","_ref12$y","outputPortY","_ref12$width","outputPortWidth","_coordinates","_excluded","ownKeys$5","_objectSpread$5","Node","_React$useContext","_React$useContext2","_React$useContext3","renderNodeHeader","currentNodeType","deletable","_currentNodeType$inpu","_currentNodeType$outp","nodeWrapper","updateConnectionsByTransput","isOutput","_fromRect$width","_toRect$x","_stageRect$current$x","_toRect$y","_stageRect$current$y","_fromRect$x","_stageRect$current$x2","_stageRect$current5","_stageRect$current$wi2","_stageRect$current6","_fromRect$y","_stageRect$current$y2","_stageRect$current7","_stageRect$current$he2","_stageRect$current8","_cnx","combined","toRect","fromRect","cachedConnection","handleContextMenu","closeContextMenu","deleteNode","NodeHeader","openMenu","closeMenu","_ref6$className","styles$4","styles$3","_classCallCheck","_defineProperties","_createClass","_toPropertyKey","_toPrimitive","ownKeys$4","_objectSpread$4","buildDefaultConfig","defaultConfig","config","_config$label","_config$name","_config$defaultValue","select","_config$options","checkbox","multiselect","_config$options2","custom","_config$render","Colors","yellow","orange","red","pink","purple","blue","green","grey","getPortBuilders","FlumeConfig","addNodeType","_this$nodeTypes","console","error","_ref3$skipDynamicNode","skipDynamicNodesCheck","warn","affectedNodes","_this$portTypes","ColorPicker","onColorPicked","log","setTimeout","colorString","ColorButton","onSelected","Comment","dispatch","textarea","isEditing","setIsEditing","isPickingColor","setIsPickingColor","_React$useState8","_React$useState10","colorPickerCoordinates","setColorPickerCoordinates","startTextEdit","handleRequestClose","onDoubleClick","onWheel","styles$2","ownKeys$3","_objectSpread$3","Toaster","_ref$toasts","setHeight","startExit","removeToast","toast","Toast","onHeightReceived","onExitRequested","onRemoveRequested","paused","setPaused","timer","stopTimer","clearTimeout","resumeTimer","onAnimationEnd","onMouseLeave","animationDuration","styles$1","Connections","FlumeCache","styles","ownKeys$2","_objectSpread$2","defaultContext","NodeEditor","_useId","initialComments","_ref$nodeTypes","_ref$portTypes","_ref$defaultNodes","_ref$context","onCommentsChange","initialScale","_ref$spaceToPan","_ref$hideComments","hideComments","_ref$disableComments","_ref$disableZoom","_ref$disablePan","debug","idFromProps","initialId","_useState","useState","setId","useEffect","useId","sideEffectToasts","setSideEffectToasts","_React$useReducer2","_React$useReducer3","reducer","environment","connectNodesReducer","_React$useReducer4","_React$useReducer6","shouldRecalculateConnections","setShouldRecalculateConnections","_React$useReducer8","recalculateConnections","getNodes","getComments","previousNodes","previousComments","Provider","debugWrapper","debugButton","dragWrapper","_setPrototypeOf","_possibleConstructorReturn","_assertThisInitialized","_getPrototypeOf","_construct","Parent","Class","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct$1","bind","_wrapNativeSuper","_cache","Map","Wrapper","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","LoopError","_Error","_inherits","_super","code","_this","generateControl","itype","others","Controls","redraw","portProps","React","Fragment","_extends","standardControls","int","float","str","bool","date","time","month","week","slider","locals","Flowfunc","_Component","_callSuper","flconfig","port_obj","R","_excluded2","_objectSpread","addPortType","_step2","_iterator2","category","node_obj","_excluded3","dash_clientside","flowfunc","input_data","_excluded4","output_data","_excluded5","type_safety","allPortTypes","_Object$entries","_Object$entries$_i","setProps","editor_status","nodeEditor","status","nodeDiv","container","_nodeDiv$classList","classList","nodes_status","_i2","_Object$entries2","_Object$entries2$_i","setNodeStatus","comp","getAttribute","ctrlKey","localSelectedNodes","Set","_i3","_Object$entries3","_Object$entries3$_i","closest","selected_nodes","double_clicked_node","ukey","updateConfig","addEventListners","prevProps","substring","setNodesStatus","default_nodes","initial_scale","disable_zoom","disable_pan","space_to_pan","handleChange","Component","defaultProps","PropTypes"],"sourceRoot":""}