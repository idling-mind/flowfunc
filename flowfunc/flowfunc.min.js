window.flowfunc=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r,o=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),n=[],r=0;r<t.length;r++)n.push(t[r]);e=(n=n.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(r=o().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var a=jsonpScriptSrc;jsonpScriptSrc=function(e){var t=function(e){return/\/_dash-component-suites\//.test(e.src)}(o()),n=a(e);if(!t)return n;var r=n.split("/"),i=r.slice(-1)[0].split(".");return i.splice(1,0,"v0_0_4m1690386674"),r.splice(-1,1,i.join(".")),r.join("/")}}return n(n.s=10)}([function(e,t){e.exports=window.React},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return Ta})),n.d(t,"c",(function(){return $o})),n.d(t,"b",(function(){return Xo})),n.d(t,"a",(function(){return Jo}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),u=n(3),c=n.n(u),s=l()?o.a.useLayoutEffect:o.a.useEffect;"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;function l(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var p=!1,d=0,f=function(){return++d};function h(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var m="Stage_wrapper__1X5K_",y="Stage_transformWrapper__3CfIp",b="Stage_scaleWrapper__2Y7Ck";h(".Stage_wrapper__1X5K_ {\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  background-color: rgb(26, 28, 29);\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    );\n  color: #000;\n  background-size: 30px 30px;\n  position: relative;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  font-family: Helvetica, sans-serif;\n  text-align: left;\n  line-height: 1;\n  outline: none !important;\n}\n.Stage_wrapper__1X5K_ * {\n  box-sizing: border-box;\n}\n.Stage_wrapper__1X5K_ input,\ntextarea,\nselect {\n  font-family: Helvetica, sans-serif;\n}\n.Stage_transformWrapper__3CfIp {\n  transform-origin: center center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0px;\n  height: 0px;\n}\n.Stage_scaleWrapper__2Y7Ck {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n}\n");var v=!("undefined"==typeof window||!window.document||!window.document.createElement),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){return g(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return v?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),c.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(o.a.Component);w.propTypes={children:i.a.node.isRequired,node:i.a.any};var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){return O(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){c.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=o.a.cloneElement(this.props.children)),this.portal=c.a.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(o.a.Component);N.propTypes={children:i.a.node.isRequired,node:i.a.any};var T=c.a.createPortal?w:N,S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var k=27,j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.portalNode=null,n.state={active:!!e.defaultOpen},n.openPortal=n.openPortal.bind(n),n.closePortal=n.closePortal.bind(n),n.wrapWithPortal=n.wrapWithPortal.bind(n),n.handleOutsideMouseClick=n.handleOutsideMouseClick.bind(n),n.handleKeydown=n.handleKeydown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function(e){this.state.active||(e&&e.nativeEvent&&e.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function(e){var t=this;return this.state.active?o.a.createElement(T,{node:this.props.node,key:"react-portal",ref:function(e){return t.portalNode=e}},e):null}},{key:"handleOutsideMouseClick",value:function(e){if(this.state.active){var t=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!t||t.contains(e.target)||e.button&&0!==e.button||this.closePortal()}}},{key:"handleKeydown",value:function(e){e.keyCode===k&&this.state.active&&this.closePortal()}},{key:"render",value:function(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),t}(o.a.Component);j.propTypes={children:i.a.func.isRequired,defaultOpen:i.a.bool,node:i.a.any,closeOnEsc:i.a.bool,closeOnOutsideClick:i.a.bool,onOpen:i.a.func,onClose:i.a.func},j.defaultProps={onOpen:function(){},onClose:function(){}};var P="ContextMenu_menuWrapper__1BheJ",I="ContextMenu_menuHeader__1Cw58",A="ContextMenu_menuLabel__158Pv",R="ContextMenu_optionsWrapper__2YK_z",D="ContextMenu_menuFilter__1goBp",M="ContextMenu_option__33MDL",L="ContextMenu_emptyText__2rcXy";h(".ContextMenu_menuWrapper__1BheJ{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  font-size: 14px;\n  max-width: 300px;\n  min-width: 150px;\n  font-family: Helvetica, sans-serif;\n  line-height: 1.15;\n  outline: none;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ContextMenu_menuWrapper__1BheJ{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ContextMenu_menuHeader__1Cw58{\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuLabel__158Pv{\n  margin: 0px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n}\n.ContextMenu_optionsWrapper__2YK_z{\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuFilter__1goBp{\n  border: none;\n  background: none;\n  height: 24px;\n  flex: 1 1 auto;\n  width: 100%;\n  outline: none;\n  color: #fff;\n}\n.ContextMenu_menuFilter__1goBp::placeholder{\n    font-style: italic;\n  }\n.ContextMenu_option__33MDL{\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  color: #ffffff;\n}\n.ContextMenu_option__33MDL:last-child{\n    border-bottom: none;\n  }\n.ContextMenu_option__33MDL:hover{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_option__33MDL label{\n    margin-bottom: 5px;\n    user-select: none;\n  }\n.ContextMenu_option__33MDL label:last-child{\n      margin-bottom: 0px;\n    }\n.ContextMenu_option__33MDL p{\n    margin: 0px;\n    font-style: italic;\n    font-size: 12px;\n    color: rgb(182, 186, 194);\n    user-select: none;\n  }\n.ContextMenu_option__33MDL[data-selected=true]{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_emptyText__2rcXy{\n  color: #fff;\n  padding: 5px;\n}\n");var z=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},B=/\s/;var q=function(e){for(var t=e.length;t--&&B.test(e.charAt(t)););return t},W=/^\s+/;var U=function(e){return e?e.slice(0,q(e)+1).replace(W,""):e};var F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function H(e,t){return e(t={exports:{}},t.exports),t.exports}var Y="object"==typeof V&&V&&V.Object===Object&&V,K="object"==typeof self&&self&&self.Object===Object&&self,X=Y||K||Function("return this")(),J=X.Symbol,Q=Object.prototype,$=Q.hasOwnProperty,G=Q.toString,Z=J?J.toStringTag:void 0;var ee=function(e){var t=$.call(e,Z),n=e[Z];try{e[Z]=void 0}catch(e){}var r=G.call(e);return t?e[Z]=n:delete e[Z],r},te=Object.prototype.toString;var ne=function(e){return te.call(e)},re=J?J.toStringTag:void 0;var oe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":re&&re in Object(e)?ee(e):ne(e)};var ae=function(e){return null!=e&&"object"==typeof e};var ie=function(e){return"symbol"==typeof e||ae(e)&&"[object Symbol]"==oe(e)},ue=/^[-+]0x[0-9a-f]+$/i,ce=/^0b[01]+$/i,se=/^0o[0-7]+$/i,le=parseInt;var pe=function(e){if("number"==typeof e)return e;if(ie(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=U(e);var n=ce.test(e);return n||se.test(e)?le(e.slice(2),n?2:8):ue.test(e)?NaN:+e};var de=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=pe(n))==n?n:0),void 0!==t&&(t=(t=pe(t))==t?t:0),z(pe(e),t,n)};let fe=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t};var he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ge=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},xe=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},we=function(e){var t=e.x,n=e.y,r=e.options,a=void 0===r?[]:r,i=e.onRequestClose,u=e.onOptionSelected,c=e.label,s=e.hideHeader,l=e.hideFilter,p=e.emptyText,d=o.a.useRef(),f=o.a.useRef(),h=o.a.useRef(),m=o.a.useState(""),y=ge(m,2),b=y[0],v=y[1],_=o.a.useState(0),g=ge(_,2),x=g[0],w=g[1],E=o.a.useState(0),O=ge(E,2),C=O[0],N=O[1],T=o.a.useRef(fe(10)),S=function(e){u(e),i()},k=o.a.useCallback((function(e){d.current&&!d.current.contains(e.target)&&(i(),document.removeEventListener("click",k,{capture:!0}),document.removeEventListener("contextmenu",k,{capture:!0}))}),[d,i]),j=o.a.useCallback((function(e){27===e.keyCode&&(i(),document.removeEventListener("keydown",j,{capture:!0}))}),[i]);o.a.useEffect((function(){return h.current&&h.current.focus(),w(d.current.getBoundingClientRect().width),document.addEventListener("keydown",j,{capture:!0}),document.addEventListener("click",k,{capture:!0}),document.addEventListener("contextmenu",k,{capture:!0}),function(){document.removeEventListener("click",k,{capture:!0}),document.removeEventListener("contextmenu",k,{capture:!0}),document.removeEventListener("keydown",j,{capture:!0})}}),[k,j]);var M=o.a.useMemo((function(){if(!b)return a;var e=b.toLowerCase();return a.filter((function(t){return t.label.toLowerCase().includes(e)}))}),[b,a]);return o.a.useEffect((function(){(l||s)&&d.current.focus()}),[l,s]),o.a.useEffect((function(){var e=document.getElementById(T.current+"-"+C);if(e){var t=f.current.getBoundingClientRect(),n=e.getBoundingClientRect();(n.y+n.height>t.y+t.height||n.y<t.y)&&e.scrollIntoView({block:"nearest"})}}),[C]),o.a.createElement("div",{"data-flume-component":"ctx-menu",className:P,onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){if(38===e.which&&(e.preventDefault(),null===C?N(0):C>0&&N((function(e){return e-1}))),40===e.which&&(e.preventDefault(),null===C?N(0):C<M.length-1&&N((function(e){return e+1}))),13===e.which&&null!==C){var t=M[C];t&&S(t)}},style:{left:t,top:n,width:b?x:"auto"},ref:d,tabIndex:0,role:"menu","aria-activedescendant":T.current+"-"+C},s||!c&&!a.length?null:o.a.createElement("div",{className:I,"data-flume-component":"ctx-menu-header"},o.a.createElement("label",{className:A,"data-flume-component":"ctx-menu-title"},c),!l&&a.length?o.a.createElement("input",{"data-flume-component":"ctx-menu-input",type:"text",placeholder:"Filter options",value:b,onChange:function(e){var t=e.target.value;v(t),N(0)},className:D,autoFocus:!0,ref:h}):null),o.a.createElement("div",{"data-flume-component":"ctx-menu-list",className:R,role:"menu",ref:f,style:{maxHeight:de(window.innerHeight-n-70,10,300)}},M.map((function(e,t){return o.a.createElement(Ee,{menuId:T.current,selected:C===t,onClick:function(){return S(e)},onMouseEnter:function(){return N(null)},index:t,key:e.value+t},o.a.createElement("label",null,e.label),e.description?o.a.createElement("p",null,e.description):null)})),a.length?null:o.a.createElement("span",{"data-flume-component":"ctx-menu-empty",className:L},p)))},Ee=function(e){var t=e.menuId,n=e.index,r=e.children,a=e.onClick,i=e.selected,u=e.onMouseEnter;return o.a.createElement("div",{"data-flume-component":"ctx-menu-option",className:M,role:"menuitem",onClick:a,onMouseEnter:u,"data-selected":i,id:t+"-"+n},r)},Oe=o.a.createContext(),Ce=o.a.createContext(),Ne=o.a.createContext(),Te=o.a.createContext(),Se=o.a.createContext(),ke=o.a.createContext(),je=o.a.createContext(),Pe=o.a.createContext(),Ie=o.a.createContext(),Ae=function(e){var t=e.children,n=e.stageState,r=e.stageRect,a=e.onDragDelayStart,i=e.onDragStart,u=e.onDrag,c=e.onDragEnd,s=e.onMouseDown,l=e.onTouchStart,p=e.disabled,d=e.delay,f=void 0===d?6:d,h=e.innerRef,m=_e(e,["children","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef"]),y=o.a.useRef(null),b=o.a.useRef(),v=o.a.useRef(),_=function(e){return 1/n.scale*e},g=function(e){return{x:_(e.clientX-(r?r.current.left:0)-b.current.x-(r?r.current.width:0)/2)+_(n.translate.x),y:_(e.clientY-(r?r.current.top:0)-b.current.y-(r?r.current.height:0)/2)+_(n.translate.y)}},x=function(e){var t=g(e);u&&u(t,e)},w=function e(t){var n=g(t);c&&c(t,n),window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",x)},E=function(e){var t=void 0,n=void 0;"ontouchstart"in window&&e.touches?(t=e.touches[0].clientX,n=e.touches[0].clientY):(e.preventDefault(),t=e.clientX,n=e.clientY);var r=Math.abs(y.current.x-t),o=Math.abs(y.current.y-n);Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(o,2)))>=f&&(!function(e){i&&i(e);var t=v.current.getBoundingClientRect();b.current={x:y.current.x-t.left,y:y.current.y-t.top},window.addEventListener("mouseup",w),window.addEventListener("mousemove",x)}(e),O())},O=function e(){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",E),y.current=null},C=function(e){a&&a(e),e.stopPropagation();var t=void 0,n=void 0;"ontouchstart"in window&&e.touches?(t=e.touches[0].clientX,n=e.touches[0].clientY):(e.preventDefault(),t=e.clientX,n=e.clientY),y.current={x:t,y:n},document.addEventListener("mouseup",O),document.addEventListener("mousemove",E)};return o.a.createElement("div",ve({onMouseDown:function(e){p||C(e),s&&s(e)},onTouchStart:function(e){p||C(e),l&&l(e)},onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:function(e){v.current=e,h&&(h.current=e)}},m),t)};var Re=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},De=Array.isArray,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/;var ze=function(e,t){if(De(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ie(e))||(Le.test(e)||!Me.test(e)||null!=t&&e in Object(t))};var Be,qe=function(e){if(!F(e))return!1;var t=oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},We=X["__core-js_shared__"],Ue=(Be=/[^.]+$/.exec(We&&We.keys&&We.keys.IE_PROTO||""))?"Symbol(src)_1."+Be:"";var Fe=function(e){return!!Ue&&Ue in e},Ve=Function.prototype.toString;var He=function(e){if(null!=e){try{return Ve.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ye=/^\[object .+?Constructor\]$/,Ke=Function.prototype,Xe=Object.prototype,Je=Ke.toString,Qe=Xe.hasOwnProperty,$e=RegExp("^"+Je.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ge=function(e){return!(!F(e)||Fe(e))&&(qe(e)?$e:Ye).test(He(e))};var Ze=function(e,t){return null==e?void 0:e[t]};var et=function(e,t){var n=Ze(e,t);return Ge(n)?n:void 0},tt=et(Object,"create");var nt=function(){this.__data__=tt?tt(null):{},this.size=0};var rt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ot=Object.prototype.hasOwnProperty;var at=function(e){var t=this.__data__;if(tt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ot.call(t,e)?t[e]:void 0},it=Object.prototype.hasOwnProperty;var ut=function(e){var t=this.__data__;return tt?void 0!==t[e]:it.call(t,e)};var ct=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tt&&void 0===t?"__lodash_hash_undefined__":t,this};function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}st.prototype.clear=nt,st.prototype.delete=rt,st.prototype.get=at,st.prototype.has=ut,st.prototype.set=ct;var lt=st;var pt=function(){this.__data__=[],this.size=0};var dt=function(e,t){return e===t||e!=e&&t!=t};var ft=function(e,t){for(var n=e.length;n--;)if(dt(e[n][0],t))return n;return-1},ht=Array.prototype.splice;var mt=function(e){var t=this.__data__,n=ft(t,e);return!(n<0)&&(n==t.length-1?t.pop():ht.call(t,n,1),--this.size,!0)};var yt=function(e){var t=this.__data__,n=ft(t,e);return n<0?void 0:t[n][1]};var bt=function(e){return ft(this.__data__,e)>-1};var vt=function(e,t){var n=this.__data__,r=ft(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function _t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=pt,_t.prototype.delete=mt,_t.prototype.get=yt,_t.prototype.has=bt,_t.prototype.set=vt;var gt=_t,xt=et(X,"Map");var wt=function(){this.size=0,this.__data__={hash:new lt,map:new(xt||gt),string:new lt}};var Et=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ot=function(e,t){var n=e.__data__;return Et(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ct=function(e){var t=Ot(this,e).delete(e);return this.size-=t?1:0,t};var Nt=function(e){return Ot(this,e).get(e)};var Tt=function(e){return Ot(this,e).has(e)};var St=function(e,t){var n=Ot(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function kt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kt.prototype.clear=wt,kt.prototype.delete=Ct,kt.prototype.get=Nt,kt.prototype.has=Tt,kt.prototype.set=St;var jt=kt;function Pt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Pt.Cache||jt),n}Pt.Cache=jt;var It=Pt;var At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/\\(\\)?/g,Dt=function(e){var t=It(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(At,(function(e,n,r,o){t.push(r?o.replace(Rt,"$1"):n||e)})),t})),Mt=J?J.prototype:void 0,Lt=Mt?Mt.toString:void 0;var zt=function e(t){if("string"==typeof t)return t;if(De(t))return Re(t,e)+"";if(ie(t))return Lt?Lt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var Bt=function(e){return null==e?"":zt(e)};var qt=function(e,t){return De(e)?e:ze(e,t)?[e]:Dt(Bt(e))};var Wt=function(e){if("string"==typeof e||ie(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Ut=function(e,t){for(var n=0,r=(t=qt(t,e)).length;null!=e&&n<r;)e=e[Wt(t[n++])];return n&&n==r?e:void 0};var Ft=function(){this.__data__=new gt,this.size=0};var Vt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ht=function(e){return this.__data__.get(e)};var Yt=function(e){return this.__data__.has(e)};var Kt=function(e,t){var n=this.__data__;if(n instanceof gt){var r=n.__data__;if(!xt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jt(r)}return n.set(e,t),this.size=n.size,this};function Xt(e){var t=this.__data__=new gt(e);this.size=t.size}Xt.prototype.clear=Ft,Xt.prototype.delete=Vt,Xt.prototype.get=Ht,Xt.prototype.has=Yt,Xt.prototype.set=Kt;var Jt=Xt;var Qt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var $t=function(e){return this.__data__.has(e)};function Gt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jt;++t<n;)this.add(e[t])}Gt.prototype.add=Gt.prototype.push=Qt,Gt.prototype.has=$t;var Zt=Gt;var en=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var tn=function(e,t){return e.has(t)};var nn=function(e,t,n,r,o,a){var i=1&n,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;var s=a.get(e),l=a.get(t);if(s&&l)return s==t&&l==e;var p=-1,d=!0,f=2&n?new Zt:void 0;for(a.set(e,t),a.set(t,e);++p<u;){var h=e[p],m=t[p];if(r)var y=i?r(m,h,p,t,e,a):r(h,m,p,e,t,a);if(void 0!==y){if(y)continue;d=!1;break}if(f){if(!en(t,(function(e,t){if(!tn(f,t)&&(h===e||o(h,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(h!==m&&!o(h,m,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d},rn=X.Uint8Array;var on=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var an=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},un=J?J.prototype:void 0,cn=un?un.valueOf:void 0;var sn=function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new rn(e),new rn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=on;case"[object Set]":var c=1&r;if(u||(u=an),e.size!=t.size&&!c)return!1;var s=i.get(e);if(s)return s==t;r|=2,i.set(e,t);var l=nn(u(e),u(t),r,o,a,i);return i.delete(e),l;case"[object Symbol]":if(cn)return cn.call(e)==cn.call(t)}return!1};var ln=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var pn=function(e,t,n){var r=t(e);return De(e)?r:ln(r,n(e))};var dn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a};var fn=function(){return[]},hn=Object.prototype.propertyIsEnumerable,mn=Object.getOwnPropertySymbols,yn=mn?function(e){return null==e?[]:(e=Object(e),dn(mn(e),(function(t){return hn.call(e,t)})))}:fn;var bn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var vn=function(e){return ae(e)&&"[object Arguments]"==oe(e)},_n=Object.prototype,gn=_n.hasOwnProperty,xn=_n.propertyIsEnumerable,wn=vn(function(){return arguments}())?vn:function(e){return ae(e)&&gn.call(e,"callee")&&!xn.call(e,"callee")};var En=function(){return!1},On=H((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?X.Buffer:void 0,a=(o?o.isBuffer:void 0)||En;e.exports=a})),Cn=/^(?:0|[1-9]\d*)$/;var Nn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Cn.test(e))&&e>-1&&e%1==0&&e<t};var Tn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Sn={};Sn["[object Float32Array]"]=Sn["[object Float64Array]"]=Sn["[object Int8Array]"]=Sn["[object Int16Array]"]=Sn["[object Int32Array]"]=Sn["[object Uint8Array]"]=Sn["[object Uint8ClampedArray]"]=Sn["[object Uint16Array]"]=Sn["[object Uint32Array]"]=!0,Sn["[object Arguments]"]=Sn["[object Array]"]=Sn["[object ArrayBuffer]"]=Sn["[object Boolean]"]=Sn["[object DataView]"]=Sn["[object Date]"]=Sn["[object Error]"]=Sn["[object Function]"]=Sn["[object Map]"]=Sn["[object Number]"]=Sn["[object Object]"]=Sn["[object RegExp]"]=Sn["[object Set]"]=Sn["[object String]"]=Sn["[object WeakMap]"]=!1;var kn=function(e){return ae(e)&&Tn(e.length)&&!!Sn[oe(e)]};var jn=function(e){return function(t){return e(t)}},Pn=H((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&Y.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a})),In=Pn&&Pn.isTypedArray,An=In?jn(In):kn,Rn=Object.prototype.hasOwnProperty;var Dn=function(e,t){var n=De(e),r=!n&&wn(e),o=!n&&!r&&On(e),a=!n&&!r&&!o&&An(e),i=n||r||o||a,u=i?bn(e.length,String):[],c=u.length;for(var s in e)!t&&!Rn.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Nn(s,c))||u.push(s);return u},Mn=Object.prototype;var Ln=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Mn)};var zn=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Bn=Object.prototype.hasOwnProperty;var qn=function(e){if(!Ln(e))return zn(e);var t=[];for(var n in Object(e))Bn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Wn=function(e){return null!=e&&Tn(e.length)&&!qe(e)};var Un=function(e){return Wn(e)?Dn(e):qn(e)};var Fn=function(e){return pn(e,Un,yn)},Vn=Object.prototype.hasOwnProperty;var Hn=function(e,t,n,r,o,a){var i=1&n,u=Fn(e),c=u.length;if(c!=Fn(t).length&&!i)return!1;for(var s=c;s--;){var l=u[s];if(!(i?l in t:Vn.call(t,l)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var h=i;++s<c;){var m=e[l=u[s]],y=t[l];if(r)var b=i?r(y,m,l,t,e,a):r(m,y,l,e,t,a);if(!(void 0===b?m===y||o(m,y,n,r,a):b)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var v=e.constructor,_=t.constructor;v==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _||(f=!1)}return a.delete(e),a.delete(t),f},Yn=et(X,"DataView"),Kn=et(X,"Promise"),Xn=et(X,"Set"),Jn=et(X,"WeakMap"),Qn=He(Yn),$n=He(xt),Gn=He(Kn),Zn=He(Xn),er=He(Jn),tr=oe;(Yn&&"[object DataView]"!=tr(new Yn(new ArrayBuffer(1)))||xt&&"[object Map]"!=tr(new xt)||Kn&&"[object Promise]"!=tr(Kn.resolve())||Xn&&"[object Set]"!=tr(new Xn)||Jn&&"[object WeakMap]"!=tr(new Jn))&&(tr=function(e){var t=oe(e),n="[object Object]"==t?e.constructor:void 0,r=n?He(n):"";if(r)switch(r){case Qn:return"[object DataView]";case $n:return"[object Map]";case Gn:return"[object Promise]";case Zn:return"[object Set]";case er:return"[object WeakMap]"}return t});var nr=tr,rr=Object.prototype.hasOwnProperty;var or=function(e,t,n,r,o,a){var i=De(e),u=De(t),c=i?"[object Array]":nr(e),s=u?"[object Array]":nr(t),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),d=c==s;if(d&&On(e)){if(!On(t))return!1;i=!0,l=!1}if(d&&!l)return a||(a=new Jt),i||An(e)?nn(e,t,n,r,o,a):sn(e,t,c,n,r,o,a);if(!(1&n)){var f=l&&rr.call(e,"__wrapped__"),h=p&&rr.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,y=h?t.value():t;return a||(a=new Jt),o(m,y,n,r,a)}}return!!d&&(a||(a=new Jt),Hn(e,t,n,r,o,a))};var ar=function e(t,n,r,o,a){return t===n||(null==t||null==n||!ae(t)&&!ae(n)?t!=t&&n!=n:or(t,n,r,o,e,a))};var ir=function(e,t,n,r){var o=n.length,a=o,i=!r;if(null==e)return!a;for(e=Object(e);o--;){var u=n[o];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],s=e[c],l=u[1];if(i&&u[2]){if(void 0===s&&!(c in e))return!1}else{var p=new Jt;if(r)var d=r(s,l,c,e,t,p);if(!(void 0===d?ar(l,s,3,r,p):d))return!1}}return!0};var ur=function(e){return e==e&&!F(e)};var cr=function(e){for(var t=Un(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ur(o)]}return t};var sr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var lr=function(e){var t=cr(e);return 1==t.length&&t[0][2]?sr(t[0][0],t[0][1]):function(n){return n===e||ir(n,e,t)}};var pr=function(e,t,n){var r=null==e?void 0:Ut(e,t);return void 0===r?n:r};var dr=function(e,t){return null!=e&&t in Object(e)};var fr=function(e,t,n){for(var r=-1,o=(t=qt(t,e)).length,a=!1;++r<o;){var i=Wt(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&Tn(o)&&Nn(i,o)&&(De(e)||wn(e))};var hr=function(e,t){return null!=e&&fr(e,t,dr)};var mr=function(e,t){return ze(e)&&ur(t)?sr(Wt(e),t):function(n){var r=pr(n,e);return void 0===r&&r===t?hr(n,e):ar(t,r,3)}};var yr=function(e){return e};var br=function(e){return function(t){return null==t?void 0:t[e]}};var vr=function(e){return function(t){return Ut(t,e)}};var _r=function(e){return ze(e)?br(Wt(e)):vr(e)};var gr=function(e){return"function"==typeof e?e:null==e?yr:"object"==typeof e?De(e)?mr(e[0],e[1]):lr(e):_r(e)};var xr=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),u=i.length;u--;){var c=i[e?u:++o];if(!1===n(a[c],c,a))break}return t}}();var wr=function(e,t){return function(n,r){if(null==n)return n;if(!Wn(n))return e(n,r);for(var o=n.length,a=t?o:-1,i=Object(n);(t?a--:++a<o)&&!1!==r(i[a],a,i););return n}}((function(e,t){return e&&xr(e,t,Un)}));var Er=function(e,t){var n=-1,r=Wn(e)?Array(e.length):[];return wr(e,(function(e,o,a){r[++n]=t(e,o,a)})),r};var Or=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var Cr=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=ie(e),i=void 0!==t,u=null===t,c=t==t,s=ie(t);if(!u&&!s&&!a&&e>t||a&&i&&c&&!u&&!s||r&&i&&c||!n&&c||!o)return 1;if(!r&&!a&&!s&&e<t||s&&n&&o&&!r&&!a||u&&n&&o||!i&&o||!c)return-1}return 0};var Nr=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,i=o.length,u=n.length;++r<i;){var c=Cr(o[r],a[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var Tr=function(e,t,n){t=t.length?Re(t,(function(e){return De(e)?function(t){return Ut(t,1===e.length?e[0]:e)}:e})):[yr];var r=-1;t=Re(t,jn(gr));var o=Er(e,(function(e,n,o){return{criteria:Re(t,(function(t){return t(e)})),index:++r,value:e}}));return Or(o,(function(e,t){return Nr(e,t,n)}))};var Sr=function(e,t,n,r){return null==e?[]:(De(t)||(t=null==t?[]:[t]),De(n=r?void 0:n)||(n=null==n?[]:[n]),Tr(e,t,n))},kr="__node_editor_stage__",jr=function(e){var t=e.scale,n=e.translate,r=e.editorId,a=e.dispatchStageState,i=e.children,u=e.outerStageChildren,c=e.numNodes,s=e.stageRef,l=e.spaceToPan,p=e.dispatchComments,d=e.disableComments,f=e.disablePan,h=e.disableZoom,v=o.a.useContext(Oe),_=o.a.useContext(Ne),g=o.a.useRef(),x=o.a.useRef(),w=o.a.useState(!1),E=ge(w,2),O=E[0],C=E[1],N=o.a.useState({x:0,y:0}),S=ge(N,2),k=S[0],j=S[1],P=o.a.useRef({x:0,y:0}),I=o.a.useState(!1),A=ge(I,2),R=A[0],D=A[1],M=o.a.useCallback((function(){s.current=g.current.getBoundingClientRect()}),[]);o.a.useEffect((function(){return s.current=g.current.getBoundingClientRect(),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}}),[s,M]);var L=o.a.useCallback((function(e){("TEXTAREA"===e.target.nodeName||e.target.dataset.comment)&&e.target.clientHeight<e.target.scrollHeight||(e.preventDefault(),0!==c&&a((function(t){var n=t.scale,r=t.translate,o=e.deltaY,a=de(n-.005*de(o,-10,10),.1,7),i=function(e){return e*(1/n)},u=function(e){return e*(1/a)},c=g.current.getBoundingClientRect(),s=i(e.clientX-c.x-c.width/2+r.x),l=i(e.clientY-c.y-c.height/2+r.y),p=s-u(e.clientX-c.x-c.width/2+r.x),d=l-u(e.clientY-c.y-c.height/2+r.y);return{type:"SET_TRANSLATE_SCALE",scale:a,translate:{x:r.x+p*a,y:r.y+d*a}}})))}),[a,c]),z=function(e){return 1/t*e},B=function e(t){32===t.which&&(D(!1),document.removeEventListener("keyup",e))};o.a.useEffect((function(){if(!h){var e=g.current;return e.addEventListener("wheel",L),function(){e.removeEventListener("wheel",L)}}}),[L,h]);var q=o.a.useMemo((function(){var e=Sr(Object.values(v).filter((function(e){return!1!==e.addable})).map((function(e){return{value:e.type,label:e.label,description:e.description,sortIndex:e.sortIndex,node:e}})),["sortIndex","label"]);return d||e.push({value:"comment",label:"Comment",description:"A comment for documenting nodes",internalType:"comment"}),e}),[v,d]);return o.a.createElement(Ae,{"data-flume-component":"stage",id:""+kr+r,className:m,innerRef:g,onContextMenu:function(e){return e.preventDefault(),j({x:e.clientX,y:e.clientY}),C(!0),!1},onMouseEnter:function(){g.current.contains(document.activeElement)||g.current.focus()},onDragDelayStart:function(e){g.current.focus()},onDragStart:function(e){e.preventDefault(),P.current={x:e.clientX,y:e.clientY}},onDrag:function(e,t){var r=P.current.x-t.clientX,o=P.current.y-t.clientY,a=n.x+r,i=n.y+o;g.current.style.backgroundPosition=-a+"px "+-i+"px",x.current.style.transform="translate("+-(n.x+r)+"px, "+-(n.y+o)+"px)"},onDragEnd:function(e){var t=P.current.x-e.clientX,n=P.current.y-e.clientY;P.current.x=e.clientX,P.current.y=e.clientY,a((function(e){var r=e.translate;return{type:"SET_TRANSLATE",translate:{x:r.x+t,y:r.y+n}}}))},onKeyDown:function(e){32===e.which&&document.activeElement===g.current&&(e.preventDefault(),e.stopPropagation(),D(!0),document.addEventListener("keyup",B))},tabIndex:-1,stageState:{scale:t,translate:n},style:{cursor:R&&l?"grab":""},disabled:f||l&&!R,"data-flume-stage":!0},O?o.a.createElement(T,null,o.a.createElement(we,{x:k.x,y:k.y,options:q,onRequestClose:function(){C(!1)},onOptionSelected:function(e){var t=e.node,r=e.internalType,o=g.current.getBoundingClientRect(),a=z(k.x-o.x-o.width/2)+z(n.x),i=z(k.y-o.y-o.height/2)+z(n.y);"comment"===r?p({type:"ADD_COMMENT",x:a,y:i}):_({type:"ADD_NODE",x:a,y:i,nodeType:t.type})},label:"Add Node"})):null,o.a.createElement("div",{ref:x,className:y,style:{transform:"translate("+-n.x+"px, "+-n.y+"px)"}},o.a.createElement("div",{className:b,style:{transform:"scale("+t+")"}},i)),u)},Pr="Node_wrapper__3SmT7",Ir="Node_label__3MmhF";h(".Node_wrapper__3SmT7{\n  background: rgba(91, 96, 99, 0.9);\n  border-radius: 5px;\n  box-shadow: 0px 4px 8px rgba(0,0,0,.4);\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  cursor: default;\n}\n.Node_label__3MmhF{\n  font-size: 13px;\n  text-transform: uppercase;\n  padding: 5px;\n  background: #464b4e;\n  border-radius: 5px 5px 0px 0px;\n  margin: 0px;\n  margin-bottom: 3px;\n  border-bottom: 1px solid rgba(0,0,0,.15);\n}\n");var Ar="Connection_svg__-fKLY";h(".Connection_svg__-fKLY{\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  pointer-events: none;\n  z-index: 0;\n  overflow: visible !important;\n}\n");var Rr=Math.PI,Dr=2*Rr,Mr=Dr-1e-6;function Lr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zr(){return new Lr}function Br(e){return function(){return e}}Lr.prototype=zr.prototype={constructor:Lr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var a=this._x1,i=this._y1,u=n-e,c=r-t,s=a-e,l=i-t,p=s*s+l*l;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>1e-6)if(Math.abs(l*u-c*s)>1e-6&&o){var d=n-a,f=r-i,h=u*u+c*c,m=d*d+f*f,y=Math.sqrt(h),b=Math.sqrt(p),v=o*Math.tan((Rr-Math.acos((h+p-m)/(2*y*b)))/2),_=v/b,g=v/y;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*s)+","+(t+_*l)),this._+="A"+o+","+o+",0,0,"+ +(l*d>s*f)+","+(this._x1=e+g*u)+","+(this._y1=t+g*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,a){e=+e,t=+t,a=!!a;var i=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=e+i,s=t+u,l=1^a,p=a?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),n&&(p<0&&(p=p%Dr+Dr),p>Mr?this._+="A"+n+","+n+",0,1,"+l+","+(e-i)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=Rr)+","+l+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};Math.PI;function qr(e){this._context=e}function Wr(e){return new qr(e)}function Ur(e){return e[0]}function Fr(e){return e[1]}function Vr(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Hr(e){this._context=e}function Yr(e){return new Hr(e)}function Kr(e){return e<0?-1:1}function Xr(e,t,n){var r=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(r||o<0&&-0),i=(n-e._y1)/(o||r<0&&-0),u=(a*o+i*r)/(r+o);return(Kr(a)+Kr(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(u))||0}function Jr(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qr(e,t,n){var r=e._x0,o=e._y0,a=e._x1,i=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,o+u*t,a-u,i-u*n,a,i)}function $r(e){this._context=e}function Gr(e){this._context=e}qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qr(this,this._t0,Jr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qr(this,Jr(this,n=Xr(this,e,t)),n);break;default:Qr(this,this._t0,n=Xr(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(function(e){this._context=new Gr(e)}.prototype=Object.create($r.prototype)).point=function(e,t){$r.prototype.point.call(this,t,e)},Gr.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,a){this._context.bezierCurveTo(t,e,r,n,a,o)}};var Zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";return document.querySelector('[data-node-id="'+e+'"] [data-port-name="'+t+'"][data-port-transput-type="'+n+'"]')},eo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input",r=arguments[3];if(r){var o=e+t+n,a=r.current.ports[o];if(a)return a.getBoundingClientRect();var i=Zr(e,t,n);return r.current.ports[o]=i,i&&i.getBoundingClientRect()}var u=Zr(e,t,n);return u&&u.getBoundingClientRect()},to=function(e,t){var n=(t.x-e.x)/3;return function(){var e=Ur,t=Fr,n=Br(!0),r=null,o=Wr,a=null;function i(i){var u,c,s,l=i.length,p=!1;for(null==r&&(a=o(s=zr())),u=0;u<=l;++u)!(u<l&&n(c=i[u],u,i))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(c,u,i),+t(c,u,i));if(s)return a=null,s+""||null}return i.x=function(t){return arguments.length?(e="function"==typeof t?t:Br(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:Br(+e),i):t},i.defined=function(e){return arguments.length?(n="function"==typeof e?e:Br(!!e),i):n},i.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),i):o},i.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),i):r},i}().curve(Yr)([[e.x,e.y],[e.x+n,e.y],[e.x+2*n,t.y],[t.x,t.y]])},no=function(e){var t=e.id,n=document.querySelector('[data-connection-id="'+t+'"]');n&&n.parentNode.remove()},ro=function(e,t,n){var r=t.scale,o=(t.stageId,function(e){return document.getElementById("__node_editor_connections__"+e)}(n));if(o){var a=o.getBoundingClientRect(),i=a.width/2,u=a.height/2,c=function(e){return 1/r*e};Object.values(e).forEach((function(e){e.connections&&e.connections.inputs&&Object.entries(e.connections.inputs).forEach((function(t,n){var r=ge(t,2),s=r[0];r[1].forEach((function(t){var n,r,l,p,d=eo(t.nodeId,t.portName,"output"),f=eo(e.id,s,"input"),h=d?d.width/2:0;if(d&&f){var m=t.nodeId+t.portName+e.id+s,y=document.querySelector('[data-connection-id="'+m+'"]');y?(n={line:y,from:{x:c(d.x-a.x+h-i),y:c(d.y-a.y+h-u)},to:{x:c(f.x-a.x+h-i),y:c(f.y-a.y+h-u)}},r=n.line,l=n.from,p=n.to,r.setAttribute("d",to(l,p))):function(e){var t=e.from,n=e.to,r=e.stage,o=e.id,a=e.outputNodeId,i=e.outputPortName,u=e.inputNodeId,c=e.inputPortName,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("class",Ar);var l=document.createElementNS("http://www.w3.org/2000/svg","path"),p=to(t,n);l.setAttribute("d",p),l.setAttribute("stroke","rgb(185, 186, 189)"),l.setAttribute("stroke-width","3"),l.setAttribute("stroke-linecap","round"),l.setAttribute("fill","none"),l.setAttribute("data-connection-id",o),l.setAttribute("data-output-node-id",a),l.setAttribute("data-output-port-name",i),l.setAttribute("data-input-node-id",u),l.setAttribute("data-input-port-name",c),s.appendChild(l),r.appendChild(s)}({id:m,outputNodeId:t.nodeId,outputPortName:t.portName,inputNodeId:e.id,inputPortName:s,from:{x:c(d.x-a.x+h-i),y:c(d.y-a.y+h-u)},to:{x:c(f.x-a.x+h-i),y:c(f.y-a.y+h-u)},stage:o})}}))}))}))}},oo="IoPorts_wrapper__3d2hh",ao="IoPorts_inputs__2etkb",io="IoPorts_transput__1wbHA",uo="IoPorts_portLabel__qOE7y",co="IoPorts_port__1_a6J",so="IoPorts_outputs__3JGh-",lo="IoPorts_controls__1dKFt";h('.IoPorts_wrapper__3d2hh{\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  width: 100%;\n  padding: 5px;\n}\n.IoPorts_inputs__2etkb{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.IoPorts_inputs__2etkb:last-child{\n    margin-bottom: 0px;\n  }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\n        margin-top: 5px;\n      }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-{\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n}\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-:first-child{\n    margin-top: 5px;\n  }\n.IoPorts_transput__1wbHA{\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n.IoPorts_transput__1wbHA:first-child{\n    margin-top: 0px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]{\n    margin-top: 6px;\n    margin-bottom: 6px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]:first-child{\n      margin-top: 0px;\n    }\n.IoPorts_transput__1wbHA[data-controlless="false"]{\n    margin-top: 2px;\n    margin-bottom: 2px;\n  }\n.IoPorts_controls__1dKFt{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.IoPorts_portLabel__qOE7y{\n  font-size: 13px;\n  font-weight: 400;\n}\n.IoPorts_port__1_a6J{\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #acb1b4, #919699);\n  border-radius: 100%;\n  margin-right: 5px;\n  margin-left: -11px;\n  flex: 0 0 auto;\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\n}\n.IoPorts_port__1_a6J:last-child{\n    margin-right: -11px;\n    margin-left: 5px;\n  }\n.IoPorts_port__1_a6J[data-port-color="red"]{\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\n  }\n.IoPorts_port__1_a6J[data-port-color="purple"]{\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\n  }\n.IoPorts_port__1_a6J[data-port-color="blue"]{\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\n  }\n.IoPorts_port__1_a6J[data-port-color="green"]{\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\n  }\n.IoPorts_port__1_a6J[data-port-color="yellow"]{\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\n  }\n.IoPorts_port__1_a6J[data-port-color="orange"]{\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\n  }\n.IoPorts_port__1_a6J[data-port-color="pink"]{\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\n  }\n');var po="Control_wrapper__VZIiC",fo="Control_controlLabel__3ga2-";h(".Control_wrapper__VZIiC {\n  width: 100%;\n  padding-right: 3px;\n  padding-top: 3px;\n  padding-bottom: 5px;\n}\n.Control_label__1OX-Q {\n  font-size: 14px;\n}\n.Control_controlLabel__3ga2- {\n  font-size: 13px;\n  display: inline-block;\n  margin-left: 2px;\n}\n");var ho="Checkbox_wrapper__aSqyY",mo="Checkbox_checkbox__Qv5gn",yo="Checkbox_label__2RxP-";h(".Checkbox_wrapper__aSqyY{\n  display: flex;\n  align-items: center;\n}\n.Checkbox_checkbox__Qv5gn{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  margin-right: 8px;\n}\n.Checkbox_label__2RxP-{\n  padding-top: 2px;\n  font-size: 13px;\n}\n");var bo=function(e){var t=e.label,n=e.data,r=e.onChange,a=o.a.useRef(fe(10));return o.a.createElement("div",{className:ho},o.a.createElement("input",{"data-flume-component":"checkbox",className:mo,type:"checkbox",id:a,value:n,checked:n,onChange:function(e){return r(e.target.checked)}}),o.a.createElement("label",{"data-flume-component":"checkbox-label",className:yo,htmlFor:a},t))},vo="TextInput_wrapper__tefOZ",_o="TextInput_input__1QHwS";h(".TextInput_wrapper__tefOZ{\n  background: none;\n  border: none;\n}\n.TextInput_input__1QHwS{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  font-size: 13px;\n  padding: 5px;\n  resize: vertical;\n  outline: none;\n}\n.TextInput_input__1QHwS::placeholder{\n    color: rgb(47, 49, 50);\n  }\n.TextInput_input__1QHwS:focus{\n    background: linear-gradient(to bottom, #676b6e, #75797c);\n  }\n");var go=function(e){var t=e.placeholder,n=e.updateNodeConnections,r=e.onChange,a=e.data,i=e.step,u=e.type,c=o.a.useRef(),s=o.a.useContext(Pe),l=function e(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",e)},p=function(e){e.stopPropagation(),n()},d=function(e){e.stopPropagation(),s(),document.addEventListener("mousemove",p),document.addEventListener("mouseup",l)};return o.a.createElement("div",{className:vo,"data-flume-component":"text-input"},"number"===u?o.a.createElement("input",{"data-flume-component":"text-input-number",onKeyDown:function(e){if(69===e.keyCode)return e.preventDefault(),!1},onChange:function(e){var t=e.target.value.replace(/[^0-9.]+/g,"");if(t){var n=parseFloat(t,10);Number.isNaN(n)?r(0):(r(n),c.current.value=n)}},onBlur:function(e){e.target.value||(r(0),c.current.value=0)},step:i||"1",onMouseDown:d,type:u||"text",placeholder:t,className:_o,defaultValue:a,onDragStart:function(e){return e.stopPropagation()},ref:c}):o.a.createElement("textarea",{"data-flume-component":"text-input-textarea",onChange:function(e){return r(e.target.value)},onMouseDown:d,type:"text",placeholder:t,className:_o,value:a,onDragStart:function(e){return e.stopPropagation()}}))},xo="Select_wrapper__eAPoQ",wo="Select_chipWrapper__3hK2u",Eo="Select_deleteButton__1FnLK",Oo="Select_chipsWrapper__4Alw8",Co="Select_selectedWrapper__SUs4D";h('.Select_wrapper__eAPoQ{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  padding-right: 15px;\n  position: relative;\n}\n  .Select_wrapper__eAPoQ::after{\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: 8px;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n  .Select_wrapper__eAPoQ:hover{\n    background: linear-gradient(to top, #63676a, #777b7e);\n  }\n.Select_chipWrapper__3hK2u{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  margin: 2px;\n  position: relative;\n}\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK{\n  opacity: 1;\n}\n.Select_chipsWrapper__4Alw8{\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 6px;\n}\n.Select_deleteButton__1FnLK{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n  width: 22px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border-radius: 3px;\n  border: none;\n  font-weight: bold;\n  opacity: 0;\n}\n.Select_deleteButton__1FnLK:focus{\n  opacity: 1;\n}\n.Select_deleteButton__1FnLK:hover{\n  background: linear-gradient(to top, #64696c, #797f82);\n}\n.Select_selectedWrapper__SUs4D{\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  font-size: 14px;\n  padding: 3px 6px;\n  padding-right: 15px;\n  position: relative;\n}\n.Select_selectedWrapper__SUs4D::after{\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: calc(50% - 4px);\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n.Select_selectedWrapper__SUs4D label{\n    margin: 0px;\n  }\n.Select_selectedWrapper__SUs4D p{\n    margin: 0px;\n    margin-top: 5px;\n    font-size: 12px;\n    font-style: italic;\n    color: rgb(50, 50, 50);\n  }\n');var No=function(e){var t=e.options,n=void 0===t?[]:t,r=e.placeholder,a=void 0===r?"[Select an option]":r,i=e.onChange,u=e.data,c=e.allowMultiple,s=o.a.useState(!1),l=ge(s,2),p=l[0],d=l[1],f=o.a.useState({x:0,y:0}),h=ge(f,2),m=h[0],y=h[1],b=o.a.useRef(),v=function(){if(!p){var e=b.current.getBoundingClientRect();y({x:e.x,y:e.y+e.height}),d(!0)}},_=o.a.useMemo((function(){var e=n.find((function(e){return e.value===u}));if(e)return ve({},e,{label:e.label.length>50?e.label.slice(0,50)+"...":e.label})}),[n,u]);return o.a.createElement(o.a.Fragment,null,c?u.length?o.a.createElement("div",{className:Oo},u.map((function(e,t){var r=(n.find((function(t){return t.value===e}))||{}).label||"";return o.a.createElement(So,{onRequestDelete:function(){return e=t,void i([].concat(xe(u.slice(0,e)),xe(u.slice(e+1))));var e},key:e},r)}))):null:u?o.a.createElement(To,{wrapperRef:b,option:_,onClick:v}):null,(c||!u)&&o.a.createElement("div",{className:xo,ref:b,onClick:v},a),p&&o.a.createElement(T,null,o.a.createElement(we,{x:m.x,y:m.y,emptyText:"There are no options",options:c?n.filter((function(e){return!u.includes(e.value)})):n,onOptionSelected:function(e){i(c?[].concat(xe(u),[e.value]):e.value)},onRequestClose:function(){d(!1)}})))},To=function(e){var t=e.option,n=(t=void 0===t?{}:t).label,r=t.description,a=e.wrapperRef,i=e.onClick;return o.a.createElement("div",{className:Co,onClick:i,ref:a,"data-flume-component":"select"},o.a.createElement("label",{"data-flume-component":"select-label"},n),r?o.a.createElement("p",{"data-flume-component":"select-desc"},r):null)},So=function(e){var t=e.children,n=e.onRequestDelete;return o.a.createElement("div",{className:wo},t,o.a.createElement("button",{className:Eo,onMouseDown:function(e){e.stopPropagation()},onClick:n},""))},ko=function(e){var t=e.type,n=e.name,r=e.nodeId,a=e.portName,i=e.label,u=e.inputLabel,c=e.data,s=e.allData,l=e.render,p=e.step,d=e.options,f=void 0===d?[]:d,h=e.placeholder,m=e.inputData,y=e.triggerRecalculation,b=e.updateNodeConnections,v=e.getOptions,_=e.setValue,g=e.defaultValue,x=e.isMonoControl,w=o.a.useContext(Ne),E=o.a.useContext(Se),O=x?u:i,C=function(e){w({type:"SET_PORT_DATA",data:e,nodeId:r,portName:a,controlName:n,setValue:_}),y()};return o.a.createElement("div",{className:po,"data-flume-component":"control"},O&&"checkbox"!==t&&"custom"!==t&&o.a.createElement("label",{"data-flume-component":"control-label",className:fo},O),function(e){var t={triggerRecalculation:y,updateNodeConnections:b,onChange:C,data:c};switch(e){case"select":return o.a.createElement(No,ve({},t,{options:v?v(m,E):f,placeholder:h}));case"text":return o.a.createElement(go,ve({},t,{placeholder:h}));case"number":return o.a.createElement(go,ve({},t,{step:p,type:"number",placeholder:h}));case"checkbox":return o.a.createElement(bo,ve({},t,{label:O}));case"multiselect":return o.a.createElement(No,ve({allowMultiple:!0},t,{options:v?v(m,E):f,placeholder:h,label:i}));case"custom":return l(c,C,E,y,{label:i,name:n,portName:a,inputLabel:u,defaultValue:g},s);default:return o.a.createElement("div",null,"Control")}}(t))},jo=function(e){var t=e.from,n=e.to,r=e.id,a=e.lineRef,i=e.outputNodeId,u=e.outputPortName,c=e.inputNodeId,s=e.inputPortName,l=to(t,n);return o.a.createElement("svg",{className:Ar,"data-flume-component":"connection-svg"},o.a.createElement("path",{"data-connection-id":r,"data-output-node-id":i,"data-output-port-name":u,"data-input-node-id":c,"data-input-port-name":s,"data-flume-component":"connection-path",stroke:"rgb(185, 186, 189)",fill:"none",strokeWidth:3,strokeLinecap:"round",d:l,ref:a}))},Po=function(e){var t=o.a.useRef();return o.a.useEffect((function(){t.current=e}),[t.current]),t.current};function Io(e,t,n,r,a){var i=o.a.useContext(Ne),u=o.a.useContext(Se),c=o.a.useMemo((function(){return Array.isArray(e)?e:e(r,a,u)}),[e,r,a,u]),s=Po(c);return o.a.useEffect((function(){if(s&&!Array.isArray(e)){var r=function(e){c.find((function(t){var n=t.name;return e.name===n}))||i({type:"DESTROY_TRANSPUT",transputType:t,transput:{nodeId:n,portName:""+e.name}})},o=!0,a=!1,u=void 0;try{for(var l,p=s[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){r(l.value)}}catch(e){a=!0,u=e}finally{try{!o&&p.return&&p.return()}finally{if(a)throw u}}}}),[e,c,s,i,n,t]),c}var Ao=function(e){var t=e.nodeId,n=e.inputs,r=void 0===n?[]:n,a=e.outputs,i=void 0===a?[]:a,u=e.connections,c=e.inputData,s=e.updateNodeConnections,l=o.a.useContext(Ce),p=o.a.useContext(Te),d=Io(r,"input",t,c,u),f=Io(i,"output",t,c,u);return o.a.createElement("div",{className:oo,"data-flume-component":"ports"},d.length?o.a.createElement("div",{className:ao,"data-flume-component":"ports-inputs"},d.map((function(e){return o.a.createElement(Ro,ve({},e,{data:c[e.name]||{},isConnected:!!u.inputs[e.name],triggerRecalculation:p,updateNodeConnections:s,inputTypes:l,nodeId:t,inputData:c,key:e.name}))}))):null,!!f.length&&o.a.createElement("div",{className:so,"data-flume-component":"ports-outputs"},f.map((function(e){return o.a.createElement(Do,ve({},e,{triggerRecalculation:p,inputTypes:l,nodeId:t,inputData:c,portOnRight:!0,key:e.name}))}))))},Ro=function(e){var t=e.type,n=e.label,r=e.name,a=e.nodeId,i=e.data,u=e.controls,c=e.inputTypes,s=e.noControls,l=e.triggerRecalculation,p=e.updateNodeConnections,d=e.isConnected,f=e.inputData,h=e.hidePort,m=c[t]||{},y=m.label,b=m.color,v=m.controls,_=void 0===v?[]:v,g=Po(d),x=u||_;return o.a.useEffect((function(){d!==g&&l()}),[d,g,l]),o.a.createElement("div",{"data-flume-component":"port-input",className:io,"data-controlless":d||s||!x.length,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},h?null:o.a.createElement(Mo,{type:t,color:b,name:r,nodeId:a,isInput:!0,triggerRecalculation:l}),(!x.length||s||d)&&o.a.createElement("label",{"data-flume-component":"port-label",className:uo},n||y),s||d?null:o.a.createElement("div",{className:lo},x.map((function(e){return o.a.createElement(ko,ve({},e,{nodeId:a,portName:r,triggerRecalculation:l,updateNodeConnections:p,inputLabel:n,data:i[e.name],allData:i,key:e.name,inputData:f,isMonoControl:1===x.length}))}))))},Do=function(e){var t=e.label,n=e.name,r=e.nodeId,a=e.type,i=e.inputTypes,u=e.triggerRecalculation,c=i[a]||{},s=c.label,l=c.color;return o.a.createElement("div",{"data-flume-component":"port-output",className:io,"data-controlless":!0,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},o.a.createElement("label",{"data-flume-component":"port-label",className:uo},t||s),o.a.createElement(Mo,{type:a,name:n,color:l,nodeId:r,triggerRecalculation:u}))},Mo=function(e){var t=e.color,n=void 0===t?"grey":t,r=e.name,a=void 0===r?"":r,i=e.type,u=e.isInput,c=e.nodeId,s=e.triggerRecalculation,l=o.a.useContext(Ne),p=o.a.useContext(ke),d=o.a.useContext(Ie),f=""+kr+d,h=o.a.useContext(Ce),m=o.a.useState(!1),y=ge(m,2),b=y[0],v=y[1],_=o.a.useState({x:0,y:0}),g=ge(_,2),x=g[0],w=g[1],E=o.a.useRef(x),O=o.a.useRef(),C=o.a.useRef(),N=o.a.useRef(),S=function(e){return 1/p.scale*e},k=function(e){var t=document.getElementById(f).getBoundingClientRect();if(u){var n={x:S(e.clientX-t.x-t.width/2)+S(p.translate.x),y:S(e.clientY-t.y-t.height/2)+S(p.translate.y)};N.current.setAttribute("d",to(E.current,n))}else{var r={x:S(e.clientX-t.x-t.width/2)+S(p.translate.x),y:S(e.clientY-t.y-t.height/2)+S(p.translate.y)};C.current.setAttribute("d",to(E.current,r))}},j=function e(t){var n=!!t.target.dataset.portName;if(u){var r=N.current.dataset,o=r.inputNodeId,p=r.inputPortName,d=r.outputNodeId,f=r.outputPortName;if(l({type:"REMOVE_CONNECTION",input:{nodeId:o,portName:p},output:{nodeId:d,portName:f}}),n){var m=t.target.dataset,y=m.portName,b=m.nodeId,_=m.portType,g=m.portTransputType;if(d!==b&&"output"!==g)h[_].acceptTypes.includes(i)&&l({type:"ADD_CONNECTION",input:{nodeId:b,portName:y},output:{nodeId:d,portName:f}})}}else if(n){var x=t.target.dataset,w=x.portName,E=x.nodeId,O=x.portType,C=x.portTransputType;if(E!==c&&"output"!==C)h[O].acceptTypes.includes(i)&&(l({type:"ADD_CONNECTION",output:{nodeId:c,portName:a},input:{nodeId:E,portName:w}}),s())}v(!1),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",k)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{zIndex:999},onMouseDown:function(e){e.preventDefault(),e.stopPropagation();var t=O.current.getBoundingClientRect(),n=document.getElementById(f).getBoundingClientRect();if(u){if(N.current=document.querySelector('[data-input-node-id="'+c+'"][data-input-port-name="'+a+'"]'),!!N.current){N.current.parentNode.style.zIndex=9999;var r=eo(N.current.dataset.outputNodeId,N.current.dataset.outputPortName,"output"),o={x:S(r.x-n.x+r.width/2-n.width/2)+S(p.translate.x),y:S(r.y-n.y+r.width/2-n.height/2)+S(p.translate.y)};w(o),E.current=o,v(!0),document.addEventListener("mouseup",j),document.addEventListener("mousemove",k)}}else{var i={x:S(t.x-n.x+t.width/2-n.width/2)+S(p.translate.x),y:S(t.y-n.y+t.width/2-n.height/2)+S(p.translate.y)};w(i),E.current=i,v(!0),document.addEventListener("mouseup",j),document.addEventListener("mousemove",k)}},className:co,"data-port-color":n,"data-port-name":a,"data-port-type":i,"data-port-transput-type":u?"input":"output","data-node-id":c,"data-flume-component":"port-handle",onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:O}),b&&!u?o.a.createElement(T,{node:document.getElementById("__node_editor_drag_connection__"+d)},o.a.createElement(jo,{from:x,to:x,lineRef:C})):null)},Lo=function(e){var t=e.id,n=e.width,r=e.x,a=e.y,i=e.stageRect,u=e.connections,c=e.type,s=e.inputData,l=e.onDragStart,p=e.renderNodeHeader,d=o.a.useContext(je),f=o.a.useContext(Oe),h=o.a.useContext(Ne),m=o.a.useContext(ke),y=f[c],b=y.label,v=y.deletable,_=y.inputs,g=void 0===_?[]:_,x=y.outputs,w=void 0===x?[]:x,E=o.a.useRef(),O=o.a.useState(!1),C=ge(O,2),N=C[0],S=C[1],k=o.a.useState({x:0,y:0}),j=ge(k,2),P=j[0],I=j[1],A=function(e){return 1/m.scale*e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];Object.entries(e).forEach((function(e){var r=ge(e,2),o=r[0];r[1].forEach((function(e){var r=eo(t,o,n?"output":"input",d),a=eo(e.nodeId,e.portName,n?"input":"output",d),u=a.width/2,c=void 0;c=n?t+o+e.nodeId+e.portName:e.nodeId+e.portName+t+o;var s=void 0,l=d.current.connections[c];l?s=l:(s=document.querySelector('[data-connection-id="'+c+'"]'),d.current.connections[c]=s);var p={x:A(r.x-i.current.x+u-i.current.width/2)+A(m.translate.x),y:A(r.y-i.current.y+u-i.current.height/2)+A(m.translate.y)},f={x:A(a.x-i.current.x+u-i.current.width/2)+A(m.translate.x),y:A(a.y-i.current.y+u-i.current.height/2)+A(m.translate.y)};s.setAttribute("d",to(p,f))}))}))},D=function(){u&&(R(u.inputs),R(u.outputs,!0))},M=function(e){return e.preventDefault(),e.stopPropagation(),I({x:e.clientX,y:e.clientY}),S(!0),!1},L=function(){S(!1)},z=function(){h({type:"REMOVE_NODE",nodeId:t})};return o.a.createElement(Ae,{className:Pr,style:{width:n,transform:"translate("+r+"px, "+a+"px)"},onDragStart:function(e){l()},onDrag:function(e){var t=e.x,n=e.y;E.current.style.transform="translate("+t+"px,"+n+"px)",D()},onDragEnd:function(e,n){h(ve({type:"SET_NODE_COORDINATES"},n,{nodeId:t}))},innerRef:E,"data-node-id":t,"data-flume-component":"node",onContextMenu:M,stageState:m,stageRect:i},p?p(zo,y,{openMenu:M,closeMenu:L,deleteNode:z}):o.a.createElement(zo,null,b),o.a.createElement(Ao,{nodeId:t,inputs:g,outputs:w,connections:u,updateNodeConnections:D,inputData:s}),N?o.a.createElement(T,null,o.a.createElement(we,{x:P.x,y:P.y,options:[].concat(xe(!1!==v?[{label:"Delete Node",value:"deleteNode",description:"Deletes a node and all of its connections."}]:[])),onRequestClose:L,onOptionSelected:function(e){switch(e.value){case"deleteNode":z();break;default:return}},hideFilter:!0,label:"Node Options",emptyText:"This node has no options."})):null)},zo=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=_e(e,["children","className"]);return o.a.createElement("h2",ve({},a,{className:Ir+(r?" "+r:""),"data-flume-component":"node-header"}),t)},Bo="Comment_wrapper__1Pnbd",qo="Comment_text__Ie2nX",Wo="Comment_resizeThumb__20KWn",Uo="Comment_textarea__2Rze3";h('.Comment_wrapper__1Pnbd {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  padding: 5px;\n  background: rgba(147, 154, 158, 0.7);\n  border-radius: 5px;\n  border-bottom-right-radius: 2px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n  min-width: 80px;\n  font-size: 14px;\n  display: flex;\n  text-shadow: 0px 1px rgba(255,255,255,.1);\n  border: 1px solid rgba(168, 176, 181, 0.7);\n  user-select: none;\n}\n  .Comment_wrapper__1Pnbd[data-color="red"]{\n    background: rgba(213, 84, 103, 0.65);\n    border-color: rgba(227, 85, 119, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="purple"]{\n    background: rgba(153, 83, 196, 0.65);\n    border-color: rgba(156, 85, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="blue"]{\n    background: rgba(76, 142, 203, 0.65);\n    border-color: rgba(85, 159, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="green"]{\n    background: rgba(70, 200, 130, 0.65);\n    border-color: rgba(85, 227, 150, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="yellow"]{\n    background: rgba(200, 167, 63, 0.65);\n    border-color: rgba(227, 213, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="orange"]{\n    background: rgba(215, 123, 64, 0.65);\n    border-color: rgba(227, 149, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="pink"]{\n    background: rgba(255, 102, 208, 0.65);\n    border-color: rgba(242, 131, 228, 0.65);\n  }\n.Comment_text__Ie2nX{\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  white-space: pre-wrap;\n  cursor: default;\n}\n.Comment_resizeThumb__20KWn {\n  width: 10px;\n  height: 10px;\n  border-radius: 4px 0px 4px 0px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  cursor: nwse-resize;\n}\n.Comment_resizeThumb__20KWn::before,\n  .Comment_resizeThumb__20KWn::after {\n    content: "";\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 250%;\n    height: 0px;\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\n    transform-origin: center right;\n    transform: rotate(-45deg) scale(0.5);\n  }\n.Comment_resizeThumb__20KWn::after {\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\n  }\n.Comment_textarea__2Rze3 {\n  resize: none;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border-radius: 3px;\n  background: rgba(255,255,255,.1);\n  border: none;\n  outline: none;\n  margin: -2px;\n  margin-top: -1px;\n  padding-top: 0px;\n  font-size: 14px;\n}\n.Comment_textarea__2Rze3::placeholder{\n    color: rgba(0,0,0,.5);\n  }\n');var Fo="ColorPicker_wrapper__1M1j2",Vo="ColorPicker_colorButtonWrapper__1ijdj",Ho="ColorPicker_colorButton__1Qcuq";h('.ColorPicker_wrapper__1M1j2{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  color: #fff;\n  display: flex;\n  width: 102px;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ColorPicker_wrapper__1M1j2{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ColorPicker_colorButtonWrapper__1ijdj{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px;\n}\n.ColorPicker_colorButton__1Qcuq{\n  border-radius: 3px;\n  border: none;\n  width: 20px;\n  height: 20px;\n  background: rgba(204, 204, 204, 1);\n}\n.ColorPicker_colorButton__1Qcuq[data-color="red"]{\n    background: rgba(210, 101, 111, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="purple"]{\n    background: rgba(159, 101, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="blue"]{\n    background: rgba(101, 151, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="green"]{\n    background: rgba(101, 210, 168, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="orange"]{\n    background: rgba(210, 137, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="yellow"]{\n    background: rgba(210, 196, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="pink"]{\n    background: rgba(241, 124, 226, 1)\n  }\n.ColorPicker_colorButton__1Qcuq:hover{\n    opacity: .8;\n  }\n');var Yo=function(e,t){return void 0!==e?e:t},Ko=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return{}};return function(r){return t(r),ve({type:e.type,label:Yo(r.label,e.label||""),name:Yo(r.name,e.name||""),defaultValue:Yo(r.defaultValue,e.defaultValue),setValue:Yo(r.setValue,void 0)},n(r))}},Xo={text:Ko({type:"text",name:"text",defaultValue:""}),select:Ko({type:"select",name:"select",options:[],defaultValue:""},(function(){}),(function(e){return{options:Yo(e.options,[]),getOptions:Yo(e.getOptions,void 0),placeholder:Yo(e.placeholder,void 0)}})),number:Ko({type:"number",name:"number",defaultValue:0},(function(){}),(function(e){return{step:Yo(e.step,void 0)}})),checkbox:Ko({type:"checkbox",name:"checkbox",defaultValue:!1}),multiselect:Ko({type:"multiselect",name:"multiselect",options:[],defaultValue:[]},(function(){}),(function(e){return{options:Yo(e.options,[]),getOptions:Yo(e.getOptions,void 0),placeholder:Yo(e.placeholder,void 0)}})),custom:Ko({type:"custom",name:"custom",render:function(){},defaultValue:void 0},(function(){}),(function(e){return{render:Yo(e.render,(function(){}))}}))},Jo={yellow:"yellow",orange:"orange",red:"red",pink:"pink",purple:"purple",blue:"blue",green:"green",grey:"grey"},Qo=function(e){return Object.values(e).reduce((function(e,t){return e[t.type]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:t.type,name:e.name||t.name,label:e.label||t.label,noControls:Yo(e.noControls,!1),color:e.color||t.color,hidePort:Yo(e.hidePort,t.hidePort),controls:Yo(e.controls,t.controls)}},e}),{})},$o=function(){function e(t){me(this,e),t?(this.nodeTypes=ve({},t.nodeTypes),this.portTypes=ve({},t.portTypes)):(this.nodeTypes={},this.portTypes={})}return ye(e,[{key:"addRootNodeType",value:function(e){return this.addNodeType(ve({},e,{root:!0,addable:!1,deletable:!1})),this}},{key:"addNodeType",value:function(e){if("object"!==(void 0===e?"undefined":he(e))&&null!==e)throw new Error("You must provide a configuration object when calling addNodeType.");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addNodeType.');if(void 0!==e.initialWidth&&"number"!=typeof e.initialWidth)throw new Error('Optional key, "initialWidth" must be a number when calling addNodeType.');if(void 0!==this.nodeTypes[e.type])throw new Error('A node with type "'+e.type+'" has already been declared.');var t={type:e.type,label:Yo(e.label,""),description:Yo(e.description,""),addable:Yo(e.addable,!0),deletable:Yo(e.deletable,!0)};if(e.initialWidth&&(t.initialWidth=e.initialWidth),void 0!==e.sortIndex&&(t.sortIndex=e.sortIndex),"function"==typeof e.inputs){var n=e.inputs(Qo(this.portTypes));if(!Array.isArray(n)&&"function"!=typeof e.inputs)throw new Error('When providing a function to the "inputs" key, you must return either an array or a function.');t.inputs=n}else if(void 0===e.inputs)t.inputs=[];else{if(!Array.isArray(e.inputs))throw new Error('Optional key, "inputs" must be an array.');t.inputs=e.inputs}if("function"==typeof e.outputs){var r=e.outputs(Qo(this.portTypes));if(!Array.isArray(r)&&"function"!=typeof e.outputs)throw new Error('When providing a function to the "outputs" key, you must return either an array or a function.');t.outputs=r}else if(void 0===e.outputs)t.outputs=[];else{if(void 0!==e.outputs&&!Array.isArray(e.outputs))throw new Error('Optional key, "outputs" must be an array.');t.outputs=e.outputs}if(void 0!==e.root){if("boolean"!=typeof e.root)throw new Error('Optional key, "root" must be a boolean.');t.root=e.root}return this.nodeTypes[e.type]=t,this}},{key:"removeNodeType",value:function(e){if(this.nodeTypes[e]){var t=this.nodeTypes,n=(t[e],_e(t,[e]));this.nodeTypes=n}else console.error('Non-existent node type "'+e+'" cannot be removed.');return this}},{key:"addPortType",value:function(e){if("object"!==(void 0===e?"undefined":he(e))&&null!==e)throw new Error("You must provide a configuration object when calling addPortType");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addPortType.');if(void 0!==this.portTypes[e.type])throw new Error('A port with type "'+e.type+'" has already been declared.');if("string"!=typeof e.name)throw new Error('Required key, "name" must be a string when calling addPortType.');var t={type:e.type,name:e.name,label:Yo(e.label,""),color:Yo(e.color,Jo.grey),hidePort:Yo(e.hidePort,!1)};if(void 0===e.acceptTypes)t.acceptTypes=[e.type];else{if(!Array.isArray(e.acceptTypes))throw new Error('Optional key, "acceptTypes" must be an array.');t.acceptTypes=e.acceptTypes}if(void 0===e.controls)t.controls=[];else{if(!Array.isArray(e.controls))throw new Error('Optional key, "controls" must be an array.');t.controls=e.controls}return this.portTypes[e.type]=t,this}},{key:"removePortType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipDynamicNodesCheck,r=void 0!==n&&n;if(this.portTypes[e]){if(!r){var o=Object.values(this.nodeTypes).filter((function(e){return"function"==typeof e.inputs||"function"==typeof e.outputs}));o.length&&console.warn("We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.")}var a=Object.values(this.nodeTypes).filter((function(t){return Array.isArray(t.inputs)&&t.inputs.find((function(t){return t.type===e}))||Array.isArray(t.outputs)&&t.outputs.find((function(t){return t.type===e}))}));if(a.length)throw new Error('Cannot delete port type "'+e+'" without first deleting all node types using these ports: ['+a.map((function(e){return""+e.type})).join(", ")+"]");var i=this.portTypes,u=(i[e],_e(i,[e]));this.portTypes=u}else console.error('Non-existent port type "'+e+'" cannot be removed.');return this}}]),e}(),Go=function(e){var t=e.x,n=e.y,r=e.onColorPicked,a=e.onRequestClose,i=o.a.useRef(),u=o.a.useCallback((function(e){i.current&&!i.current.contains(e.target)&&(a(),document.removeEventListener("click",u),document.removeEventListener("contextmenu",u))}),[i,a]),c=o.a.useCallback((function(e){27===e.keyCode&&(a(),document.removeEventListener("keydown",c))}),[a]);return o.a.useEffect((function(){return document.addEventListener("keydown",c),document.addEventListener("click",u),document.addEventListener("contextmenu",u),function(){document.removeEventListener("click",u),document.removeEventListener("contextmenu",u),document.removeEventListener("keydown",c)}}),[u,c]),o.a.createElement("div",{"data-flume-component":"color-picker",ref:i,className:Fo,style:{left:t,top:n}},Object.values(Jo).map((function(e){return o.a.createElement(Zo,{onSelected:function(){r(e),a()},color:e,key:e})})))},Zo=function(e){var t=e.color,n=e.onSelected;return o.a.createElement("div",{className:Vo},o.a.createElement("button",{"data-flume-component":"color-button",className:Ho,onClick:n,"data-color":t,"aria-label":t}))},ea=function(e){var t=e.dispatch,n=e.id,r=e.x,a=e.y,i=e.width,u=e.height,c=e.color,s=e.text,l=e.stageRect,p=e.onDragStart,d=e.isNew,f=o.a.useContext(ke),h=o.a.useRef(),m=o.a.useRef(),y=o.a.useState(!1),b=ge(y,2),v=b[0],_=b[1],g=o.a.useState(!1),x=ge(g,2),w=x[0],E=x[1],O=o.a.useState(!1),C=ge(O,2),N=C[0],S=C[1],k=o.a.useState({x:0,y:0}),j=ge(k,2),P=j[0],I=j[1],A=o.a.useState({x:0,y:0}),R=ge(A,2),D=R[0],M=R[1],L=function(){_(!0)};return o.a.useEffect((function(){d&&(_(!0),t({type:"REMOVE_COMMENT_NEW",id:n}))}),[d,t,n]),o.a.createElement(Ae,{innerRef:h,className:Bo,style:{transform:"translate("+r+"px,"+a+"px)",width:i,height:u,zIndex:v?999:""},stageState:f,stageRect:l,onDragStart:function(e){p()},onDrag:function(e){var t=e.x,n=e.y;h.current.style.transform="translate("+t+"px,"+n+"px)"},onDragEnd:function(e,r){var o=r.x,a=r.y;t({type:"SET_COMMENT_COORDINATES",id:n,x:o,y:a})},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),I({x:e.clientX,y:e.clientY}),S(!0),!1},onDoubleClick:L,onWheel:function(e){return e.stopPropagation()},"data-color":c,"data-flume-component":"comment"},v?o.a.createElement("textarea",{"data-flume-component":"comment-textarea",className:Uo,onChange:function(e){t({type:"SET_COMMENT_TEXT",id:n,text:e.target.value})},onMouseDown:function(e){return e.stopPropagation()},onBlur:function(){_(!1)},placeholder:"Text of the comment...",autoFocus:!0,value:s,ref:m}):o.a.createElement("div",{"data-flume-component":"comment-text","data-comment":!0,className:qo},s),o.a.createElement(Ae,{className:Wo,stageState:f,stageRect:l,onDrag:function(e){var t=de(e.x-r+10,80,1e4),n=de(e.y-a+10,30,1e4);h.current.style.width=t+"px",h.current.style.height=n+"px"},onDragEnd:function(e,o){var i=de(o.x-r+10,80,1e4),u=de(o.y-a+10,30,1e4);t({type:"SET_COMMENT_DIMENSIONS",id:n,width:i,height:u})},"data-flume-component":"comment-resize-handle"}),N?o.a.createElement(T,null,o.a.createElement(we,{hideFilter:!0,label:"Comment Options",x:P.x,y:P.y,options:[{value:"edit",label:"Edit Comment",description:"Edit the text of the comment"},{value:"color",label:"Change Color",description:"Change the color of the comment"},{value:"delete",label:"Delete Comment",description:"Delete the comment"}],onRequestClose:function(){return S(!1)},onOptionSelected:function(e,r){switch(e.value){case"edit":L();break;case"color":M(P),E(!0);break;case"delete":t({type:"DELETE_COMMENT",id:n})}}})):null,w?o.a.createElement(T,null,o.a.createElement(Go,{x:D.x,y:D.y,onRequestClose:function(){return E(!1)},onColorPicked:function(e){t({type:"SET_COMMENT_COLOR",id:n,color:e})}})):null)},ta="Toaster_toaster__1eC3T",na="Toaster_toast__3YHVS",ra="Toaster_title__4InNr",oa="Toaster_timer__3dGzF",aa="Toaster_exitButton__1S_Ks";h('.Toaster_toaster__1eC3T{\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 15px;\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\n  pointer-events: none;\n}\n.Toaster_toast__3YHVS{\n  position: absolute;\n  left: calc(50% - 200px);\n  top: 0px;\n  pointer-events: all;\n  width: 400px;\n  padding: 10px;\n  padding-top: 7px;\n  padding-right: 16px;\n  border-radius: 6px;\n  background: rgba(231, 231, 231, 1);\n  border: 1px solid;\n  margin-bottom: 5px;\n  transition: transform 300ms;\n  flex: 0 0 auto;\n  animation: Toaster_fade-in__2526Y 150ms;\n  user-select: none;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n}\n.Toaster_toast__3YHVS[data-type="danger"]{\n    background: rgb(255, 116, 137);\n    border-color: rgb(254, 99, 136);\n    color: rgb(66, 6, 20);\n  }\n.Toaster_toast__3YHVS[data-type="info"]{\n    background: rgb(76, 193, 250);\n    border-color: rgb(103, 182, 255);\n    color: rgb(5, 36, 64);\n  }\n.Toaster_toast__3YHVS[data-type="success"]{\n    background: rgb(81, 230, 150);\n    border-color: rgb(85, 227, 150);\n    color: rgb(7, 57, 30);\n  }\n.Toaster_toast__3YHVS[data-type="warning"]{\n    background: rgb(245, 208, 93);\n    border-color: rgb(247, 235, 125);\n    color: rgb(83, 75, 8);\n  }\n.Toaster_toast__3YHVS[data-exiting=true]{\n    animation: Toaster_fade-out__2lM6E 150ms;\n    animation-fill-mode: forwards;\n  }\n.Toaster_toast__3YHVS p{\n  margin: 0px;\n}\n.Toaster_title__4InNr{\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.Toaster_timer__3dGzF{\n  position: absolute;\n  bottom: -1px;\n  left: -1px;\n  width: calc(100% + 2px);\n  height: 3px;\n  background: rgba(0,0,0,.4);\n  transform-origin: left center;\n  animation: Toaster_timer__3dGzF 1000ms linear;\n  animation-fill-mode: forwards;\n  z-index: 9;\n}\n.Toaster_exitButton__1S_Ks{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n  background: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  color: inherit;\n  opacity: .6;\n}\n.Toaster_exitButton__1S_Ks:hover{\n  opacity: .9;\n}\n\n@keyframes Toaster_fade-in__2526Y {\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n}\n\n@keyframes Toaster_fade-out__2lM6E {\n  from{\n    opacity: 1;\n  }\n  to{\n    opacity: 0;\n  }\n}\n\n@keyframes Toaster_timer__3dGzF {\n  from{\n    transform: scaleX(1);\n  }\n  to{\n    transform: scaleX(0);\n  }\n}\n');var ia=function(e){var t=e.toasts,n=void 0===t?[]:t,r=e.dispatchToasts,a=o.a.useCallback((function(e,t){r({type:"SET_HEIGHT",id:e,height:t})}),[r]),i=o.a.useCallback((function(e){r({type:"SET_EXITING",id:e})}),[r]),u=o.a.useCallback((function(e){r({type:"REMOVE_TOAST",id:e})}),[r]);return o.a.createElement("div",{className:ta},n.map((function(e,t){return o.a.createElement(ua,ve({},e,{onHeightReceived:a,onExitRequested:i,onRemoveRequested:u,y:n.slice(0,t+1).reduce((function(e,t){return t.height+e+5}),0),key:e.id}))})))},ua=function(e){var t=e.id,n=e.title,r=e.message,a=e.duration,i=e.type,u=e.exiting,c=e.y,s=e.onHeightReceived,l=e.onExitRequested,p=e.onRemoveRequested,d=o.a.useState(!1),f=ge(d,2),h=f[0],m=f[1],y=o.a.useRef(),b=o.a.useRef(),v=o.a.useCallback((function(){m(!0),clearTimeout(b.current)}),[]),_=o.a.useCallback((function(){m(!1),b.current=setTimeout((function(){return l(t)}),a)}),[t,a,l]);o.a.useLayoutEffect((function(){var e=y.current.getBoundingClientRect().height;s(t,e)}),[s,t]),o.a.useEffect((function(){return _(),v}),[_,v]);return o.a.createElement("div",{"data-flume-component":"toast",ref:y,className:na,"data-type":i,style:{transform:"translateY(-"+c+"px)"},"data-exiting":u,onAnimationEnd:function(){u&&p(t)},onMouseEnter:v,onMouseLeave:_,role:"alert"},n?o.a.createElement("span",{"data-flume-component":"toast-title",className:ra},n):null,o.a.createElement("p",{"data-flume-component":"toast-message"},r),!h&&o.a.createElement("div",{className:oa,style:{animationDuration:a+"ms"},onAnimationEnd:function(e){return e.stopPropagation()}}),o.a.createElement("button",{"data-flume-component":"toast-close",className:aa,onClick:function(){v(),l(t)}},""))},ca="Connections_svgWrapper__3mXcU";h(".Connections_svgWrapper__3mXcU{\n  position: absolute;\n  left: 0px;\n  height: 0px;\n}\n");var sa=function(e){e.nodes;var t=e.editorId;return o.a.createElement("div",{className:ca,id:"__node_editor_connections__"+t})},la=function(e,t){var n=!1;return function r(o){for(var a=Object.values(e[o].connections.outputs),i=0;i<a.length&&!n;i++)for(var u=a[i],c=0;c<u.length;c++){var s=u[c];if(s.nodeId===t){n=!0;break}r(s.nodeId)}}(t),n},pa=function(e,t,n,r){var o;return ve({},e,(be(o={},t.nodeId,ve({},e[t.nodeId],{connections:ve({},e[t.nodeId].connections,{inputs:ve({},e[t.nodeId].connections.inputs,be({},t.portName,[].concat(xe(e[t.nodeId].connections.inputs[t.portName]||[]),[{nodeId:n.nodeId,portName:n.portName}])))})})),be(o,n.nodeId,ve({},e[n.nodeId],{connections:ve({},e[n.nodeId].connections,{outputs:ve({},e[n.nodeId].connections.outputs,be({},n.portName,[].concat(xe(e[n.nodeId].connections.outputs[n.portName]||[]),[{nodeId:t.nodeId,portName:t.portName}])))})})),o))},da=function(e,t,n){var r,o=e[t.nodeId],a=o.connections.inputs,i=(a[t.portName],_e(a,[t.portName])),u=ve({},o,{connections:ve({},o.connections,{inputs:i})}),c=e[n.nodeId],s=c.connections.outputs[n.portName].filter((function(e){return e.nodeId!==t.nodeId||e.portName!==t.portName})),l=ve({},c,{connections:ve({},c.connections,{outputs:ve({},c.connections.outputs,be({},n.portName,s))})});return ve({},e,(be(r={},t.nodeId,u),be(r,n.nodeId,l),r))},fa=function(e,t){return Object.entries(e).reduce((function(e,n){var r=ge(n,2),o=r[0],a=r[1].filter((function(e){return e.nodeId!==t}));return a.length&&(e[o]=a),e}),{})},ha=function(e,t){return{inputs:fa(e.inputs,t),outputs:fa(e.outputs,t)}},ma=function(e,t){e[t];var n=_e(e,[t]);return n=Object.values(n).reduce((function(e,n){return e[n.id]=ve({},n,{connections:ha(n.connections,t)}),e}),{}),function(e){var t=document.querySelectorAll('[data-output-node-id="'+e+'"], [data-input-node-id="'+e+'"]'),n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){a.value.parentNode.remove()}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}(t),n},ya=function(e,t,n,r){var o=ve({},e);Object.values(o).map((function(e){return t[e.type]?void 0:e.id})).filter((function(e){return e})).forEach((function(e){o=va(o,{type:"REMOVE_NODE",nodeId:e},{nodeTypes:t,portTypes:n,context:r})}));var a=Object.values(o).reduce((function(e,o){var a=t[o.type],i=ba({node:o,nodeType:a,portTypes:n,context:r}),u=Object.entries(o.inputData).reduce((function(e,t){var n=ge(t,2),r=n[0],o=n[1];return void 0!==i[r]&&(e[r]=o),e}),{}),c=ve({},i,u);return e[o.id]=ve({},o,{inputData:c}),e}),{});return a=Object.values(a).reduce((function(e,n){var r=ve({},n),o=t[n.type];return o.root!==n.root&&(o.root&&!n.root?r.root=o.root:!o.root&&n.root&&delete r.root),e[n.id]=r,e}),{})},ba=function(e){var t=e.node,n=e.nodeType,r=e.portTypes,o=e.context;return(Array.isArray(n.inputs)?n.inputs:n.inputs(t.inputData,t.connections,o)).reduce((function(e,t){var n=r[t.type];return e[t.name||n.name]=(t.controls||n.controls||[]).reduce((function(e,t){return e[t.name]=t.defaultValue,e}),{}),e}),{})},va=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=n.nodeTypes,o=n.portTypes,a=n.cache,i=n.circularBehavior,u=n.context,c=arguments[3];switch(t.type){case"ADD_CONNECTION":var s=t.input,l=t.output,p=!e[s.nodeId].connections.inputs[s.portName];if(p){var d="warn"===i||"allow"===i,f=pa(e,s,l),h=la(f,l.nodeId);return h&&!d?(c({type:"ADD_TOAST",title:"Unable to connect",message:"Connecting these nodes would result in an infinite loop.",toastType:"warning",duration:5e3}),e):(h&&"warn"===i&&c({type:"ADD_TOAST",title:"Circular Connection Detected",message:"Connecting these nodes has created an infinite loop.",toastType:"warning",duration:5e3}),f)}return e;case"REMOVE_CONNECTION":var m=t.input,y=t.output,b=y.nodeId+y.portName+m.nodeId+m.portName;return delete a.current.connections[b],no({id:b}),da(e,m,y);case"DESTROY_TRANSPUT":var v=t.transput,_=t.transputType,g=v.nodeId+v.portName+_;delete a.current.ports[g];var x="input"===_?"inputs":"outputs",w=e[v.nodeId].connections[x][v.portName];return w&&w.length?w.reduce((function(e,t){var n=ge("input"===_?[v,t]:[t,v],2),r=n[0],o=n[1],i=o.nodeId+o.portName+r.nodeId+r.portName;return delete a.current.connections[i],no({id:i}),da(e,r,o)}),e):e;case"ADD_NODE":var E=t.x,O=t.y,C=t.nodeType,N=t.id,T=t.defaultNode,S=N||fe(10),k={id:S,x:E,y:O,type:C,width:r[C].initialWidth||200,connections:{inputs:{},outputs:{}},inputData:{}};return k.inputData=ba({node:k,nodeType:r[C],portTypes:o,context:u}),T&&(k.defaultNode=!0),r[C].root&&(k.root=!0),ve({},e,be({},S,k));case"REMOVE_NODE":var j=t.nodeId;return ma(e,j);case"HYDRATE_DEFAULT_NODES":var P=ve({},e);for(var I in P)if(P[I].defaultNode){var A=fe(10),R=P[I],D=(R.id,R.defaultNode,_e(R,["id","defaultNode"]));P[A]=ve({},D,{id:A}),delete P[I]}return P;case"SET_PORT_DATA":var M=t.nodeId,L=t.portName,z=t.controlName,B=t.data,q=t.setValue,W=ve({},e[M].inputData,be({},L,ve({},e[M].inputData[L],be({},z,B))));return q&&(W=q(W,e[M].inputData)),ve({},e,be({},M,ve({},e[M],{inputData:W})));case"SET_NODE_COORDINATES":var U=t.x,F=t.y,V=t.nodeId;return ve({},e,be({},V,ve({},e[V],{x:U,y:F})));default:return e}},_a=function(e,t,n){return ve({},e,be({},t,ve({},e[t],n)))},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"ADD_COMMENT":var n={id:fe(10),text:"",x:t.x,y:t.y,width:200,height:30,color:"blue",isNew:!0};return ve({},e,be({},n.id,n));case"REMOVE_COMMENT_NEW":var r=e[t.id],o=(r.isNew,_e(r,["isNew"]));return ve({},e,be({},t.id,o));case"SET_COMMENT_COORDINATES":return _a(e,t.id,{x:t.x,y:t.y});case"SET_COMMENT_DIMENSIONS":return _a(e,t.id,{width:t.width,height:t.height});case"SET_COMMENT_TEXT":return _a(e,t.id,{text:t.text});case"SET_COMMENT_COLOR":return _a(e,t.id,{color:t.color});case"DELETE_COMMENT":e[t.id];var a=_e(e,[t.id]);return a;default:return e}},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_TOAST":return[{id:fe(5),title:t.title,message:t.message,type:t.toastType||"info",duration:t.duration||1e4,height:0,exiting:!1}].concat(xe(e));case"SET_HEIGHT":var n=e.findIndex((function(e){return e.id===t.id}));return[].concat(xe(e.slice(0,n)),[ve({},e[n],{height:t.height})],xe(e.slice(n+1)));case"SET_EXITING":var r=e.findIndex((function(e){return e.id===t.id}));return[].concat(xe(e.slice(0,r)),[ve({},e[r],{exiting:!0})],xe(e.slice(r+1)));case"REMOVE_TOAST":var o=e.findIndex((function(e){return e.id===t.id}));return[].concat(xe(e.slice(0,o)),xe(e.slice(o+1)));default:return e}},wa=function(e,t){var n="function"==typeof t?t(e):t;switch(n.type){case"SET_SCALE":return ve({},e,{scale:n.scale});case"SET_TRANSLATE":return ve({},e,{translate:n.translate});case"SET_TRANSLATE_SCALE":return ve({},e,{translate:n.translate,scale:n.scale});default:return e}},Ea=function e(){me(this,e),this.ports={},this.connections={}},Oa={dragWrapper:"styles_dragWrapper__1P7RD",debugWrapper:"styles_debugWrapper__2OSbY"};h(".styles_dragWrapper__1P7RD{\n  z-index: 9999;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.styles_debugWrapper__2OSbY{\n  display: flex;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  gap: 15px;\n}\n");var Ca=function(e){function t(e,n){me(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.code=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();Ca.maxLoopsExceeded=1;!function(){function e(t,n,r){var o=this;me(this,e),this.resetLoops=function(e){o.maxLoops=void 0!==e?e:1e3,o.loops=0},this.checkLoops=function(){if(o.maxLoops>=0&&o.loops>o.maxLoops)throw new Ca("Max loop count exceeded.",Ca.maxLoopsExceeded);o.loops++},this.getRootNode=function(e){var t=Object.values(e).filter((function(e){return e.root}));if(t.length>1)throw new Error("The root engine must not be called with more than one root node.");return t[0]},this.reduceRootInputs=function(e,t){return Object.entries(e).reduce((function(e,n){var r=ge(n,2),o=r[0],a=r[1],i=t(o,a);return e[i.name]=i.value,e}),{})},this.resolveInputValues=function(e,t,n,r){var a=t.inputs;return"function"==typeof a&&(a=a(e.inputData,e.connections,r)),a.reduce((function(t,a){var i=e.connections.inputs[a.name]||[];return i.length>0?t[a.name]=o.getValueOfConnection(i[0],n,r):t[a.name]=o.resolveInputControls(a.type,e.inputData[a.name]||{},r),t}),{})},this.getValueOfConnection=function(e,t,n){o.checkLoops();var r=t[e.nodeId],a=o.config.nodeTypes[r.type],i=o.resolveInputValues(r,a,t,n);return o.fireNodeFunction(r,i,a,n)[e.portName]},this.config=t,this.fireNodeFunction=r,this.resolveInputControls=n,this.loops=0,this.maxLoops=1e3}ye(e,[{key:"resolveRootNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rootNodeId?e[n.rootNodeId]:this.getRootNode(e);if(r){var o=this.config.nodeTypes[r.type].inputs;"function"==typeof o&&(o=o(r.inputData,r.connections,n.context));var a=o.reduce((function(e,o){return e[o.name]=t.resolveInputControls(o.type,r.inputData[o.name]||{},n.context),e}),{}),i=this.reduceRootInputs(r.connections.inputs,(function(r,o){t.resetLoops(n.maxLoops);var a=void 0;try{a=t.getValueOfConnection(o[0],e,n.context)}catch(e){e.code===Ca.maxLoopsExceeded?console.error(e.message+" Circular nodes detected in "+r+" port."):console.error(e)}finally{return{name:r,value:a}}}));return n.onlyResolveConnected?i:ve({},a,i)}return console.error("A root node was not found. The Root Engine requires that exactly one node be marked as the root node."),{}}}])}();var Na={},Ta=function(e,t){var n=e.comments,a=e.nodes,i=e.nodeTypes,u=void 0===i?{}:i,c=e.portTypes,l=void 0===c?{}:c,d=e.defaultNodes,h=void 0===d?[]:d,m=e.context,y=void 0===m?Na:m,b=e.onChange,v=e.onCommentsChange,_=e.initialScale,g=e.spaceToPan,x=void 0!==g&&g,w=e.hideComments,E=void 0!==w&&w,O=e.disableComments,C=void 0!==O&&O,N=e.disableZoom,T=void 0!==N&&N,S=e.disablePan,k=void 0!==S&&S,j=e.circularBehavior,P=e.renderNodeHeader,I=e.debug,A=function(e){var t=e||(p?f():null),n=Object(r.useState)(t),o=n[0],a=n[1];return s((function(){null===o&&a(f())}),[]),Object(r.useEffect)((function(){!1===p&&(p=!0)}),[]),null!=o?String(o):void 0}(),R=o.a.useRef(new Ea),D=o.a.useRef(),M=o.a.useState(),L=ge(M,2),z=L[0],B=L[1],q=o.a.useReducer(xa,[]),W=ge(q,2),U=W[0],F=W[1],V=o.a.useReducer(function(e,t,n){return function(r,o){return e(r,o,t,n)}}(va,{nodeTypes:u,portTypes:l,cache:R,circularBehavior:j,context:y},B),{},(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],o=arguments[4],a=ya(e,n,r,o);return ve({},a,t.reduce((function(t,a,i){return!Object.values(e).find((function(e){return e.type===a.type}))&&(t=va(t,{type:"ADD_NODE",id:"default-"+i,defaultNode:!0,x:a.x||0,y:a.y||0,nodeType:a.type},{nodeTypes:n,portTypes:r,context:o})),t}),{}))}(a,h,u,l,y)})),H=ge(V,2),Y=H[0],K=H[1],X=o.a.useReducer(ga,n||{}),J=ge(X,2),Q=J[0],$=J[1];o.a.useEffect((function(){K({type:"HYDRATE_DEFAULT_NODES"})}),[]);var G=o.a.useState(!0),Z=ge(G,2),ee=Z[0],te=Z[1],ne=o.a.useReducer(wa,{scale:"number"==typeof _?de(_,.1,7):1,translate:{x:0,y:0}}),re=ge(ne,2),oe=re[0],ae=re[1],ie=o.a.useCallback((function(){ro(Y,oe,A)}),[Y,A,oe]),ue=function(){D.current=document.getElementById(""+kr+A).getBoundingClientRect()};o.a.useLayoutEffect((function(){ee&&(ie(),te(!1))}),[ee,ie]);var ce=function(){te(!0)};o.a.useImperativeHandle(t,(function(){return{getNodes:function(){return Y},getComments:function(){return Q}}}));var se=Po(Y);o.a.useEffect((function(){se&&b&&Y!==se&&b(Y)}),[Y,se,b]);var le=Po(Q);return o.a.useEffect((function(){le&&v&&Q!==le&&v(Q)}),[Q,le,v]),o.a.useEffect((function(){z&&(F(z),B(null))}),[z]),o.a.createElement(Ce.Provider,{value:l},o.a.createElement(Oe.Provider,{value:u},o.a.createElement(Ne.Provider,{value:K},o.a.createElement(Te.Provider,{value:ce},o.a.createElement(Se.Provider,{value:y},o.a.createElement(ke.Provider,{value:oe},o.a.createElement(je.Provider,{value:R},o.a.createElement(Ie.Provider,{value:A},o.a.createElement(Pe.Provider,{value:ue},o.a.createElement(jr,{editorId:A,scale:oe.scale,translate:oe.translate,spaceToPan:x,disablePan:k,disableZoom:T,dispatchStageState:ae,dispatchComments:$,disableComments:C||E,stageRef:D,numNodes:Object.keys(Y).length,outerStageChildren:o.a.createElement(o.a.Fragment,null,I&&o.a.createElement("div",{className:Oa.debugWrapper},o.a.createElement("button",{className:Oa.debugButton,onClick:function(){return console.log(Y)}},"Log Nodes"),o.a.createElement("button",{className:Oa.debugButton,onClick:function(){return console.log(JSON.stringify(Y))}},"Export Nodes"),o.a.createElement("button",{className:Oa.debugButton,onClick:function(){return console.log(Q)}},"Log Comments")),o.a.createElement(ia,{toasts:U,dispatchToasts:F}))},!E&&Object.values(Q).map((function(e){return o.a.createElement(ea,ve({},e,{stageRect:D,dispatch:$,onDragStart:ue,key:e.id}))})),Object.values(Y).map((function(e){return o.a.createElement(Lo,ve({},e,{stageRect:D,onDragEnd:ce,onDragStart:ue,renderNodeHeader:P,key:e.id}))})),o.a.createElement(sa,{nodes:Y,editorId:A}),o.a.createElement("div",{className:Oa.dragWrapper,id:"__node_editor_drag_connection__"+A})))))))))))};Ta=o.a.forwardRef(Ta)}).call(this,n(4))},function(e,t){e.exports=window.ReactDOM},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(6);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=n(7)(!1)).push([e.i,'.active[data-flume-component="node"] > h2{\r\n    background-color:indianred;\r\n}\r\n.started[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(218, 194, 60);\r\n}\r\n.queued[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(84, 131, 202);\r\n}\r\n.finished[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(55, 189, 126);\r\n}\r\n.failed[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(196, 64, 64);\r\n}\r\n.deferred[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(194, 194, 194);\r\n}\r\n.stopped[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(145, 73, 73);\r\n}\r\n.scheduled[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(73, 116, 145);\r\n}\r\n.canceled[data-flume-component="node"] {\r\n    border-bottom: 5px solid rgb(107, 109, 94);\r\n}',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}var i,u,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=u.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),s=null,l=0,p=[],d=n(9);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(_(r.parts[i],t))}else{var u=[];for(i=0;i<r.parts.length;i++)u.push(_(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:u}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],u={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function m(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(e.insertAt.before,n);n.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function _(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=s||(s=b(t)),r=w.bind(null,n,i,!1),o=w.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=O.bind(null,n,t),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=E.bind(null,n),o=function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(u=a[i.id]).refs--,r.push(u)}e&&f(h(e,t),t);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function E(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function O(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(i),u&&URL.revokeObjectURL(u)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function a(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function i(e){return function t(n){return 0===arguments.length||a(n)?t:e.apply(this,arguments)}}function u(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return a(n)?t:i((function(t){return e(n,t)}));default:return a(n)&&a(r)?t:a(n)?i((function(t){return e(t,r)})):a(r)?i((function(t){return e(n,t)})):e(n,r)}}}var c=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function s(e){return"[object String]"===Object.prototype.toString.call(e)}"undefined"!=typeof Symbol&&Symbol.iterator;function l(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var p=Object.prototype.toString,d=function(){return"[object Arguments]"===p.call(arguments)?function(e){return"[object Arguments]"===p.call(e)}:function(e){return l("callee",e)}}(),f=!{toString:null}.propertyIsEnumerable("toString"),h=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m=function(){return arguments.propertyIsEnumerable("length")}(),y=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},b="function"!=typeof Object.keys||m?i((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=m&&d(e);for(t in e)!l(t,e)||o&&"length"===t||(r[r.length]=t);if(f)for(n=h.length-1;n>=0;)l(t=h[n],e)&&!y(r,t)&&(r[r.length]=t),n-=1;return r})):i((function(e){return Object(e)!==e?[]:Object.keys(e)}));Number.isInteger;var v=i((function(e){return null==e}));var _=i((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function g(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function x(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}var w="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function E(e,t,n,r){var o=g(e);function a(e,t){return O(e,t,n.slice(),r.slice())}return!x((function(e,t){return!x(a,t,e)}),g(t),o)}function O(e,t,n,r){if(w(e,t))return!0;var o=_(e);if(o!==_(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!w(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!w(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(o){case"Map":return e.size===t.size&&E(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&E(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=b(e);if(i.length!==b(t).length)return!1;var u=n.concat([e]),c=r.concat([t]);for(a=i.length-1;a>=0;){var s=i[a];if(!l(s,t)||!O(t[s],e[s],u,c))return!1;a-=1}return!0}var C=u((function(e,t){return O(e,t,[],[])}));var N=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function T(e){return"[object Object]"===Object.prototype.toString.call(e)}var S=i((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():c(e)?[]:s(e)?"":T(e)?{}:d(e)?function(){return arguments}():(t=e,"[object Uint8ClampedArray]"===(n=Object.prototype.toString.call(t))||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n?e.constructor.from(""):void 0);var t,n})),k=u((function(e,t){return!v(t)&&e in t}));"function"==typeof Object.assign&&Object.assign;var j=i((function(e){return null!=e&&C(e,S(e))}));var P="\t\n\v\f\r \u2028\u2029\ufeff",I=(String.prototype.trim,n(2)),A=n(1),R=n.n(A);function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=function(e){return function(t){var n=t.name,r=t.label,o=t.others;return I.b.custom({name:n,label:r,render:function(t,n,r,a,i,u){return React.createElement(React.Fragment,null,React.createElement("label",{"data-flume-component":"control-label",className:"Control_controlLabel__3ga2-"},i.label),React.createElement("div",{className:"TextInput_wrapper__tefOZ","data-flume-component":"text-input"},React.createElement("input",D({type:e,"data-flume-component":"text-input-$(itype)",className:"TextInput_input__1QHwS",defaultValue:t,onChange:function(e){return n(e.target.value)}},o))))}})}},L={number:I.b.number,int:I.b.number,float:I.b.number,text:I.b.text,str:I.b.text,checkbox:I.b.checkbox,bool:I.b.checkbox,select:I.b.select,multiselect:I.b.multiselect,color:M("color"),date:M("date"),time:M("time"),month:M("month"),week:M("week"),slider:M("range")};n(5);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=["color","controls"],q=["type"],W=["inputs","outputs","label","category"],U=["type","controls"],F=["type","controls"];function V(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function Q(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(i,e);var t,n,r,a=ee(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),oe(ne(t=a.call(this,e)),"updateConfig",(function(){var e=t.props.config;t.flconfig=new I.c;var n,r=J(e.portTypes);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.color,u=a.controls,c=K(a,B);v(i)||j(i)||(c.color=I.a[i]),v(u)||j(u)?c.controls=[I.b.custom({name:c.type,label:c.label,defaultValue:null,render:function(e,t,n,r,a,i){return o.a.createElement("label",{"data-flume-component":"port-label",className:"IoPorts_portLabel__qOE7y"}," ",a.inputLabel)}})]:c.controls=u.map((function(e){var t=e.type,n=K(e,q);return L[t](Y({},n))}));try{t.flconfig.addPortType(c)}catch(e){}}}catch(e){r.e(e)}finally{r.f()}var s,l=J(e.nodeTypes);try{var p=function(){var e=s.value,n=e.inputs,r=e.outputs,o=e.label,a=e.category,i=K(e,W);if(!v(n)&&!j(n))if(k("source",n))d=new Function(n.source),i.inputs=function(e){return function(t,n,r){return d(e,t,n,r)}};else if(k("path",n))try{i.inputs=function(e){return function(t,r,o){return(0,window.dash_clientside.flowfunc[n.path])(e,t,r,o)}}}catch(e){console.log("Error in evaluating function from path",e)}else i.inputs=function(e){return n.map((function(t){var n=t.type,r=(t.controls,K(t,U));return e[n](r)}))};v(r)||j(r)||(i.outputs=function(e){return r.map((function(t){var n=t.type,r=(t.controls,K(t,F));return e[n](r)}))}),v(a)||j(a)?i.label=o:i.label="".concat(a,": ").concat(o),t.flconfig.addNodeType(i)};for(l.s();!(s=l.n()).done;){var d;p()}}catch(e){l.e(e)}finally{l.f()}if(!t.props.type_safety)for(var f=t.flconfig.portTypes.object.acceptTypes,h=0,m=Object.entries(t.flconfig.portTypes);h<m.length;h++){var y=X(m[h],2);y[0];y[1].acceptTypes=f}})),oe(ne(t),"handleChange",(function(){t.props.setProps({editor_status:"client",nodes:t.nodeEditor.current.getNodes(),comments:t.nodeEditor.current.getComments()})})),oe(ne(t),"setNodeStatus",(function(e,n){var r=t.container.current.querySelector('[data-node-id="'+e+'"]');if(n){var o;(o=r.classList).remove.apply(o,["started","queued","deferred","finished","canceled","stopped","scheduled","failed"]),r.classList.add(n)}})),oe(ne(t),"setNodesStatus",(function(){if(!(v(t.props.nodes_status)|j(t.props.nodes_status)))for(var e=0,n=Object.entries(t.props.nodes_status);e<n.length;e++){var r=X(n[e],2),o=r[0],a=r[1];try{t.setNodeStatus(o,a)}catch(e){}}})),oe(ne(t),"addEventListners",(function(){var e=ne(t),n=t.container.current;"true"!==n.getAttribute("data-event-click")&&(n.addEventListener("click",(function(t){if(!t.ctrlKey){e.localSelectedNodes=new Set;for(var r=0,o=Object.entries(e.props.nodes);r<o.length;r++){var a=X(o[r],2),i=a[0];a[1];try{n.querySelector('[data-node-id = "'+i+'"]').classList.remove("active")}catch(e){}}}var u=t.target.closest("[class^=Node_wrapper]");if(u){var c=u.getAttribute("data-node-id");e.localSelectedNodes.add(c),u.classList.add("active")}e.props.setProps({selected_nodes:V(e.localSelectedNodes)})})),n.addEventListener("dblclick",(function(t){var n=t.target.closest("[class^=Node_wrapper]");if(n){var r=n.getAttribute("data-node-id");e.props.setProps({double_clicked_node:r})}})),n.setAttribute("data-event-click","true"))})),t.nodeEditor=o.a.createRef(),t.container=o.a.createRef(),t.ukey=(new Date).toISOString(),t.localSelectedNodes=new Set,t.updateConfig(),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.addEventListners()}},{key:"componentDidUpdate",value:function(e){this.props.config!==e.config&&this.updateConfig(),"server"===this.props.editor_status&&(this.ukey=(Math.random()+1).toString(36).substring(7)),this.setNodesStatus()}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,style:{height:"100%",zIndex:-1},ref:this.container},o.a.createElement(I.d,{ref:this.nodeEditor,portTypes:this.flconfig.portTypes,nodeTypes:this.flconfig.nodeTypes,nodes:this.props.nodes,defaultNodes:this.props.default_nodes,context:this.props.context,initialScale:this.props.initial_scale,disableZoom:this.props.disable_zoom,disablePan:this.props.disable_pan,spaceToPan:this.props.space_to_pan,onChange:this.handleChange,onCommentsChange:this.handleChange,key:this.ukey}))}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ae.defaultProps={},ae.propTypes={id:R.a.string,style:R.a.object,nodes:R.a.object,nodes_status:R.a.object,editor_status:R.a.string,selected_nodes:R.a.array,double_clicked_node:R.a.string,comments:R.a.object,type_safety:R.a.bool,default_nodes:R.a.array,context:R.a.object,initial_scale:R.a.number,disable_zoom:R.a.bool,disable_pan:R.a.bool,space_to_pan:R.a.bool,config:R.a.object,setProps:R.a.func},n.d(t,"Flowfunc",(function(){return ae}))}]);
//# sourceMappingURL=flowfunc.min.js.map
//# sourceMappingURL=flowfunc.min.js.map